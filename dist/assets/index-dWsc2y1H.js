var vC=Object.defineProperty;var wC=(n,e,t)=>e in n?vC(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var _C=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var _e=(n,e,t)=>wC(n,typeof e!="symbol"?e+"":e,t);var f7=_C((Lr,Or)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var Fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function su(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tm={exports:{}},Hu={},Sm={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function EC(){if(pw)return Ze;pw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,P={};function N($,ee,ge){this.props=$,this.context=ee,this.refs=P,this.updater=ge||T}N.prototype.isReactComponent={},N.prototype.setState=function($,ee){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,ee,"setState")},N.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function k(){}k.prototype=N.prototype;function R($,ee,ge){this.props=$,this.context=ee,this.refs=P,this.updater=ge||T}var M=R.prototype=new k;M.constructor=R,S(M,N.prototype),M.isPureReactComponent=!0;var z=Array.isArray,Q=Object.prototype.hasOwnProperty,se={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function L($,ee,ge){var Ee,ye={},ke=null,Me=null;if(ee!=null)for(Ee in ee.ref!==void 0&&(Me=ee.ref),ee.key!==void 0&&(ke=""+ee.key),ee)Q.call(ee,Ee)&&!U.hasOwnProperty(Ee)&&(ye[Ee]=ee[Ee]);var Te=arguments.length-2;if(Te===1)ye.children=ge;else if(1<Te){for(var De=Array(Te),Ue=0;Ue<Te;Ue++)De[Ue]=arguments[Ue+2];ye.children=De}if($&&$.defaultProps)for(Ee in Te=$.defaultProps,Te)ye[Ee]===void 0&&(ye[Ee]=Te[Ee]);return{$$typeof:n,type:$,key:ke,ref:Me,props:ye,_owner:se.current}}function O($,ee){return{$$typeof:n,type:$.type,key:ee,ref:$.ref,props:$.props,_owner:$._owner}}function F($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function A($){var ee={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ge){return ee[ge]})}var V=/\/+/g;function x($,ee){return typeof $=="object"&&$!==null&&$.key!=null?A(""+$.key):ee.toString(36)}function le($,ee,ge,Ee,ye){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var Me=!1;if($===null)Me=!0;else switch(ke){case"string":case"number":Me=!0;break;case"object":switch($.$$typeof){case n:case e:Me=!0}}if(Me)return Me=$,ye=ye(Me),$=Ee===""?"."+x(Me,0):Ee,z(ye)?(ge="",$!=null&&(ge=$.replace(V,"$&/")+"/"),le(ye,ee,ge,"",function(Ue){return Ue})):ye!=null&&(F(ye)&&(ye=O(ye,ge+(!ye.key||Me&&Me.key===ye.key?"":(""+ye.key).replace(V,"$&/")+"/")+$)),ee.push(ye)),1;if(Me=0,Ee=Ee===""?".":Ee+":",z($))for(var Te=0;Te<$.length;Te++){ke=$[Te];var De=Ee+x(ke,Te);Me+=le(ke,ee,ge,De,ye)}else if(De=y($),typeof De=="function")for($=De.call($),Te=0;!(ke=$.next()).done;)ke=ke.value,De=Ee+x(ke,Te++),Me+=le(ke,ee,ge,De,ye);else if(ke==="object")throw ee=String($),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Me}function ue($,ee,ge){if($==null)return $;var Ee=[],ye=0;return le($,Ee,"","",function(ke){return ee.call(ge,ke,ye++)}),Ee}function X($){if($._status===-1){var ee=$._result;ee=ee(),ee.then(function(ge){($._status===0||$._status===-1)&&($._status=1,$._result=ge)},function(ge){($._status===0||$._status===-1)&&($._status=2,$._result=ge)}),$._status===-1&&($._status=0,$._result=ee)}if($._status===1)return $._result.default;throw $._result}var oe={current:null},K={transition:null},re={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:K,ReactCurrentOwner:se};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Ze.Children={map:ue,forEach:function($,ee,ge){ue($,function(){ee.apply(this,arguments)},ge)},count:function($){var ee=0;return ue($,function(){ee++}),ee},toArray:function($){return ue($,function(ee){return ee})||[]},only:function($){if(!F($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ze.Component=N,Ze.Fragment=t,Ze.Profiler=i,Ze.PureComponent=R,Ze.StrictMode=r,Ze.Suspense=d,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,Ze.act=Z,Ze.cloneElement=function($,ee,ge){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Ee=S({},$.props),ye=$.key,ke=$.ref,Me=$._owner;if(ee!=null){if(ee.ref!==void 0&&(ke=ee.ref,Me=se.current),ee.key!==void 0&&(ye=""+ee.key),$.type&&$.type.defaultProps)var Te=$.type.defaultProps;for(De in ee)Q.call(ee,De)&&!U.hasOwnProperty(De)&&(Ee[De]=ee[De]===void 0&&Te!==void 0?Te[De]:ee[De])}var De=arguments.length-2;if(De===1)Ee.children=ge;else if(1<De){Te=Array(De);for(var Ue=0;Ue<De;Ue++)Te[Ue]=arguments[Ue+2];Ee.children=Te}return{$$typeof:n,type:$.type,key:ye,ref:ke,props:Ee,_owner:Me}},Ze.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:o,_context:$},$.Consumer=$},Ze.createElement=L,Ze.createFactory=function($){var ee=L.bind(null,$);return ee.type=$,ee},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function($){return{$$typeof:u,render:$}},Ze.isValidElement=F,Ze.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:X}},Ze.memo=function($,ee){return{$$typeof:f,type:$,compare:ee===void 0?null:ee}},Ze.startTransition=function($){var ee=K.transition;K.transition={};try{$()}finally{K.transition=ee}},Ze.unstable_act=Z,Ze.useCallback=function($,ee){return oe.current.useCallback($,ee)},Ze.useContext=function($){return oe.current.useContext($)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function($){return oe.current.useDeferredValue($)},Ze.useEffect=function($,ee){return oe.current.useEffect($,ee)},Ze.useId=function(){return oe.current.useId()},Ze.useImperativeHandle=function($,ee,ge){return oe.current.useImperativeHandle($,ee,ge)},Ze.useInsertionEffect=function($,ee){return oe.current.useInsertionEffect($,ee)},Ze.useLayoutEffect=function($,ee){return oe.current.useLayoutEffect($,ee)},Ze.useMemo=function($,ee){return oe.current.useMemo($,ee)},Ze.useReducer=function($,ee,ge){return oe.current.useReducer($,ee,ge)},Ze.useRef=function($){return oe.current.useRef($)},Ze.useState=function($){return oe.current.useState($)},Ze.useSyncExternalStore=function($,ee,ge){return oe.current.useSyncExternalStore($,ee,ge)},Ze.useTransition=function(){return oe.current.useTransition()},Ze.version="18.3.1",Ze}var mw;function Ry(){return mw||(mw=1,Sm.exports=EC()),Sm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function TC(){if(gw)return Hu;gw=1;var n=Ry(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var m,v={},y=null,T=null;f!==void 0&&(y=""+f),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(T=d.ref);for(m in d)r.call(d,m)&&!o.hasOwnProperty(m)&&(v[m]=d[m]);if(u&&u.defaultProps)for(m in d=u.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:e,type:u,key:y,ref:T,props:v,_owner:i.current}}return Hu.Fragment=t,Hu.jsx=l,Hu.jsxs=l,Hu}var yw;function SC(){return yw||(yw=1,Tm.exports=TC()),Tm.exports}var b=SC(),sh={},bm={exports:{}},mr={},Im={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function bC(){return vw||(vw=1,function(n){function e(K,re){var Z=K.length;K.push(re);e:for(;0<Z;){var $=Z-1>>>1,ee=K[$];if(0<i(ee,re))K[$]=re,K[Z]=ee,Z=$;else break e}}function t(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],Z=K.pop();if(Z!==re){K[0]=Z;e:for(var $=0,ee=K.length,ge=ee>>>1;$<ge;){var Ee=2*($+1)-1,ye=K[Ee],ke=Ee+1,Me=K[ke];if(0>i(ye,Z))ke<ee&&0>i(Me,ye)?(K[$]=Me,K[ke]=Z,$=ke):(K[$]=ye,K[Ee]=Z,$=Ee);else if(ke<ee&&0>i(Me,Z))K[$]=Me,K[ke]=Z,$=ke;else break e}}return re}function i(K,re){var Z=K.sortIndex-re.sortIndex;return Z!==0?Z:K.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],m=1,v=null,y=3,T=!1,S=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(K){for(var re=t(f);re!==null;){if(re.callback===null)r(f);else if(re.startTime<=K)r(f),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(f)}}function z(K){if(P=!1,M(K),!S)if(t(d)!==null)S=!0,X(Q);else{var re=t(f);re!==null&&oe(z,re.startTime-K)}}function Q(K,re){S=!1,P&&(P=!1,k(L),L=-1),T=!0;var Z=y;try{for(M(re),v=t(d);v!==null&&(!(v.expirationTime>re)||K&&!A());){var $=v.callback;if(typeof $=="function"){v.callback=null,y=v.priorityLevel;var ee=$(v.expirationTime<=re);re=n.unstable_now(),typeof ee=="function"?v.callback=ee:v===t(d)&&r(d),M(re)}else r(d);v=t(d)}if(v!==null)var ge=!0;else{var Ee=t(f);Ee!==null&&oe(z,Ee.startTime-re),ge=!1}return ge}finally{v=null,y=Z,T=!1}}var se=!1,U=null,L=-1,O=5,F=-1;function A(){return!(n.unstable_now()-F<O)}function V(){if(U!==null){var K=n.unstable_now();F=K;var re=!0;try{re=U(!0,K)}finally{re?x():(se=!1,U=null)}}else se=!1}var x;if(typeof R=="function")x=function(){R(V)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ue=le.port2;le.port1.onmessage=V,x=function(){ue.postMessage(null)}}else x=function(){N(V,0)};function X(K){U=K,se||(se=!0,x())}function oe(K,re){L=N(function(){K(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){S||T||(S=!0,X(Q))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(K){switch(y){case 1:case 2:case 3:var re=3;break;default:re=y}var Z=y;y=re;try{return K()}finally{y=Z}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=y;y=K;try{return re()}finally{y=Z}},n.unstable_scheduleCallback=function(K,re,Z){var $=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?$+Z:$):Z=$,K){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Z+ee,K={id:m++,callback:re,priorityLevel:K,startTime:Z,expirationTime:ee,sortIndex:-1},Z>$?(K.sortIndex=Z,e(f,K),t(d)===null&&K===t(f)&&(P?(k(L),L=-1):P=!0,oe(z,Z-$))):(K.sortIndex=ee,e(d,K),S||T||(S=!0,X(Q))),K},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(K){var re=y;return function(){var Z=y;y=re;try{return K.apply(this,arguments)}finally{y=Z}}}}(Am)),Am}var ww;function IC(){return ww||(ww=1,Im.exports=bC()),Im.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function AC(){if(_w)return mr;_w=1;var n=Ry(),e=IC();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(s){return d.call(v,s)?!0:d.call(m,s)?!1:f.test(s)?v[s]=!0:(m[s]=!0,!1)}function T(s,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,a,c,p){if(a===null||typeof a>"u"||T(s,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(s,a,c,p,g,_,C){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=_,this.removeEmptyString=C}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new P(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function R(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(k,R);N[a]=new P(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(k,R);N[a]=new P(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(k,R);N[a]=new P(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function M(s,a,c,p){var g=N.hasOwnProperty(a)?N[a]:null;(g!==null?g.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(S(a,c,g,p)&&(c=null),p||g===null?y(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,p=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,p?s.setAttributeNS(p,a,c):s.setAttribute(a,c))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),se=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),K=Symbol.iterator;function re(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Object.assign,$;function ee(s){if($===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);$=a&&a[1]||""}return`
`+$+s}var ge=!1;function Ee(s,a){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ne){var p=ne}Reflect.construct(s,[],a)}else{try{a.call()}catch(ne){p=ne}s.call(a.prototype)}else{try{throw Error()}catch(ne){p=ne}s()}}catch(ne){if(ne&&p&&typeof ne.stack=="string"){for(var g=ne.stack.split(`
`),_=p.stack.split(`
`),C=g.length-1,B=_.length-1;1<=C&&0<=B&&g[C]!==_[B];)B--;for(;1<=C&&0<=B;C--,B--)if(g[C]!==_[B]){if(C!==1||B!==1)do if(C--,B--,0>B||g[C]!==_[B]){var H=`
`+g[C].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=C&&0<=B);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ee(s):""}function ye(s){switch(s.tag){case 5:return ee(s.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function ke(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case U:return"Fragment";case se:return"Portal";case O:return"Profiler";case L:return"StrictMode";case x:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case A:return(s.displayName||"Context")+".Consumer";case F:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ue:return a=s.displayName||null,a!==null?a:ke(s.type)||"Memo";case X:a=s._payload,s=s._init;try{return ke(s(a))}catch{}}return null}function Me(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(a);case 8:return a===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function De(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ue(s){var a=De(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),p=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,_=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){p=""+C,_.call(this,C)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(C){p=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Qe(s){s._valueTracker||(s._valueTracker=Ue(s))}function nt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return s&&(p=De(s)?s.checked?"true":"false":s.value),s=p,s!==c?(a.setValue(s),!0):!1}function et(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function yt(s,a){var c=a.checked;return Z({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Lt(s,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Te(a.value!=null?a.value:c),s._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ui(s,a){a=a.checked,a!=null&&M(s,"checked",a,!1)}function $i(s,a){ui(s,a);var c=Te(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(p==="submit"||p==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?zi(s,a.type,c):a.hasOwnProperty("defaultValue")&&zi(s,a.type,Te(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function so(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function zi(s,a,c){(a!=="number"||et(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Pn=Array.isArray;function Hn(s,a,c,p){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&p&&(s[c].defaultSelected=!0)}else{for(c=""+Te(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,p&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Hi(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return Z({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function ci(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Pn(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:Te(c)}}function wn(s,a){var c=Te(a.value),p=Te(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),p!=null&&(s.defaultValue=""+p)}function Mr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Ot(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Ot(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Rn,di=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,p,g)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Rn=Rn||document.createElement("div"),Rn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Rn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Bt(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var jr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vr=["Webkit","ms","Moz","O"];Object.keys(jr).forEach(function(s){Vr.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),jr[a]=jr[s]})});function Es(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||jr.hasOwnProperty(s)&&jr[s]?(""+a).trim():a+"px"}function hi(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,g=Es(c,a[c],p);c==="float"&&(c="cssFloat"),p?s.setProperty(c,g):s[c]=g}}var Fr=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(s,a){if(a){if(Fr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function Ur(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=null;function ln(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var wr=null,un=null,cn=null;function Br(s){if(s=Pu(s)){if(typeof wr!="function")throw Error(t(280));var a=s.stateNode;a&&(a=_d(a),wr(s.stateNode,s.type,a))}}function dn(s){un?cn?cn.push(s):cn=[s]:un=s}function fi(){if(un){var s=un,a=cn;if(cn=un=null,Br(s),a)for(s=0;s<a.length;s++)Br(a[s])}}function _r(s,a){return s(a)}function pi(){}var hn=!1;function Wi(s,a,c){if(hn)return s(a,c);hn=!0;try{return _r(s,a,c)}finally{hn=!1,(un!==null||cn!==null)&&(pi(),fi())}}function ct(s,a){var c=s.stateNode;if(c===null)return null;var p=_d(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(s=s.type,p=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!p;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Ki=!1;if(u)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Ki=!1}function mi(s,a,c,p,g,_,C,B,H){var ne=Array.prototype.slice.call(arguments,3);try{a.apply(c,ne)}catch(pe){this.onError(pe)}}var qr=!1,$r=null,mt=!1,Ts=null,la={onError:function(s){qr=!0,$r=s}};function Qi(s,a,c,p,g,_,C,B,H){qr=!1,$r=null,mi.apply(la,arguments)}function oo(s,a,c,p,g,_,C,B,H){if(Qi.apply(this,arguments),qr){if(qr){var ne=$r;qr=!1,$r=null}else throw Error(t(198));mt||(mt=!0,Ts=ne)}}function Kn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Pt(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Qn(s){if(Kn(s)!==s)throw Error(t(188))}function ao(s){var a=s.alternate;if(!a){if(a=Kn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,p=a;;){var g=c.return;if(g===null)break;var _=g.alternate;if(_===null){if(p=g.return,p!==null){c=p;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===c)return Qn(g),s;if(_===p)return Qn(g),a;_=_.sibling}throw Error(t(188))}if(c.return!==p.return)c=g,p=_;else{for(var C=!1,B=g.child;B;){if(B===c){C=!0,c=g,p=_;break}if(B===p){C=!0,p=g,c=_;break}B=B.sibling}if(!C){for(B=_.child;B;){if(B===c){C=!0,c=_,p=g;break}if(B===p){C=!0,p=_,c=g;break}B=B.sibling}if(!C)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function Ss(s){return s=ao(s),s!==null?Yi(s):null}function Yi(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Yi(s);if(a!==null)return a;s=s.sibling}return null}var Xi=e.unstable_scheduleCallback,Gt=e.unstable_cancelCallback,lo=e.unstable_shouldYield,ua=e.unstable_requestPaint,ft=e.unstable_now,uo=e.unstable_getCurrentPriorityLevel,gi=e.unstable_ImmediatePriority,Yn=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,zr=e.unstable_LowPriority,Xn=e.unstable_IdlePriority,Er=null,En=null;function co(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Er,s,void 0,(s.current.flags&128)===128)}catch{}}var en=Math.clz32?Math.clz32:yi,bs=Math.log,ho=Math.LN2;function yi(s){return s>>>=0,s===0?32:31-(bs(s)/ho|0)|0}var Hr=64,sr=4194304;function Tr(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Gr(s,a){var c=s.pendingLanes;if(c===0)return 0;var p=0,g=s.suspendedLanes,_=s.pingedLanes,C=c&268435455;if(C!==0){var B=C&~g;B!==0?p=Tr(B):(_&=C,_!==0&&(p=Tr(_)))}else C=c&~g,C!==0?p=Tr(C):_!==0&&(p=Tr(_));if(p===0)return 0;if(a!==0&&a!==p&&(a&g)===0&&(g=p&-p,_=a&-a,g>=_||g===16&&(_&4194240)!==0))return a;if((p&4)!==0&&(p|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=p;0<a;)c=31-en(a),g=1<<c,p|=s[c],a&=~g;return p}function ca(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sr(s,a){for(var c=s.suspendedLanes,p=s.pingedLanes,g=s.expirationTimes,_=s.pendingLanes;0<_;){var C=31-en(_),B=1<<C,H=g[C];H===-1?((B&c)===0||(B&p)!==0)&&(g[C]=ca(B,a)):H<=a&&(s.expiredLanes|=B),_&=~B}}function Tn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function vi(){var s=Hr;return Hr<<=1,(Hr&4194240)===0&&(Hr=64),s}function or(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Wr(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-en(a),s[a]=c}function dt(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var p=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-en(c),_=1<<g;a[g]=0,p[g]=-1,s[g]=-1,c&=~_}}function kn(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var p=31-en(c),g=1<<p;g&a|s[p]&a&&(s[p]|=a),c&=~g}}var $e=0;function fn(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var ar,Ji,Jn,fo,po,Is=!1,lr=[],Ft=null,wt=null,Ln=null,br=new Map,tn=new Map,On=[],Zi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mo(s,a){switch(s){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":br.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":tn.delete(a.pointerId)}}function nn(s,a,c,p,g,_){return s===null||s.nativeEvent!==_?(s={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:_,targetContainers:[g]},a!==null&&(a=Pu(a),a!==null&&Ji(a)),s):(s.eventSystemFlags|=p,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function As(s,a,c,p,g){switch(a){case"focusin":return Ft=nn(Ft,s,a,c,p,g),!0;case"dragenter":return wt=nn(wt,s,a,c,p,g),!0;case"mouseover":return Ln=nn(Ln,s,a,c,p,g),!0;case"pointerover":var _=g.pointerId;return br.set(_,nn(br.get(_)||null,s,a,c,p,g)),!0;case"gotpointercapture":return _=g.pointerId,tn.set(_,nn(tn.get(_)||null,s,a,c,p,g)),!0}return!1}function xs(s){var a=fa(s.target);if(a!==null){var c=Kn(a);if(c!==null){if(a=c.tag,a===13){if(a=Pt(c),a!==null){s.blockedOn=a,po(s.priority,function(){Jn(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Wt(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Ye(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var p=new c.constructor(c.type,c);Gn=p,c.target.dispatchEvent(p),Gn=null}else return a=Pu(c),a!==null&&Ji(a),s.blockedOn=c,!1;a.shift()}return!0}function Kr(s,a,c){Wt(s)&&c.delete(a)}function es(){Is=!1,Ft!==null&&Wt(Ft)&&(Ft=null),wt!==null&&Wt(wt)&&(wt=null),Ln!==null&&Wt(Ln)&&(Ln=null),br.forEach(Kr),tn.forEach(Kr)}function Zn(s,a){s.blockedOn===a&&(s.blockedOn=null,Is||(Is=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,es)))}function er(s){function a(g){return Zn(g,s)}if(0<lr.length){Zn(lr[0],s);for(var c=1;c<lr.length;c++){var p=lr[c];p.blockedOn===s&&(p.blockedOn=null)}}for(Ft!==null&&Zn(Ft,s),wt!==null&&Zn(wt,s),Ln!==null&&Zn(Ln,s),br.forEach(a),tn.forEach(a),c=0;c<On.length;c++)p=On[c],p.blockedOn===s&&(p.blockedOn=null);for(;0<On.length&&(c=On[0],c.blockedOn===null);)xs(c),c.blockedOn===null&&On.shift()}var E=z.ReactCurrentBatchConfig,D=!0;function q(s,a,c,p){var g=$e,_=E.transition;E.transition=null;try{$e=1,Be(s,a,c,p)}finally{$e=g,E.transition=_}}function ae(s,a,c,p){var g=$e,_=E.transition;E.transition=null;try{$e=4,Be(s,a,c,p)}finally{$e=g,E.transition=_}}function Be(s,a,c,p){if(D){var g=Ye(s,a,c,p);if(g===null)hp(s,a,p,Ce,c),mo(s,p);else if(As(g,s,a,c,p))p.stopPropagation();else if(mo(s,p),a&4&&-1<Zi.indexOf(s)){for(;g!==null;){var _=Pu(g);if(_!==null&&ar(_),_=Ye(s,a,c,p),_===null&&hp(s,a,p,Ce,c),_===g)break;g=_}g!==null&&p.stopPropagation()}else hp(s,a,p,null,c)}}var Ce=null;function Ye(s,a,c,p){if(Ce=null,s=ln(p),s=fa(s),s!==null)if(a=Kn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Pt(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ce=s,null}function Xe(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uo()){case gi:return 1;case Yn:return 4;case _n:case zr:return 16;case Xn:return 536870912;default:return 16}default:return 16}}var st=null,tt=null,ht=null;function Kt(){if(ht)return ht;var s,a=tt,c=a.length,p,g="value"in st?st.value:st.textContent,_=g.length;for(s=0;s<c&&a[s]===g[s];s++);var C=c-s;for(p=1;p<=C&&a[c-p]===g[_-p];p++);return ht=g.slice(s,1<p?1-p:void 0)}function Et(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function _t(){return!0}function Dt(){return!1}function Tt(s){function a(c,p,g,_,C){this._reactName=c,this._targetInst=g,this.type=p,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var B in s)s.hasOwnProperty(B)&&(c=s[B],this[B]=c?c(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?_t:Dt,this.isPropagationStopped=Dt,this}return Z(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=_t)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=_t)},persist:function(){},isPersistent:_t}),a}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=Tt(qt),Ir=Z({},qt,{view:0,detail:0}),go=Tt(Ir),wi,Cs,yo,da=Z({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==yo&&(yo&&s.type==="mousemove"?(wi=s.screenX-yo.screenX,Cs=s.screenY-yo.screenY):Cs=wi=0,yo=s),wi)},movementY:function(s){return"movementY"in s?s.movementY:Cs}}),Za=Tt(da),_u=Z({},da,{dataTransfer:0}),od=Tt(_u),el=Z({},Ir,{relatedTarget:0}),tl=Tt(el),ad=Z({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ns=Tt(ad),ld=Z({},qt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),ud=Tt(ld),cd=Z({},qt,{data:0}),Eu=Tt(cd),nl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=dd[s])?!!a[s]:!1}function ts(){return hd}var h=Z({},Ir,{key:function(s){if(s.key){var a=nl[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Et(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tr[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(s){return s.type==="keypress"?Et(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Et(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),w=Tt(h),I=Z({},da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j=Tt(I),Y=Z({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),ie=Tt(Y),we=Z({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),gt=Tt(we),rn=Z({},da,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=Tt(rn),pn=[9,13,27,32],Qt=u&&"CompositionEvent"in window,Qr=null;u&&"documentMode"in document&&(Qr=document.documentMode);var Ar=u&&"TextEvent"in window&&!Qr,ha=u&&(!Qt||Qr&&8<Qr&&11>=Qr),rl=" ",l0=!1;function u0(s,a){switch(s){case"keyup":return pn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var il=!1;function mx(s,a){switch(s){case"compositionend":return c0(a);case"keypress":return a.which!==32?null:(l0=!0,rl);case"textInput":return s=a.data,s===rl&&l0?null:s;default:return null}}function gx(s,a){if(il)return s==="compositionend"||!Qt&&u0(s,a)?(s=Kt(),ht=tt=st=null,il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ha&&a.locale!=="ko"?null:a.data;default:return null}}var yx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!yx[s.type]:a==="textarea"}function h0(s,a,c,p){dn(p),a=yd(a,"onChange"),0<a.length&&(c=new ur("onChange","change",null,c,p),s.push({event:c,listeners:a}))}var Tu=null,Su=null;function vx(s){P0(s,0)}function fd(s){var a=ul(s);if(nt(a))return s}function wx(s,a){if(s==="change")return a}var f0=!1;if(u){var rp;if(u){var ip="oninput"in document;if(!ip){var p0=document.createElement("div");p0.setAttribute("oninput","return;"),ip=typeof p0.oninput=="function"}rp=ip}else rp=!1;f0=rp&&(!document.documentMode||9<document.documentMode)}function m0(){Tu&&(Tu.detachEvent("onpropertychange",g0),Su=Tu=null)}function g0(s){if(s.propertyName==="value"&&fd(Su)){var a=[];h0(a,Su,s,ln(s)),Wi(vx,a)}}function _x(s,a,c){s==="focusin"?(m0(),Tu=a,Su=c,Tu.attachEvent("onpropertychange",g0)):s==="focusout"&&m0()}function Ex(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return fd(Su)}function Tx(s,a){if(s==="click")return fd(a)}function Sx(s,a){if(s==="input"||s==="change")return fd(a)}function bx(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var _i=typeof Object.is=="function"?Object.is:bx;function bu(s,a){if(_i(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var g=c[p];if(!d.call(a,g)||!_i(s[g],a[g]))return!1}return!0}function y0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function v0(s,a){var c=y0(s);s=0;for(var p;c;){if(c.nodeType===3){if(p=s+c.textContent.length,s<=a&&p>=a)return{node:c,offset:a-s};s=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=y0(c)}}function w0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?w0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function _0(){for(var s=window,a=et();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=et(s.document)}return a}function sp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Ix(s){var a=_0(),c=s.focusedElem,p=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&w0(c.ownerDocument.documentElement,c)){if(p!==null&&sp(c)){if(a=p.start,s=p.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,_=Math.min(p.start,g);p=p.end===void 0?_:Math.min(p.end,g),!s.extend&&_>p&&(g=p,p=_,_=g),g=v0(c,_);var C=v0(c,p);g&&C&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==C.node||s.focusOffset!==C.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),_>p?(s.addRange(a),s.extend(C.node,C.offset)):(a.setEnd(C.node,C.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Ax=u&&"documentMode"in document&&11>=document.documentMode,sl=null,op=null,Iu=null,ap=!1;function E0(s,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ap||sl==null||sl!==et(p)||(p=sl,"selectionStart"in p&&sp(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Iu&&bu(Iu,p)||(Iu=p,p=yd(op,"onSelect"),0<p.length&&(a=new ur("onSelect","select",null,a,c),s.push({event:a,listeners:p}),a.target=sl)))}function pd(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var ol={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},lp={},T0={};u&&(T0=document.createElement("div").style,"AnimationEvent"in window||(delete ol.animationend.animation,delete ol.animationiteration.animation,delete ol.animationstart.animation),"TransitionEvent"in window||delete ol.transitionend.transition);function md(s){if(lp[s])return lp[s];if(!ol[s])return s;var a=ol[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in T0)return lp[s]=a[c];return s}var S0=md("animationend"),b0=md("animationiteration"),I0=md("animationstart"),A0=md("transitionend"),x0=new Map,C0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(s,a){x0.set(s,a),o(a,[s])}for(var up=0;up<C0.length;up++){var cp=C0[up],xx=cp.toLowerCase(),Cx=cp[0].toUpperCase()+cp.slice(1);vo(xx,"on"+Cx)}vo(S0,"onAnimationEnd"),vo(b0,"onAnimationIteration"),vo(I0,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(A0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function N0(s,a,c){var p=s.type||"unknown-event";s.currentTarget=c,oo(p,a,void 0,s),s.currentTarget=null}function P0(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var p=s[c],g=p.event;p=p.listeners;e:{var _=void 0;if(a)for(var C=p.length-1;0<=C;C--){var B=p[C],H=B.instance,ne=B.currentTarget;if(B=B.listener,H!==_&&g.isPropagationStopped())break e;N0(g,B,ne),_=H}else for(C=0;C<p.length;C++){if(B=p[C],H=B.instance,ne=B.currentTarget,B=B.listener,H!==_&&g.isPropagationStopped())break e;N0(g,B,ne),_=H}}}if(mt)throw s=Ts,mt=!1,Ts=null,s}function It(s,a){var c=a[vp];c===void 0&&(c=a[vp]=new Set);var p=s+"__bubble";c.has(p)||(R0(a,s,2,!1),c.add(p))}function dp(s,a,c){var p=0;a&&(p|=4),R0(c,s,p,a)}var gd="_reactListening"+Math.random().toString(36).slice(2);function xu(s){if(!s[gd]){s[gd]=!0,r.forEach(function(c){c!=="selectionchange"&&(Nx.has(c)||dp(c,!1,s),dp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[gd]||(a[gd]=!0,dp("selectionchange",!1,a))}}function R0(s,a,c,p){switch(Xe(a)){case 1:var g=q;break;case 4:g=ae;break;default:g=Be}c=g.bind(null,a,c,s),g=void 0,!Ki||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function hp(s,a,c,p,g){var _=p;if((a&1)===0&&(a&2)===0&&p!==null)e:for(;;){if(p===null)return;var C=p.tag;if(C===3||C===4){var B=p.stateNode.containerInfo;if(B===g||B.nodeType===8&&B.parentNode===g)break;if(C===4)for(C=p.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;C=C.return}for(;B!==null;){if(C=fa(B),C===null)return;if(H=C.tag,H===5||H===6){p=_=C;continue e}B=B.parentNode}}p=p.return}Wi(function(){var ne=_,pe=ln(c),me=[];e:{var fe=x0.get(s);if(fe!==void 0){var Se=ur,Ne=s;switch(s){case"keypress":if(Et(c)===0)break e;case"keydown":case"keyup":Se=w;break;case"focusin":Ne="focus",Se=tl;break;case"focusout":Ne="blur",Se=tl;break;case"beforeblur":case"afterblur":Se=tl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=Za;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=ie;break;case S0:case b0:case I0:Se=Ns;break;case A0:Se=gt;break;case"scroll":Se=go;break;case"wheel":Se=ot;break;case"copy":case"cut":case"paste":Se=ud;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=j}var Pe=(a&4)!==0,$t=!Pe&&s==="scroll",J=Pe?fe!==null?fe+"Capture":null:fe;Pe=[];for(var W=ne,te;W!==null;){te=W;var ve=te.stateNode;if(te.tag===5&&ve!==null&&(te=ve,J!==null&&(ve=ct(W,J),ve!=null&&Pe.push(Cu(W,ve,te)))),$t)break;W=W.return}0<Pe.length&&(fe=new Se(fe,Ne,null,c,pe),me.push({event:fe,listeners:Pe}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",Se=s==="mouseout"||s==="pointerout",fe&&c!==Gn&&(Ne=c.relatedTarget||c.fromElement)&&(fa(Ne)||Ne[Ps]))break e;if((Se||fe)&&(fe=pe.window===pe?pe:(fe=pe.ownerDocument)?fe.defaultView||fe.parentWindow:window,Se?(Ne=c.relatedTarget||c.toElement,Se=ne,Ne=Ne?fa(Ne):null,Ne!==null&&($t=Kn(Ne),Ne!==$t||Ne.tag!==5&&Ne.tag!==6)&&(Ne=null)):(Se=null,Ne=ne),Se!==Ne)){if(Pe=Za,ve="onMouseLeave",J="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Pe=j,ve="onPointerLeave",J="onPointerEnter",W="pointer"),$t=Se==null?fe:ul(Se),te=Ne==null?fe:ul(Ne),fe=new Pe(ve,W+"leave",Se,c,pe),fe.target=$t,fe.relatedTarget=te,ve=null,fa(pe)===ne&&(Pe=new Pe(J,W+"enter",Ne,c,pe),Pe.target=te,Pe.relatedTarget=$t,ve=Pe),$t=ve,Se&&Ne)t:{for(Pe=Se,J=Ne,W=0,te=Pe;te;te=al(te))W++;for(te=0,ve=J;ve;ve=al(ve))te++;for(;0<W-te;)Pe=al(Pe),W--;for(;0<te-W;)J=al(J),te--;for(;W--;){if(Pe===J||J!==null&&Pe===J.alternate)break t;Pe=al(Pe),J=al(J)}Pe=null}else Pe=null;Se!==null&&k0(me,fe,Se,Pe,!1),Ne!==null&&$t!==null&&k0(me,$t,Ne,Pe,!0)}}e:{if(fe=ne?ul(ne):window,Se=fe.nodeName&&fe.nodeName.toLowerCase(),Se==="select"||Se==="input"&&fe.type==="file")var Le=wx;else if(d0(fe))if(f0)Le=Sx;else{Le=Ex;var Ve=_x}else(Se=fe.nodeName)&&Se.toLowerCase()==="input"&&(fe.type==="checkbox"||fe.type==="radio")&&(Le=Tx);if(Le&&(Le=Le(s,ne))){h0(me,Le,c,pe);break e}Ve&&Ve(s,fe,ne),s==="focusout"&&(Ve=fe._wrapperState)&&Ve.controlled&&fe.type==="number"&&zi(fe,"number",fe.value)}switch(Ve=ne?ul(ne):window,s){case"focusin":(d0(Ve)||Ve.contentEditable==="true")&&(sl=Ve,op=ne,Iu=null);break;case"focusout":Iu=op=sl=null;break;case"mousedown":ap=!0;break;case"contextmenu":case"mouseup":case"dragend":ap=!1,E0(me,c,pe);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":E0(me,c,pe)}var Fe;if(Qt)e:{switch(s){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else il?u0(s,c)&&(ze="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ze="onCompositionStart");ze&&(ha&&c.locale!=="ko"&&(il||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&il&&(Fe=Kt()):(st=pe,tt="value"in st?st.value:st.textContent,il=!0)),Ve=yd(ne,ze),0<Ve.length&&(ze=new Eu(ze,s,null,c,pe),me.push({event:ze,listeners:Ve}),Fe?ze.data=Fe:(Fe=c0(c),Fe!==null&&(ze.data=Fe)))),(Fe=Ar?mx(s,c):gx(s,c))&&(ne=yd(ne,"onBeforeInput"),0<ne.length&&(pe=new Eu("onBeforeInput","beforeinput",null,c,pe),me.push({event:pe,listeners:ne}),pe.data=Fe))}P0(me,a)})}function Cu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function yd(s,a){for(var c=a+"Capture",p=[];s!==null;){var g=s,_=g.stateNode;g.tag===5&&_!==null&&(g=_,_=ct(s,c),_!=null&&p.unshift(Cu(s,_,g)),_=ct(s,a),_!=null&&p.push(Cu(s,_,g))),s=s.return}return p}function al(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function k0(s,a,c,p,g){for(var _=a._reactName,C=[];c!==null&&c!==p;){var B=c,H=B.alternate,ne=B.stateNode;if(H!==null&&H===p)break;B.tag===5&&ne!==null&&(B=ne,g?(H=ct(c,_),H!=null&&C.unshift(Cu(c,H,B))):g||(H=ct(c,_),H!=null&&C.push(Cu(c,H,B)))),c=c.return}C.length!==0&&s.push({event:a,listeners:C})}var Px=/\r\n?/g,Rx=/\u0000|\uFFFD/g;function L0(s){return(typeof s=="string"?s:""+s).replace(Px,`
`).replace(Rx,"")}function vd(s,a,c){if(a=L0(a),L0(s)!==a&&c)throw Error(t(425))}function wd(){}var fp=null,pp=null;function mp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,kx=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,Lx=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(s){return O0.resolve(null).then(s).catch(Ox)}:gp;function Ox(s){setTimeout(function(){throw s})}function yp(s,a){var c=a,p=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(p===0){s.removeChild(g),er(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=g}while(c);er(a)}function wo(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function D0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var ll=Math.random().toString(36).slice(2),ns="__reactFiber$"+ll,Nu="__reactProps$"+ll,Ps="__reactContainer$"+ll,vp="__reactEvents$"+ll,Dx="__reactListeners$"+ll,Mx="__reactHandles$"+ll;function fa(s){var a=s[ns];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ps]||c[ns]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=D0(s);s!==null;){if(c=s[ns])return c;s=D0(s)}return a}s=c,c=s.parentNode}return null}function Pu(s){return s=s[ns]||s[Ps],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ul(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function _d(s){return s[Nu]||null}var wp=[],cl=-1;function _o(s){return{current:s}}function At(s){0>cl||(s.current=wp[cl],wp[cl]=null,cl--)}function St(s,a){cl++,wp[cl]=s.current,s.current=a}var Eo={},Dn=_o(Eo),cr=_o(!1),pa=Eo;function dl(s,a){var c=s.type.contextTypes;if(!c)return Eo;var p=s.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g={},_;for(_ in c)g[_]=a[_];return p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function dr(s){return s=s.childContextTypes,s!=null}function Ed(){At(cr),At(Dn)}function M0(s,a,c){if(Dn.current!==Eo)throw Error(t(168));St(Dn,a),St(cr,c)}function j0(s,a,c){var p=s.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var g in p)if(!(g in a))throw Error(t(108,Me(s)||"Unknown",g));return Z({},c,p)}function Td(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Eo,pa=Dn.current,St(Dn,s),St(cr,cr.current),!0}function V0(s,a,c){var p=s.stateNode;if(!p)throw Error(t(169));c?(s=j0(s,a,pa),p.__reactInternalMemoizedMergedChildContext=s,At(cr),At(Dn),St(Dn,s)):At(cr),St(cr,c)}var Rs=null,Sd=!1,_p=!1;function F0(s){Rs===null?Rs=[s]:Rs.push(s)}function jx(s){Sd=!0,F0(s)}function To(){if(!_p&&Rs!==null){_p=!0;var s=0,a=$e;try{var c=Rs;for($e=1;s<c.length;s++){var p=c[s];do p=p(!0);while(p!==null)}Rs=null,Sd=!1}catch(g){throw Rs!==null&&(Rs=Rs.slice(s+1)),Xi(gi,To),g}finally{$e=a,_p=!1}}return null}var hl=[],fl=0,bd=null,Id=0,Yr=[],Xr=0,ma=null,ks=1,Ls="";function ga(s,a){hl[fl++]=Id,hl[fl++]=bd,bd=s,Id=a}function U0(s,a,c){Yr[Xr++]=ks,Yr[Xr++]=Ls,Yr[Xr++]=ma,ma=s;var p=ks;s=Ls;var g=32-en(p)-1;p&=~(1<<g),c+=1;var _=32-en(a)+g;if(30<_){var C=g-g%5;_=(p&(1<<C)-1).toString(32),p>>=C,g-=C,ks=1<<32-en(a)+g|c<<g|p,Ls=_+s}else ks=1<<_|c<<g|p,Ls=s}function Ep(s){s.return!==null&&(ga(s,1),U0(s,1,0))}function Tp(s){for(;s===bd;)bd=hl[--fl],hl[fl]=null,Id=hl[--fl],hl[fl]=null;for(;s===ma;)ma=Yr[--Xr],Yr[Xr]=null,Ls=Yr[--Xr],Yr[Xr]=null,ks=Yr[--Xr],Yr[Xr]=null}var xr=null,Cr=null,Rt=!1,Ei=null;function B0(s,a){var c=ti(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function q0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,xr=s,Cr=wo(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,xr=s,Cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ma!==null?{id:ks,overflow:Ls}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ti(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,xr=s,Cr=null,!0):!1;default:return!1}}function Sp(s){return(s.mode&1)!==0&&(s.flags&128)===0}function bp(s){if(Rt){var a=Cr;if(a){var c=a;if(!q0(s,a)){if(Sp(s))throw Error(t(418));a=wo(c.nextSibling);var p=xr;a&&q0(s,a)?B0(p,c):(s.flags=s.flags&-4097|2,Rt=!1,xr=s)}}else{if(Sp(s))throw Error(t(418));s.flags=s.flags&-4097|2,Rt=!1,xr=s}}}function $0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;xr=s}function Ad(s){if(s!==xr)return!1;if(!Rt)return $0(s),Rt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!mp(s.type,s.memoizedProps)),a&&(a=Cr)){if(Sp(s))throw z0(),Error(t(418));for(;a;)B0(s,a),a=wo(a.nextSibling)}if($0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){Cr=wo(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}Cr=null}}else Cr=xr?wo(s.stateNode.nextSibling):null;return!0}function z0(){for(var s=Cr;s;)s=wo(s.nextSibling)}function pl(){Cr=xr=null,Rt=!1}function Ip(s){Ei===null?Ei=[s]:Ei.push(s)}var Vx=z.ReactCurrentBatchConfig;function Ru(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,s));var g=p,_=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===_?a.ref:(a=function(C){var B=g.refs;C===null?delete B[_]:B[_]=C},a._stringRef=_,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function xd(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function H0(s){var a=s._init;return a(s._payload)}function G0(s){function a(J,W){if(s){var te=J.deletions;te===null?(J.deletions=[W],J.flags|=16):te.push(W)}}function c(J,W){if(!s)return null;for(;W!==null;)a(J,W),W=W.sibling;return null}function p(J,W){for(J=new Map;W!==null;)W.key!==null?J.set(W.key,W):J.set(W.index,W),W=W.sibling;return J}function g(J,W){return J=Po(J,W),J.index=0,J.sibling=null,J}function _(J,W,te){return J.index=te,s?(te=J.alternate,te!==null?(te=te.index,te<W?(J.flags|=2,W):te):(J.flags|=2,W)):(J.flags|=1048576,W)}function C(J){return s&&J.alternate===null&&(J.flags|=2),J}function B(J,W,te,ve){return W===null||W.tag!==6?(W=gm(te,J.mode,ve),W.return=J,W):(W=g(W,te),W.return=J,W)}function H(J,W,te,ve){var Le=te.type;return Le===U?pe(J,W,te.props.children,ve,te.key):W!==null&&(W.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===X&&H0(Le)===W.type)?(ve=g(W,te.props),ve.ref=Ru(J,W,te),ve.return=J,ve):(ve=Xd(te.type,te.key,te.props,null,J.mode,ve),ve.ref=Ru(J,W,te),ve.return=J,ve)}function ne(J,W,te,ve){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=ym(te,J.mode,ve),W.return=J,W):(W=g(W,te.children||[]),W.return=J,W)}function pe(J,W,te,ve,Le){return W===null||W.tag!==7?(W=ba(te,J.mode,ve,Le),W.return=J,W):(W=g(W,te),W.return=J,W)}function me(J,W,te){if(typeof W=="string"&&W!==""||typeof W=="number")return W=gm(""+W,J.mode,te),W.return=J,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return te=Xd(W.type,W.key,W.props,null,J.mode,te),te.ref=Ru(J,null,W),te.return=J,te;case se:return W=ym(W,J.mode,te),W.return=J,W;case X:var ve=W._init;return me(J,ve(W._payload),te)}if(Pn(W)||re(W))return W=ba(W,J.mode,te,null),W.return=J,W;xd(J,W)}return null}function fe(J,W,te,ve){var Le=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return Le!==null?null:B(J,W,""+te,ve);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Q:return te.key===Le?H(J,W,te,ve):null;case se:return te.key===Le?ne(J,W,te,ve):null;case X:return Le=te._init,fe(J,W,Le(te._payload),ve)}if(Pn(te)||re(te))return Le!==null?null:pe(J,W,te,ve,null);xd(J,te)}return null}function Se(J,W,te,ve,Le){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return J=J.get(te)||null,B(W,J,""+ve,Le);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case Q:return J=J.get(ve.key===null?te:ve.key)||null,H(W,J,ve,Le);case se:return J=J.get(ve.key===null?te:ve.key)||null,ne(W,J,ve,Le);case X:var Ve=ve._init;return Se(J,W,te,Ve(ve._payload),Le)}if(Pn(ve)||re(ve))return J=J.get(te)||null,pe(W,J,ve,Le,null);xd(W,ve)}return null}function Ne(J,W,te,ve){for(var Le=null,Ve=null,Fe=W,ze=W=0,yn=null;Fe!==null&&ze<te.length;ze++){Fe.index>ze?(yn=Fe,Fe=null):yn=Fe.sibling;var ut=fe(J,Fe,te[ze],ve);if(ut===null){Fe===null&&(Fe=yn);break}s&&Fe&&ut.alternate===null&&a(J,Fe),W=_(ut,W,ze),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut,Fe=yn}if(ze===te.length)return c(J,Fe),Rt&&ga(J,ze),Le;if(Fe===null){for(;ze<te.length;ze++)Fe=me(J,te[ze],ve),Fe!==null&&(W=_(Fe,W,ze),Ve===null?Le=Fe:Ve.sibling=Fe,Ve=Fe);return Rt&&ga(J,ze),Le}for(Fe=p(J,Fe);ze<te.length;ze++)yn=Se(Fe,J,ze,te[ze],ve),yn!==null&&(s&&yn.alternate!==null&&Fe.delete(yn.key===null?ze:yn.key),W=_(yn,W,ze),Ve===null?Le=yn:Ve.sibling=yn,Ve=yn);return s&&Fe.forEach(function(Ro){return a(J,Ro)}),Rt&&ga(J,ze),Le}function Pe(J,W,te,ve){var Le=re(te);if(typeof Le!="function")throw Error(t(150));if(te=Le.call(te),te==null)throw Error(t(151));for(var Ve=Le=null,Fe=W,ze=W=0,yn=null,ut=te.next();Fe!==null&&!ut.done;ze++,ut=te.next()){Fe.index>ze?(yn=Fe,Fe=null):yn=Fe.sibling;var Ro=fe(J,Fe,ut.value,ve);if(Ro===null){Fe===null&&(Fe=yn);break}s&&Fe&&Ro.alternate===null&&a(J,Fe),W=_(Ro,W,ze),Ve===null?Le=Ro:Ve.sibling=Ro,Ve=Ro,Fe=yn}if(ut.done)return c(J,Fe),Rt&&ga(J,ze),Le;if(Fe===null){for(;!ut.done;ze++,ut=te.next())ut=me(J,ut.value,ve),ut!==null&&(W=_(ut,W,ze),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut);return Rt&&ga(J,ze),Le}for(Fe=p(J,Fe);!ut.done;ze++,ut=te.next())ut=Se(Fe,J,ze,ut.value,ve),ut!==null&&(s&&ut.alternate!==null&&Fe.delete(ut.key===null?ze:ut.key),W=_(ut,W,ze),Ve===null?Le=ut:Ve.sibling=ut,Ve=ut);return s&&Fe.forEach(function(yC){return a(J,yC)}),Rt&&ga(J,ze),Le}function $t(J,W,te,ve){if(typeof te=="object"&&te!==null&&te.type===U&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case Q:e:{for(var Le=te.key,Ve=W;Ve!==null;){if(Ve.key===Le){if(Le=te.type,Le===U){if(Ve.tag===7){c(J,Ve.sibling),W=g(Ve,te.props.children),W.return=J,J=W;break e}}else if(Ve.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===X&&H0(Le)===Ve.type){c(J,Ve.sibling),W=g(Ve,te.props),W.ref=Ru(J,Ve,te),W.return=J,J=W;break e}c(J,Ve);break}else a(J,Ve);Ve=Ve.sibling}te.type===U?(W=ba(te.props.children,J.mode,ve,te.key),W.return=J,J=W):(ve=Xd(te.type,te.key,te.props,null,J.mode,ve),ve.ref=Ru(J,W,te),ve.return=J,J=ve)}return C(J);case se:e:{for(Ve=te.key;W!==null;){if(W.key===Ve)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){c(J,W.sibling),W=g(W,te.children||[]),W.return=J,J=W;break e}else{c(J,W);break}else a(J,W);W=W.sibling}W=ym(te,J.mode,ve),W.return=J,J=W}return C(J);case X:return Ve=te._init,$t(J,W,Ve(te._payload),ve)}if(Pn(te))return Ne(J,W,te,ve);if(re(te))return Pe(J,W,te,ve);xd(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,W!==null&&W.tag===6?(c(J,W.sibling),W=g(W,te),W.return=J,J=W):(c(J,W),W=gm(te,J.mode,ve),W.return=J,J=W),C(J)):c(J,W)}return $t}var ml=G0(!0),W0=G0(!1),Cd=_o(null),Nd=null,gl=null,Ap=null;function xp(){Ap=gl=Nd=null}function Cp(s){var a=Cd.current;At(Cd),s._currentValue=a}function Np(s,a,c){for(;s!==null;){var p=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),s===c)break;s=s.return}}function yl(s,a){Nd=s,Ap=gl=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(hr=!0),s.firstContext=null)}function Jr(s){var a=s._currentValue;if(Ap!==s)if(s={context:s,memoizedValue:a,next:null},gl===null){if(Nd===null)throw Error(t(308));gl=s,Nd.dependencies={lanes:0,firstContext:s}}else gl=gl.next=s;return a}var ya=null;function Pp(s){ya===null?ya=[s]:ya.push(s)}function K0(s,a,c,p){var g=a.interleaved;return g===null?(c.next=c,Pp(a)):(c.next=g.next,g.next=c),a.interleaved=c,Os(s,p)}function Os(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var So=!1;function Rp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ds(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function bo(s,a,c){var p=s.updateQueue;if(p===null)return null;if(p=p.shared,(lt&2)!==0){var g=p.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),p.pending=a,Os(s,c)}return g=p.interleaved,g===null?(a.next=a,Pp(p)):(a.next=g.next,g.next=a),p.interleaved=a,Os(s,c)}function Pd(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,kn(s,c)}}function Y0(s,a){var c=s.updateQueue,p=s.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var g=null,_=null;if(c=c.firstBaseUpdate,c!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};_===null?g=_=C:_=_.next=C,c=c.next}while(c!==null);_===null?g=_=a:_=_.next=a}else g=_=a;c={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:p.shared,effects:p.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Rd(s,a,c,p){var g=s.updateQueue;So=!1;var _=g.firstBaseUpdate,C=g.lastBaseUpdate,B=g.shared.pending;if(B!==null){g.shared.pending=null;var H=B,ne=H.next;H.next=null,C===null?_=ne:C.next=ne,C=H;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,B=pe.lastBaseUpdate,B!==C&&(B===null?pe.firstBaseUpdate=ne:B.next=ne,pe.lastBaseUpdate=H))}if(_!==null){var me=g.baseState;C=0,pe=ne=H=null,B=_;do{var fe=B.lane,Se=B.eventTime;if((p&fe)===fe){pe!==null&&(pe=pe.next={eventTime:Se,lane:0,tag:B.tag,payload:B.payload,callback:B.callback,next:null});e:{var Ne=s,Pe=B;switch(fe=a,Se=c,Pe.tag){case 1:if(Ne=Pe.payload,typeof Ne=="function"){me=Ne.call(Se,me,fe);break e}me=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Pe.payload,fe=typeof Ne=="function"?Ne.call(Se,me,fe):Ne,fe==null)break e;me=Z({},me,fe);break e;case 2:So=!0}}B.callback!==null&&B.lane!==0&&(s.flags|=64,fe=g.effects,fe===null?g.effects=[B]:fe.push(B))}else Se={eventTime:Se,lane:fe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},pe===null?(ne=pe=Se,H=me):pe=pe.next=Se,C|=fe;if(B=B.next,B===null){if(B=g.shared.pending,B===null)break;fe=B,B=fe.next,fe.next=null,g.lastBaseUpdate=fe,g.shared.pending=null}}while(!0);if(pe===null&&(H=me),g.baseState=H,g.firstBaseUpdate=ne,g.lastBaseUpdate=pe,a=g.shared.interleaved,a!==null){g=a;do C|=g.lane,g=g.next;while(g!==a)}else _===null&&(g.shared.lanes=0);_a|=C,s.lanes=C,s.memoizedState=me}}function X0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var p=s[a],g=p.callback;if(g!==null){if(p.callback=null,p=c,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var ku={},rs=_o(ku),Lu=_o(ku),Ou=_o(ku);function va(s){if(s===ku)throw Error(t(174));return s}function kp(s,a){switch(St(Ou,a),St(Lu,s),St(rs,ku),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:vt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=vt(a,s)}At(rs),St(rs,a)}function vl(){At(rs),At(Lu),At(Ou)}function J0(s){va(Ou.current);var a=va(rs.current),c=vt(a,s.type);a!==c&&(St(Lu,s),St(rs,c))}function Lp(s){Lu.current===s&&(At(rs),At(Lu))}var Mt=_o(0);function kd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Op=[];function Dp(){for(var s=0;s<Op.length;s++)Op[s]._workInProgressVersionPrimary=null;Op.length=0}var Ld=z.ReactCurrentDispatcher,Mp=z.ReactCurrentBatchConfig,wa=0,jt=null,sn=null,mn=null,Od=!1,Du=!1,Mu=0,Fx=0;function Mn(){throw Error(t(321))}function jp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!_i(s[c],a[c]))return!1;return!0}function Vp(s,a,c,p,g,_){if(wa=_,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ld.current=s===null||s.memoizedState===null?$x:zx,s=c(p,g),Du){_=0;do{if(Du=!1,Mu=0,25<=_)throw Error(t(301));_+=1,mn=sn=null,a.updateQueue=null,Ld.current=Hx,s=c(p,g)}while(Du)}if(Ld.current=jd,a=sn!==null&&sn.next!==null,wa=0,mn=sn=jt=null,Od=!1,a)throw Error(t(300));return s}function Fp(){var s=Mu!==0;return Mu=0,s}function is(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?jt.memoizedState=mn=s:mn=mn.next=s,mn}function Zr(){if(sn===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=sn.next;var a=mn===null?jt.memoizedState:mn.next;if(a!==null)mn=a,sn=s;else{if(s===null)throw Error(t(310));sn=s,s={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},mn===null?jt.memoizedState=mn=s:mn=mn.next=s}return mn}function ju(s,a){return typeof a=="function"?a(s):a}function Up(s){var a=Zr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=sn,g=p.baseQueue,_=c.pending;if(_!==null){if(g!==null){var C=g.next;g.next=_.next,_.next=C}p.baseQueue=g=_,c.pending=null}if(g!==null){_=g.next,p=p.baseState;var B=C=null,H=null,ne=_;do{var pe=ne.lane;if((wa&pe)===pe)H!==null&&(H=H.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),p=ne.hasEagerState?ne.eagerState:s(p,ne.action);else{var me={lane:pe,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};H===null?(B=H=me,C=p):H=H.next=me,jt.lanes|=pe,_a|=pe}ne=ne.next}while(ne!==null&&ne!==_);H===null?C=p:H.next=B,_i(p,a.memoizedState)||(hr=!0),a.memoizedState=p,a.baseState=C,a.baseQueue=H,c.lastRenderedState=p}if(s=c.interleaved,s!==null){g=s;do _=g.lane,jt.lanes|=_,_a|=_,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Bp(s){var a=Zr(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var p=c.dispatch,g=c.pending,_=a.memoizedState;if(g!==null){c.pending=null;var C=g=g.next;do _=s(_,C.action),C=C.next;while(C!==g);_i(_,a.memoizedState)||(hr=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),c.lastRenderedState=_}return[_,p]}function Z0(){}function e1(s,a){var c=jt,p=Zr(),g=a(),_=!_i(p.memoizedState,g);if(_&&(p.memoizedState=g,hr=!0),p=p.queue,qp(r1.bind(null,c,p,s),[s]),p.getSnapshot!==a||_||mn!==null&&mn.memoizedState.tag&1){if(c.flags|=2048,Vu(9,n1.bind(null,c,p,g,a),void 0,null),gn===null)throw Error(t(349));(wa&30)!==0||t1(c,a,g)}return g}function t1(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function n1(s,a,c,p){a.value=c,a.getSnapshot=p,i1(a)&&s1(s)}function r1(s,a,c){return c(function(){i1(a)&&s1(s)})}function i1(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!_i(s,c)}catch{return!0}}function s1(s){var a=Os(s,1);a!==null&&Ii(a,s,1,-1)}function o1(s){var a=is();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ju,lastRenderedState:s},a.queue=s,s=s.dispatch=qx.bind(null,jt,s),[a.memoizedState,s]}function Vu(s,a,c,p){return s={tag:s,create:a,destroy:c,deps:p,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(p=c.next,c.next=s,s.next=p,a.lastEffect=s)),s}function a1(){return Zr().memoizedState}function Dd(s,a,c,p){var g=is();jt.flags|=s,g.memoizedState=Vu(1|a,c,void 0,p===void 0?null:p)}function Md(s,a,c,p){var g=Zr();p=p===void 0?null:p;var _=void 0;if(sn!==null){var C=sn.memoizedState;if(_=C.destroy,p!==null&&jp(p,C.deps)){g.memoizedState=Vu(a,c,_,p);return}}jt.flags|=s,g.memoizedState=Vu(1|a,c,_,p)}function l1(s,a){return Dd(8390656,8,s,a)}function qp(s,a){return Md(2048,8,s,a)}function u1(s,a){return Md(4,2,s,a)}function c1(s,a){return Md(4,4,s,a)}function d1(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function h1(s,a,c){return c=c!=null?c.concat([s]):null,Md(4,4,d1.bind(null,a,s),c)}function $p(){}function f1(s,a){var c=Zr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&jp(a,p[1])?p[0]:(c.memoizedState=[s,a],s)}function p1(s,a){var c=Zr();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&jp(a,p[1])?p[0]:(s=s(),c.memoizedState=[s,a],s)}function m1(s,a,c){return(wa&21)===0?(s.baseState&&(s.baseState=!1,hr=!0),s.memoizedState=c):(_i(c,a)||(c=vi(),jt.lanes|=c,_a|=c,s.baseState=!0),a)}function Ux(s,a){var c=$e;$e=c!==0&&4>c?c:4,s(!0);var p=Mp.transition;Mp.transition={};try{s(!1),a()}finally{$e=c,Mp.transition=p}}function g1(){return Zr().memoizedState}function Bx(s,a,c){var p=Co(s);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},y1(s))v1(a,c);else if(c=K0(s,a,c,p),c!==null){var g=rr();Ii(c,s,p,g),w1(c,a,p)}}function qx(s,a,c){var p=Co(s),g={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(y1(s))v1(a,g);else{var _=s.alternate;if(s.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,B=_(C,c);if(g.hasEagerState=!0,g.eagerState=B,_i(B,C)){var H=a.interleaved;H===null?(g.next=g,Pp(a)):(g.next=H.next,H.next=g),a.interleaved=g;return}}catch{}finally{}c=K0(s,a,g,p),c!==null&&(g=rr(),Ii(c,s,p,g),w1(c,a,p))}}function y1(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function v1(s,a){Du=Od=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function w1(s,a,c){if((c&4194240)!==0){var p=a.lanes;p&=s.pendingLanes,c|=p,a.lanes=c,kn(s,c)}}var jd={readContext:Jr,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},$x={readContext:Jr,useCallback:function(s,a){return is().memoizedState=[s,a===void 0?null:a],s},useContext:Jr,useEffect:l1,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Dd(4194308,4,d1.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Dd(4194308,4,s,a)},useInsertionEffect:function(s,a){return Dd(4,2,s,a)},useMemo:function(s,a){var c=is();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var p=is();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},p.queue=s,s=s.dispatch=Bx.bind(null,jt,s),[p.memoizedState,s]},useRef:function(s){var a=is();return s={current:s},a.memoizedState=s},useState:o1,useDebugValue:$p,useDeferredValue:function(s){return is().memoizedState=s},useTransition:function(){var s=o1(!1),a=s[0];return s=Ux.bind(null,s[1]),is().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var p=jt,g=is();if(Rt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),gn===null)throw Error(t(349));(wa&30)!==0||t1(p,a,c)}g.memoizedState=c;var _={value:c,getSnapshot:a};return g.queue=_,l1(r1.bind(null,p,_,s),[s]),p.flags|=2048,Vu(9,n1.bind(null,p,_,c,a),void 0,null),c},useId:function(){var s=is(),a=gn.identifierPrefix;if(Rt){var c=Ls,p=ks;c=(p&~(1<<32-en(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Mu++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Fx++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},zx={readContext:Jr,useCallback:f1,useContext:Jr,useEffect:qp,useImperativeHandle:h1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:Up,useRef:a1,useState:function(){return Up(ju)},useDebugValue:$p,useDeferredValue:function(s){var a=Zr();return m1(a,sn.memoizedState,s)},useTransition:function(){var s=Up(ju)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:Z0,useSyncExternalStore:e1,useId:g1,unstable_isNewReconciler:!1},Hx={readContext:Jr,useCallback:f1,useContext:Jr,useEffect:qp,useImperativeHandle:h1,useInsertionEffect:u1,useLayoutEffect:c1,useMemo:p1,useReducer:Bp,useRef:a1,useState:function(){return Bp(ju)},useDebugValue:$p,useDeferredValue:function(s){var a=Zr();return sn===null?a.memoizedState=s:m1(a,sn.memoizedState,s)},useTransition:function(){var s=Bp(ju)[0],a=Zr().memoizedState;return[s,a]},useMutableSource:Z0,useSyncExternalStore:e1,useId:g1,unstable_isNewReconciler:!1};function Ti(s,a){if(s&&s.defaultProps){a=Z({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function zp(s,a,c,p){a=s.memoizedState,c=c(p,a),c=c==null?a:Z({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Vd={isMounted:function(s){return(s=s._reactInternals)?Kn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var p=rr(),g=Co(s),_=Ds(p,g);_.payload=a,c!=null&&(_.callback=c),a=bo(s,_,g),a!==null&&(Ii(a,s,g,p),Pd(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var p=rr(),g=Co(s),_=Ds(p,g);_.tag=1,_.payload=a,c!=null&&(_.callback=c),a=bo(s,_,g),a!==null&&(Ii(a,s,g,p),Pd(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=rr(),p=Co(s),g=Ds(c,p);g.tag=2,a!=null&&(g.callback=a),a=bo(s,g,p),a!==null&&(Ii(a,s,p,c),Pd(a,s,p))}};function _1(s,a,c,p,g,_,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(p,_,C):a.prototype&&a.prototype.isPureReactComponent?!bu(c,p)||!bu(g,_):!0}function E1(s,a,c){var p=!1,g=Eo,_=a.contextType;return typeof _=="object"&&_!==null?_=Jr(_):(g=dr(a)?pa:Dn.current,p=a.contextTypes,_=(p=p!=null)?dl(s,g):Eo),a=new a(c,_),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Vd,s.stateNode=a,a._reactInternals=s,p&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=_),a}function T1(s,a,c,p){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==s&&Vd.enqueueReplaceState(a,a.state,null)}function Hp(s,a,c,p){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Rp(s);var _=a.contextType;typeof _=="object"&&_!==null?g.context=Jr(_):(_=dr(a)?pa:Dn.current,g.context=dl(s,_)),g.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(zp(s,a,_,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Vd.enqueueReplaceState(g,g.state,null),Rd(s,c,g,p),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function wl(s,a){try{var c="",p=a;do c+=ye(p),p=p.return;while(p);var g=c}catch(_){g=`
Error generating stack: `+_.message+`
`+_.stack}return{value:s,source:a,stack:g,digest:null}}function Gp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function Wp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Gx=typeof WeakMap=="function"?WeakMap:Map;function S1(s,a,c){c=Ds(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){Hd||(Hd=!0,lm=p),Wp(s,a)},c}function b1(s,a,c){c=Ds(-1,c),c.tag=3;var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;c.payload=function(){return p(g)},c.callback=function(){Wp(s,a)}}var _=s.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Wp(s,a),typeof p!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var C=a.stack;this.componentDidCatch(a.value,{componentStack:C!==null?C:""})}),c}function I1(s,a,c){var p=s.pingCache;if(p===null){p=s.pingCache=new Gx;var g=new Set;p.set(a,g)}else g=p.get(a),g===void 0&&(g=new Set,p.set(a,g));g.has(c)||(g.add(c),s=oC.bind(null,s,a,c),a.then(s,s))}function A1(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function x1(s,a,c,p,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ds(-1,1),a.tag=2,bo(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var Wx=z.ReactCurrentOwner,hr=!1;function nr(s,a,c,p){a.child=s===null?W0(a,null,c,p):ml(a,s.child,c,p)}function C1(s,a,c,p,g){c=c.render;var _=a.ref;return yl(a,g),p=Vp(s,a,c,p,_,g),c=Fp(),s!==null&&!hr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ms(s,a,g)):(Rt&&c&&Ep(a),a.flags|=1,nr(s,a,p,g),a.child)}function N1(s,a,c,p,g){if(s===null){var _=c.type;return typeof _=="function"&&!mm(_)&&_.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=_,P1(s,a,_,p,g)):(s=Xd(c.type,null,p,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(_=s.child,(s.lanes&g)===0){var C=_.memoizedProps;if(c=c.compare,c=c!==null?c:bu,c(C,p)&&s.ref===a.ref)return Ms(s,a,g)}return a.flags|=1,s=Po(_,p),s.ref=a.ref,s.return=a,a.child=s}function P1(s,a,c,p,g){if(s!==null){var _=s.memoizedProps;if(bu(_,p)&&s.ref===a.ref)if(hr=!1,a.pendingProps=p=_,(s.lanes&g)!==0)(s.flags&131072)!==0&&(hr=!0);else return a.lanes=s.lanes,Ms(s,a,g)}return Kp(s,a,c,p,g)}function R1(s,a,c){var p=a.pendingProps,g=p.children,_=s!==null?s.memoizedState:null;if(p.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(El,Nr),Nr|=c;else{if((c&1073741824)===0)return s=_!==null?_.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,St(El,Nr),Nr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=_!==null?_.baseLanes:c,St(El,Nr),Nr|=p}else _!==null?(p=_.baseLanes|c,a.memoizedState=null):p=c,St(El,Nr),Nr|=p;return nr(s,a,g,c),a.child}function k1(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Kp(s,a,c,p,g){var _=dr(c)?pa:Dn.current;return _=dl(a,_),yl(a,g),c=Vp(s,a,c,p,_,g),p=Fp(),s!==null&&!hr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ms(s,a,g)):(Rt&&p&&Ep(a),a.flags|=1,nr(s,a,c,g),a.child)}function L1(s,a,c,p,g){if(dr(c)){var _=!0;Td(a)}else _=!1;if(yl(a,g),a.stateNode===null)Ud(s,a),E1(a,c,p),Hp(a,c,p,g),p=!0;else if(s===null){var C=a.stateNode,B=a.memoizedProps;C.props=B;var H=C.context,ne=c.contextType;typeof ne=="object"&&ne!==null?ne=Jr(ne):(ne=dr(c)?pa:Dn.current,ne=dl(a,ne));var pe=c.getDerivedStateFromProps,me=typeof pe=="function"||typeof C.getSnapshotBeforeUpdate=="function";me||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==p||H!==ne)&&T1(a,C,p,ne),So=!1;var fe=a.memoizedState;C.state=fe,Rd(a,p,C,g),H=a.memoizedState,B!==p||fe!==H||cr.current||So?(typeof pe=="function"&&(zp(a,c,pe,p),H=a.memoizedState),(B=So||_1(a,c,B,p,fe,H,ne))?(me||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(a.flags|=4194308)):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=H),C.props=p,C.state=H,C.context=ne,p=B):(typeof C.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{C=a.stateNode,Q0(s,a),B=a.memoizedProps,ne=a.type===a.elementType?B:Ti(a.type,B),C.props=ne,me=a.pendingProps,fe=C.context,H=c.contextType,typeof H=="object"&&H!==null?H=Jr(H):(H=dr(c)?pa:Dn.current,H=dl(a,H));var Se=c.getDerivedStateFromProps;(pe=typeof Se=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==me||fe!==H)&&T1(a,C,p,H),So=!1,fe=a.memoizedState,C.state=fe,Rd(a,p,C,g);var Ne=a.memoizedState;B!==me||fe!==Ne||cr.current||So?(typeof Se=="function"&&(zp(a,c,Se,p),Ne=a.memoizedState),(ne=So||_1(a,c,ne,p,fe,Ne,H)||!1)?(pe||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(p,Ne,H),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(p,Ne,H)),typeof C.componentDidUpdate=="function"&&(a.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Ne),C.props=p,C.state=Ne,C.context=H,p=ne):(typeof C.componentDidUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),p=!1)}return Qp(s,a,c,p,_,g)}function Qp(s,a,c,p,g,_){k1(s,a);var C=(a.flags&128)!==0;if(!p&&!C)return g&&V0(a,c,!1),Ms(s,a,_);p=a.stateNode,Wx.current=a;var B=C&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,s!==null&&C?(a.child=ml(a,s.child,null,_),a.child=ml(a,null,B,_)):nr(s,a,B,_),a.memoizedState=p.state,g&&V0(a,c,!0),a.child}function O1(s){var a=s.stateNode;a.pendingContext?M0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&M0(s,a.context,!1),kp(s,a.containerInfo)}function D1(s,a,c,p,g){return pl(),Ip(g),a.flags|=256,nr(s,a,c,p),a.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(s){return{baseLanes:s,cachePool:null,transitions:null}}function M1(s,a,c){var p=a.pendingProps,g=Mt.current,_=!1,C=(a.flags&128)!==0,B;if((B=C)||(B=s!==null&&s.memoizedState===null?!1:(g&2)!==0),B?(_=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),St(Mt,g&1),s===null)return bp(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(C=p.children,s=p.fallback,_?(p=a.mode,_=a.child,C={mode:"hidden",children:C},(p&1)===0&&_!==null?(_.childLanes=0,_.pendingProps=C):_=Jd(C,p,0,null),s=ba(s,p,c,null),_.return=a,s.return=a,_.sibling=s,a.child=_,a.child.memoizedState=Xp(c),a.memoizedState=Yp,s):Jp(a,C));if(g=s.memoizedState,g!==null&&(B=g.dehydrated,B!==null))return Kx(s,a,C,p,B,g,c);if(_){_=p.fallback,C=a.mode,g=s.child,B=g.sibling;var H={mode:"hidden",children:p.children};return(C&1)===0&&a.child!==g?(p=a.child,p.childLanes=0,p.pendingProps=H,a.deletions=null):(p=Po(g,H),p.subtreeFlags=g.subtreeFlags&14680064),B!==null?_=Po(B,_):(_=ba(_,C,c,null),_.flags|=2),_.return=a,p.return=a,p.sibling=_,a.child=p,p=_,_=a.child,C=s.child.memoizedState,C=C===null?Xp(c):{baseLanes:C.baseLanes|c,cachePool:null,transitions:C.transitions},_.memoizedState=C,_.childLanes=s.childLanes&~c,a.memoizedState=Yp,p}return _=s.child,s=_.sibling,p=Po(_,{mode:"visible",children:p.children}),(a.mode&1)===0&&(p.lanes=c),p.return=a,p.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=p,a.memoizedState=null,p}function Jp(s,a){return a=Jd({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Fd(s,a,c,p){return p!==null&&Ip(p),ml(a,s.child,null,c),s=Jp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Kx(s,a,c,p,g,_,C){if(c)return a.flags&256?(a.flags&=-257,p=Gp(Error(t(422))),Fd(s,a,C,p)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(_=p.fallback,g=a.mode,p=Jd({mode:"visible",children:p.children},g,0,null),_=ba(_,g,C,null),_.flags|=2,p.return=a,_.return=a,p.sibling=_,a.child=p,(a.mode&1)!==0&&ml(a,s.child,null,C),a.child.memoizedState=Xp(C),a.memoizedState=Yp,_);if((a.mode&1)===0)return Fd(s,a,C,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var B=p.dgst;return p=B,_=Error(t(419)),p=Gp(_,p,void 0),Fd(s,a,C,p)}if(B=(C&s.childLanes)!==0,hr||B){if(p=gn,p!==null){switch(C&-C){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|C))!==0?0:g,g!==0&&g!==_.retryLane&&(_.retryLane=g,Os(s,g),Ii(p,s,g,-1))}return pm(),p=Gp(Error(t(421))),Fd(s,a,C,p)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=aC.bind(null,s),g._reactRetry=a,null):(s=_.treeContext,Cr=wo(g.nextSibling),xr=a,Rt=!0,Ei=null,s!==null&&(Yr[Xr++]=ks,Yr[Xr++]=Ls,Yr[Xr++]=ma,ks=s.id,Ls=s.overflow,ma=a),a=Jp(a,p.children),a.flags|=4096,a)}function j1(s,a,c){s.lanes|=a;var p=s.alternate;p!==null&&(p.lanes|=a),Np(s.return,a,c)}function Zp(s,a,c,p,g){var _=s.memoizedState;_===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:g}:(_.isBackwards=a,_.rendering=null,_.renderingStartTime=0,_.last=p,_.tail=c,_.tailMode=g)}function V1(s,a,c){var p=a.pendingProps,g=p.revealOrder,_=p.tail;if(nr(s,a,p.children,c),p=Mt.current,(p&2)!==0)p=p&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&j1(s,c,a);else if(s.tag===19)j1(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}p&=1}if(St(Mt,p),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&kd(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Zp(a,!1,g,c,_);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&kd(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Zp(a,!0,c,null,_);break;case"together":Zp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ud(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ms(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),_a|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Po(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Po(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Qx(s,a,c){switch(a.tag){case 3:O1(a),pl();break;case 5:J0(a);break;case 1:dr(a.type)&&Td(a);break;case 4:kp(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,g=a.memoizedProps.value;St(Cd,p._currentValue),p._currentValue=g;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(St(Mt,Mt.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?M1(s,a,c):(St(Mt,Mt.current&1),s=Ms(s,a,c),s!==null?s.sibling:null);St(Mt,Mt.current&1);break;case 19:if(p=(c&a.childLanes)!==0,(s.flags&128)!==0){if(p)return V1(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),St(Mt,Mt.current),p)break;return null;case 22:case 23:return a.lanes=0,R1(s,a,c)}return Ms(s,a,c)}var F1,em,U1,B1;F1=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},em=function(){},U1=function(s,a,c,p){var g=s.memoizedProps;if(g!==p){s=a.stateNode,va(rs.current);var _=null;switch(c){case"input":g=yt(s,g),p=yt(s,p),_=[];break;case"select":g=Z({},g,{value:void 0}),p=Z({},p,{value:void 0}),_=[];break;case"textarea":g=Hi(s,g),p=Hi(s,p),_=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(s.onclick=wd)}Gi(c,p);var C;c=null;for(ne in g)if(!p.hasOwnProperty(ne)&&g.hasOwnProperty(ne)&&g[ne]!=null)if(ne==="style"){var B=g[ne];for(C in B)B.hasOwnProperty(C)&&(c||(c={}),c[C]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?_||(_=[]):(_=_||[]).push(ne,null));for(ne in p){var H=p[ne];if(B=g!=null?g[ne]:void 0,p.hasOwnProperty(ne)&&H!==B&&(H!=null||B!=null))if(ne==="style")if(B){for(C in B)!B.hasOwnProperty(C)||H&&H.hasOwnProperty(C)||(c||(c={}),c[C]="");for(C in H)H.hasOwnProperty(C)&&B[C]!==H[C]&&(c||(c={}),c[C]=H[C])}else c||(_||(_=[]),_.push(ne,c)),c=H;else ne==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,B=B?B.__html:void 0,H!=null&&B!==H&&(_=_||[]).push(ne,H)):ne==="children"?typeof H!="string"&&typeof H!="number"||(_=_||[]).push(ne,""+H):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(H!=null&&ne==="onScroll"&&It("scroll",s),_||B===H||(_=[])):(_=_||[]).push(ne,H))}c&&(_=_||[]).push("style",c);var ne=_;(a.updateQueue=ne)&&(a.flags|=4)}},B1=function(s,a,c,p){c!==p&&(a.flags|=4)};function Fu(s,a){if(!Rt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:p.sibling=null}}function jn(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,p=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=p,s.childLanes=c,a}function Yx(s,a,c){var p=a.pendingProps;switch(Tp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(a),null;case 1:return dr(a.type)&&Ed(),jn(a),null;case 3:return p=a.stateNode,vl(),At(cr),At(Dn),Dp(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(s===null||s.child===null)&&(Ad(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ei!==null&&(dm(Ei),Ei=null))),em(s,a),jn(a),null;case 5:Lp(a);var g=va(Ou.current);if(c=a.type,s!==null&&a.stateNode!=null)U1(s,a,c,p,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(t(166));return jn(a),null}if(s=va(rs.current),Ad(a)){p=a.stateNode,c=a.type;var _=a.memoizedProps;switch(p[ns]=a,p[Nu]=_,s=(a.mode&1)!==0,c){case"dialog":It("cancel",p),It("close",p);break;case"iframe":case"object":case"embed":It("load",p);break;case"video":case"audio":for(g=0;g<Au.length;g++)It(Au[g],p);break;case"source":It("error",p);break;case"img":case"image":case"link":It("error",p),It("load",p);break;case"details":It("toggle",p);break;case"input":Lt(p,_),It("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!_.multiple},It("invalid",p);break;case"textarea":ci(p,_),It("invalid",p)}Gi(c,_),g=null;for(var C in _)if(_.hasOwnProperty(C)){var B=_[C];C==="children"?typeof B=="string"?p.textContent!==B&&(_.suppressHydrationWarning!==!0&&vd(p.textContent,B,s),g=["children",B]):typeof B=="number"&&p.textContent!==""+B&&(_.suppressHydrationWarning!==!0&&vd(p.textContent,B,s),g=["children",""+B]):i.hasOwnProperty(C)&&B!=null&&C==="onScroll"&&It("scroll",p)}switch(c){case"input":Qe(p),so(p,_,!0);break;case"textarea":Qe(p),Mr(p);break;case"select":case"option":break;default:typeof _.onClick=="function"&&(p.onclick=wd)}p=g,a.updateQueue=p,p!==null&&(a.flags|=4)}else{C=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Ot(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=C.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof p.is=="string"?s=C.createElement(c,{is:p.is}):(s=C.createElement(c),c==="select"&&(C=s,p.multiple?C.multiple=!0:p.size&&(C.size=p.size))):s=C.createElementNS(s,c),s[ns]=a,s[Nu]=p,F1(s,a,!1,!1),a.stateNode=s;e:{switch(C=Ur(c,p),c){case"dialog":It("cancel",s),It("close",s),g=p;break;case"iframe":case"object":case"embed":It("load",s),g=p;break;case"video":case"audio":for(g=0;g<Au.length;g++)It(Au[g],s);g=p;break;case"source":It("error",s),g=p;break;case"img":case"image":case"link":It("error",s),It("load",s),g=p;break;case"details":It("toggle",s),g=p;break;case"input":Lt(s,p),g=yt(s,p),It("invalid",s);break;case"option":g=p;break;case"select":s._wrapperState={wasMultiple:!!p.multiple},g=Z({},p,{value:void 0}),It("invalid",s);break;case"textarea":ci(s,p),g=Hi(s,p),It("invalid",s);break;default:g=p}Gi(c,g),B=g;for(_ in B)if(B.hasOwnProperty(_)){var H=B[_];_==="style"?hi(s,H):_==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&di(s,H)):_==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Bt(s,H):typeof H=="number"&&Bt(s,""+H):_!=="suppressContentEditableWarning"&&_!=="suppressHydrationWarning"&&_!=="autoFocus"&&(i.hasOwnProperty(_)?H!=null&&_==="onScroll"&&It("scroll",s):H!=null&&M(s,_,H,C))}switch(c){case"input":Qe(s),so(s,p,!1);break;case"textarea":Qe(s),Mr(s);break;case"option":p.value!=null&&s.setAttribute("value",""+Te(p.value));break;case"select":s.multiple=!!p.multiple,_=p.value,_!=null?Hn(s,!!p.multiple,_,!1):p.defaultValue!=null&&Hn(s,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=wd)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return jn(a),null;case 6:if(s&&a.stateNode!=null)B1(s,a,s.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(t(166));if(c=va(Ou.current),va(rs.current),Ad(a)){if(p=a.stateNode,c=a.memoizedProps,p[ns]=a,(_=p.nodeValue!==c)&&(s=xr,s!==null))switch(s.tag){case 3:vd(p.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&vd(p.nodeValue,c,(s.mode&1)!==0)}_&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[ns]=a,a.stateNode=p}return jn(a),null;case 13:if(At(Mt),p=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Rt&&Cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)z0(),pl(),a.flags|=98560,_=!1;else if(_=Ad(a),p!==null&&p.dehydrated!==null){if(s===null){if(!_)throw Error(t(318));if(_=a.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(t(317));_[ns]=a}else pl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;jn(a),_=!1}else Ei!==null&&(dm(Ei),Ei=null),_=!0;if(!_)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(p=p!==null,p!==(s!==null&&s.memoizedState!==null)&&p&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Mt.current&1)!==0?on===0&&(on=3):pm())),a.updateQueue!==null&&(a.flags|=4),jn(a),null);case 4:return vl(),em(s,a),s===null&&xu(a.stateNode.containerInfo),jn(a),null;case 10:return Cp(a.type._context),jn(a),null;case 17:return dr(a.type)&&Ed(),jn(a),null;case 19:if(At(Mt),_=a.memoizedState,_===null)return jn(a),null;if(p=(a.flags&128)!==0,C=_.rendering,C===null)if(p)Fu(_,!1);else{if(on!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(C=kd(s),C!==null){for(a.flags|=128,Fu(_,!1),p=C.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)_=c,s=p,_.flags&=14680066,C=_.alternate,C===null?(_.childLanes=0,_.lanes=s,_.child=null,_.subtreeFlags=0,_.memoizedProps=null,_.memoizedState=null,_.updateQueue=null,_.dependencies=null,_.stateNode=null):(_.childLanes=C.childLanes,_.lanes=C.lanes,_.child=C.child,_.subtreeFlags=0,_.deletions=null,_.memoizedProps=C.memoizedProps,_.memoizedState=C.memoizedState,_.updateQueue=C.updateQueue,_.type=C.type,s=C.dependencies,_.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return St(Mt,Mt.current&1|2),a.child}s=s.sibling}_.tail!==null&&ft()>Tl&&(a.flags|=128,p=!0,Fu(_,!1),a.lanes=4194304)}else{if(!p)if(s=kd(C),s!==null){if(a.flags|=128,p=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Fu(_,!0),_.tail===null&&_.tailMode==="hidden"&&!C.alternate&&!Rt)return jn(a),null}else 2*ft()-_.renderingStartTime>Tl&&c!==1073741824&&(a.flags|=128,p=!0,Fu(_,!1),a.lanes=4194304);_.isBackwards?(C.sibling=a.child,a.child=C):(c=_.last,c!==null?c.sibling=C:a.child=C,_.last=C)}return _.tail!==null?(a=_.tail,_.rendering=a,_.tail=a.sibling,_.renderingStartTime=ft(),a.sibling=null,c=Mt.current,St(Mt,p?c&1|2:c&1),a):(jn(a),null);case 22:case 23:return fm(),p=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==p&&(a.flags|=8192),p&&(a.mode&1)!==0?(Nr&1073741824)!==0&&(jn(a),a.subtreeFlags&6&&(a.flags|=8192)):jn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function Xx(s,a){switch(Tp(a),a.tag){case 1:return dr(a.type)&&Ed(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return vl(),At(cr),At(Dn),Dp(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Lp(a),null;case 13:if(At(Mt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));pl()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return At(Mt),null;case 4:return vl(),null;case 10:return Cp(a.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Bd=!1,Vn=!1,Jx=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function _l(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ut(s,a,p)}else c.current=null}function tm(s,a,c){try{c()}catch(p){Ut(s,a,p)}}var q1=!1;function Zx(s,a){if(fp=D,s=_0(),sp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var g=p.anchorOffset,_=p.focusNode;p=p.focusOffset;try{c.nodeType,_.nodeType}catch{c=null;break e}var C=0,B=-1,H=-1,ne=0,pe=0,me=s,fe=null;t:for(;;){for(var Se;me!==c||g!==0&&me.nodeType!==3||(B=C+g),me!==_||p!==0&&me.nodeType!==3||(H=C+p),me.nodeType===3&&(C+=me.nodeValue.length),(Se=me.firstChild)!==null;)fe=me,me=Se;for(;;){if(me===s)break t;if(fe===c&&++ne===g&&(B=C),fe===_&&++pe===p&&(H=C),(Se=me.nextSibling)!==null)break;me=fe,fe=me.parentNode}me=Se}c=B===-1||H===-1?null:{start:B,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(pp={focusedElem:s,selectionRange:c},D=!1,Ae=a;Ae!==null;)if(a=Ae,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ae=s;else for(;Ae!==null;){a=Ae;try{var Ne=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Ne!==null){var Pe=Ne.memoizedProps,$t=Ne.memoizedState,J=a.stateNode,W=J.getSnapshotBeforeUpdate(a.elementType===a.type?Pe:Ti(a.type,Pe),$t);J.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var te=a.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ve){Ut(a,a.return,ve)}if(s=a.sibling,s!==null){s.return=a.return,Ae=s;break}Ae=a.return}return Ne=q1,q1=!1,Ne}function Uu(s,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&s)===s){var _=g.destroy;g.destroy=void 0,_!==void 0&&tm(a,c,_)}g=g.next}while(g!==p)}}function qd(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function nm(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function $1(s){var a=s.alternate;a!==null&&(s.alternate=null,$1(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ns],delete a[Nu],delete a[vp],delete a[Dx],delete a[Mx])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function z1(s){return s.tag===5||s.tag===3||s.tag===4}function H1(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||z1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rm(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=wd));else if(p!==4&&(s=s.child,s!==null))for(rm(s,a,c),s=s.sibling;s!==null;)rm(s,a,c),s=s.sibling}function im(s,a,c){var p=s.tag;if(p===5||p===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(p!==4&&(s=s.child,s!==null))for(im(s,a,c),s=s.sibling;s!==null;)im(s,a,c),s=s.sibling}var Sn=null,Si=!1;function Io(s,a,c){for(c=c.child;c!==null;)G1(s,a,c),c=c.sibling}function G1(s,a,c){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Er,c)}catch{}switch(c.tag){case 5:Vn||_l(c,a);case 6:var p=Sn,g=Si;Sn=null,Io(s,a,c),Sn=p,Si=g,Sn!==null&&(Si?(s=Sn,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):Sn.removeChild(c.stateNode));break;case 18:Sn!==null&&(Si?(s=Sn,c=c.stateNode,s.nodeType===8?yp(s.parentNode,c):s.nodeType===1&&yp(s,c),er(s)):yp(Sn,c.stateNode));break;case 4:p=Sn,g=Si,Sn=c.stateNode.containerInfo,Si=!0,Io(s,a,c),Sn=p,Si=g;break;case 0:case 11:case 14:case 15:if(!Vn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var _=g,C=_.destroy;_=_.tag,C!==void 0&&((_&2)!==0||(_&4)!==0)&&tm(c,a,C),g=g.next}while(g!==p)}Io(s,a,c);break;case 1:if(!Vn&&(_l(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(B){Ut(c,a,B)}Io(s,a,c);break;case 21:Io(s,a,c);break;case 22:c.mode&1?(Vn=(p=Vn)||c.memoizedState!==null,Io(s,a,c),Vn=p):Io(s,a,c);break;default:Io(s,a,c)}}function W1(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Jx),a.forEach(function(p){var g=lC.bind(null,s,p);c.has(p)||(c.add(p),p.then(g,g))})}}function bi(s,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var g=c[p];try{var _=s,C=a,B=C;e:for(;B!==null;){switch(B.tag){case 5:Sn=B.stateNode,Si=!1;break e;case 3:Sn=B.stateNode.containerInfo,Si=!0;break e;case 4:Sn=B.stateNode.containerInfo,Si=!0;break e}B=B.return}if(Sn===null)throw Error(t(160));G1(_,C,g),Sn=null,Si=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(ne){Ut(g,a,ne)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)K1(a,s),a=a.sibling}function K1(s,a){var c=s.alternate,p=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(bi(a,s),ss(s),p&4){try{Uu(3,s,s.return),qd(3,s)}catch(Pe){Ut(s,s.return,Pe)}try{Uu(5,s,s.return)}catch(Pe){Ut(s,s.return,Pe)}}break;case 1:bi(a,s),ss(s),p&512&&c!==null&&_l(c,c.return);break;case 5:if(bi(a,s),ss(s),p&512&&c!==null&&_l(c,c.return),s.flags&32){var g=s.stateNode;try{Bt(g,"")}catch(Pe){Ut(s,s.return,Pe)}}if(p&4&&(g=s.stateNode,g!=null)){var _=s.memoizedProps,C=c!==null?c.memoizedProps:_,B=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{B==="input"&&_.type==="radio"&&_.name!=null&&ui(g,_),Ur(B,C);var ne=Ur(B,_);for(C=0;C<H.length;C+=2){var pe=H[C],me=H[C+1];pe==="style"?hi(g,me):pe==="dangerouslySetInnerHTML"?di(g,me):pe==="children"?Bt(g,me):M(g,pe,me,ne)}switch(B){case"input":$i(g,_);break;case"textarea":wn(g,_);break;case"select":var fe=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!_.multiple;var Se=_.value;Se!=null?Hn(g,!!_.multiple,Se,!1):fe!==!!_.multiple&&(_.defaultValue!=null?Hn(g,!!_.multiple,_.defaultValue,!0):Hn(g,!!_.multiple,_.multiple?[]:"",!1))}g[Nu]=_}catch(Pe){Ut(s,s.return,Pe)}}break;case 6:if(bi(a,s),ss(s),p&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,_=s.memoizedProps;try{g.nodeValue=_}catch(Pe){Ut(s,s.return,Pe)}}break;case 3:if(bi(a,s),ss(s),p&4&&c!==null&&c.memoizedState.isDehydrated)try{er(a.containerInfo)}catch(Pe){Ut(s,s.return,Pe)}break;case 4:bi(a,s),ss(s);break;case 13:bi(a,s),ss(s),g=s.child,g.flags&8192&&(_=g.memoizedState!==null,g.stateNode.isHidden=_,!_||g.alternate!==null&&g.alternate.memoizedState!==null||(am=ft())),p&4&&W1(s);break;case 22:if(pe=c!==null&&c.memoizedState!==null,s.mode&1?(Vn=(ne=Vn)||pe,bi(a,s),Vn=ne):bi(a,s),ss(s),p&8192){if(ne=s.memoizedState!==null,(s.stateNode.isHidden=ne)&&!pe&&(s.mode&1)!==0)for(Ae=s,pe=s.child;pe!==null;){for(me=Ae=pe;Ae!==null;){switch(fe=Ae,Se=fe.child,fe.tag){case 0:case 11:case 14:case 15:Uu(4,fe,fe.return);break;case 1:_l(fe,fe.return);var Ne=fe.stateNode;if(typeof Ne.componentWillUnmount=="function"){p=fe,c=fe.return;try{a=p,Ne.props=a.memoizedProps,Ne.state=a.memoizedState,Ne.componentWillUnmount()}catch(Pe){Ut(p,c,Pe)}}break;case 5:_l(fe,fe.return);break;case 22:if(fe.memoizedState!==null){X1(me);continue}}Se!==null?(Se.return=fe,Ae=Se):X1(me)}pe=pe.sibling}e:for(pe=null,me=s;;){if(me.tag===5){if(pe===null){pe=me;try{g=me.stateNode,ne?(_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none"):(B=me.stateNode,H=me.memoizedProps.style,C=H!=null&&H.hasOwnProperty("display")?H.display:null,B.style.display=Es("display",C))}catch(Pe){Ut(s,s.return,Pe)}}}else if(me.tag===6){if(pe===null)try{me.stateNode.nodeValue=ne?"":me.memoizedProps}catch(Pe){Ut(s,s.return,Pe)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;pe===me&&(pe=null),me=me.return}pe===me&&(pe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:bi(a,s),ss(s),p&4&&W1(s);break;case 21:break;default:bi(a,s),ss(s)}}function ss(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(z1(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(Bt(g,""),p.flags&=-33);var _=H1(s);im(s,_,g);break;case 3:case 4:var C=p.stateNode.containerInfo,B=H1(s);rm(s,B,C);break;default:throw Error(t(161))}}catch(H){Ut(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function eC(s,a,c){Ae=s,Q1(s)}function Q1(s,a,c){for(var p=(s.mode&1)!==0;Ae!==null;){var g=Ae,_=g.child;if(g.tag===22&&p){var C=g.memoizedState!==null||Bd;if(!C){var B=g.alternate,H=B!==null&&B.memoizedState!==null||Vn;B=Bd;var ne=Vn;if(Bd=C,(Vn=H)&&!ne)for(Ae=g;Ae!==null;)C=Ae,H=C.child,C.tag===22&&C.memoizedState!==null?J1(g):H!==null?(H.return=C,Ae=H):J1(g);for(;_!==null;)Ae=_,Q1(_),_=_.sibling;Ae=g,Bd=B,Vn=ne}Y1(s)}else(g.subtreeFlags&8772)!==0&&_!==null?(_.return=g,Ae=_):Y1(s)}}function Y1(s){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Vn||qd(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!Vn)if(c===null)p.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Ti(a.type,c.memoizedProps);p.componentDidUpdate(g,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var _=a.updateQueue;_!==null&&X0(a,_,p);break;case 3:var C=a.updateQueue;if(C!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}X0(a,C,c)}break;case 5:var B=a.stateNode;if(c===null&&a.flags&4){c=B;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ne=a.alternate;if(ne!==null){var pe=ne.memoizedState;if(pe!==null){var me=pe.dehydrated;me!==null&&er(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Vn||a.flags&512&&nm(a)}catch(fe){Ut(a,a.return,fe)}}if(a===s){Ae=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function X1(s){for(;Ae!==null;){var a=Ae;if(a===s){Ae=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ae=c;break}Ae=a.return}}function J1(s){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{qd(4,a)}catch(H){Ut(a,c,H)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var g=a.return;try{p.componentDidMount()}catch(H){Ut(a,g,H)}}var _=a.return;try{nm(a)}catch(H){Ut(a,_,H)}break;case 5:var C=a.return;try{nm(a)}catch(H){Ut(a,C,H)}}}catch(H){Ut(a,a.return,H)}if(a===s){Ae=null;break}var B=a.sibling;if(B!==null){B.return=a.return,Ae=B;break}Ae=a.return}}var tC=Math.ceil,$d=z.ReactCurrentDispatcher,sm=z.ReactCurrentOwner,ei=z.ReactCurrentBatchConfig,lt=0,gn=null,Yt=null,bn=0,Nr=0,El=_o(0),on=0,Bu=null,_a=0,zd=0,om=0,qu=null,fr=null,am=0,Tl=1/0,js=null,Hd=!1,lm=null,Ao=null,Gd=!1,xo=null,Wd=0,$u=0,um=null,Kd=-1,Qd=0;function rr(){return(lt&6)!==0?ft():Kd!==-1?Kd:Kd=ft()}function Co(s){return(s.mode&1)===0?1:(lt&2)!==0&&bn!==0?bn&-bn:Vx.transition!==null?(Qd===0&&(Qd=vi()),Qd):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Xe(s.type)),s)}function Ii(s,a,c,p){if(50<$u)throw $u=0,um=null,Error(t(185));Wr(s,c,p),((lt&2)===0||s!==gn)&&(s===gn&&((lt&2)===0&&(zd|=c),on===4&&No(s,bn)),pr(s,p),c===1&&lt===0&&(a.mode&1)===0&&(Tl=ft()+500,Sd&&To()))}function pr(s,a){var c=s.callbackNode;Sr(s,a);var p=Gr(s,s===gn?bn:0);if(p===0)c!==null&&Gt(c),s.callbackNode=null,s.callbackPriority=0;else if(a=p&-p,s.callbackPriority!==a){if(c!=null&&Gt(c),a===1)s.tag===0?jx(ew.bind(null,s)):F0(ew.bind(null,s)),Lx(function(){(lt&6)===0&&To()}),c=null;else{switch(fn(p)){case 1:c=gi;break;case 4:c=Yn;break;case 16:c=_n;break;case 536870912:c=Xn;break;default:c=_n}c=lw(c,Z1.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function Z1(s,a){if(Kd=-1,Qd=0,(lt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Sl()&&s.callbackNode!==c)return null;var p=Gr(s,s===gn?bn:0);if(p===0)return null;if((p&30)!==0||(p&s.expiredLanes)!==0||a)a=Yd(s,p);else{a=p;var g=lt;lt|=2;var _=nw();(gn!==s||bn!==a)&&(js=null,Tl=ft()+500,Ta(s,a));do try{iC();break}catch(B){tw(s,B)}while(!0);xp(),$d.current=_,lt=g,Yt!==null?a=0:(gn=null,bn=0,a=on)}if(a!==0){if(a===2&&(g=Tn(s),g!==0&&(p=g,a=cm(s,g))),a===1)throw c=Bu,Ta(s,0),No(s,p),pr(s,ft()),c;if(a===6)No(s,p);else{if(g=s.current.alternate,(p&30)===0&&!nC(g)&&(a=Yd(s,p),a===2&&(_=Tn(s),_!==0&&(p=_,a=cm(s,_))),a===1))throw c=Bu,Ta(s,0),No(s,p),pr(s,ft()),c;switch(s.finishedWork=g,s.finishedLanes=p,a){case 0:case 1:throw Error(t(345));case 2:Sa(s,fr,js);break;case 3:if(No(s,p),(p&130023424)===p&&(a=am+500-ft(),10<a)){if(Gr(s,0)!==0)break;if(g=s.suspendedLanes,(g&p)!==p){rr(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=gp(Sa.bind(null,s,fr,js),a);break}Sa(s,fr,js);break;case 4:if(No(s,p),(p&4194240)===p)break;for(a=s.eventTimes,g=-1;0<p;){var C=31-en(p);_=1<<C,C=a[C],C>g&&(g=C),p&=~_}if(p=g,p=ft()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*tC(p/1960))-p,10<p){s.timeoutHandle=gp(Sa.bind(null,s,fr,js),p);break}Sa(s,fr,js);break;case 5:Sa(s,fr,js);break;default:throw Error(t(329))}}}return pr(s,ft()),s.callbackNode===c?Z1.bind(null,s):null}function cm(s,a){var c=qu;return s.current.memoizedState.isDehydrated&&(Ta(s,a).flags|=256),s=Yd(s,a),s!==2&&(a=fr,fr=c,a!==null&&dm(a)),s}function dm(s){fr===null?fr=s:fr.push.apply(fr,s)}function nC(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var g=c[p],_=g.getSnapshot;g=g.value;try{if(!_i(_(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function No(s,a){for(a&=~om,a&=~zd,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-en(a),p=1<<c;s[c]=-1,a&=~p}}function ew(s){if((lt&6)!==0)throw Error(t(327));Sl();var a=Gr(s,0);if((a&1)===0)return pr(s,ft()),null;var c=Yd(s,a);if(s.tag!==0&&c===2){var p=Tn(s);p!==0&&(a=p,c=cm(s,p))}if(c===1)throw c=Bu,Ta(s,0),No(s,a),pr(s,ft()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Sa(s,fr,js),pr(s,ft()),null}function hm(s,a){var c=lt;lt|=1;try{return s(a)}finally{lt=c,lt===0&&(Tl=ft()+500,Sd&&To())}}function Ea(s){xo!==null&&xo.tag===0&&(lt&6)===0&&Sl();var a=lt;lt|=1;var c=ei.transition,p=$e;try{if(ei.transition=null,$e=1,s)return s()}finally{$e=p,ei.transition=c,lt=a,(lt&6)===0&&To()}}function fm(){Nr=El.current,At(El)}function Ta(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,kx(c)),Yt!==null)for(c=Yt.return;c!==null;){var p=c;switch(Tp(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ed();break;case 3:vl(),At(cr),At(Dn),Dp();break;case 5:Lp(p);break;case 4:vl();break;case 13:At(Mt);break;case 19:At(Mt);break;case 10:Cp(p.type._context);break;case 22:case 23:fm()}c=c.return}if(gn=s,Yt=s=Po(s.current,null),bn=Nr=a,on=0,Bu=null,om=zd=_a=0,fr=qu=null,ya!==null){for(a=0;a<ya.length;a++)if(c=ya[a],p=c.interleaved,p!==null){c.interleaved=null;var g=p.next,_=c.pending;if(_!==null){var C=_.next;_.next=g,p.next=C}c.pending=p}ya=null}return s}function tw(s,a){do{var c=Yt;try{if(xp(),Ld.current=jd,Od){for(var p=jt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}Od=!1}if(wa=0,mn=sn=jt=null,Du=!1,Mu=0,sm.current=null,c===null||c.return===null){on=1,Bu=a,Yt=null;break}e:{var _=s,C=c.return,B=c,H=a;if(a=bn,B.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var ne=H,pe=B,me=pe.tag;if((pe.mode&1)===0&&(me===0||me===11||me===15)){var fe=pe.alternate;fe?(pe.updateQueue=fe.updateQueue,pe.memoizedState=fe.memoizedState,pe.lanes=fe.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var Se=A1(C);if(Se!==null){Se.flags&=-257,x1(Se,C,B,_,a),Se.mode&1&&I1(_,ne,a),a=Se,H=ne;var Ne=a.updateQueue;if(Ne===null){var Pe=new Set;Pe.add(H),a.updateQueue=Pe}else Ne.add(H);break e}else{if((a&1)===0){I1(_,ne,a),pm();break e}H=Error(t(426))}}else if(Rt&&B.mode&1){var $t=A1(C);if($t!==null){($t.flags&65536)===0&&($t.flags|=256),x1($t,C,B,_,a),Ip(wl(H,B));break e}}_=H=wl(H,B),on!==4&&(on=2),qu===null?qu=[_]:qu.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,a&=-a,_.lanes|=a;var J=S1(_,H,a);Y0(_,J);break e;case 1:B=H;var W=_.type,te=_.stateNode;if((_.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Ao===null||!Ao.has(te)))){_.flags|=65536,a&=-a,_.lanes|=a;var ve=b1(_,B,a);Y0(_,ve);break e}}_=_.return}while(_!==null)}iw(c)}catch(Le){a=Le,Yt===c&&c!==null&&(Yt=c=c.return);continue}break}while(!0)}function nw(){var s=$d.current;return $d.current=jd,s===null?jd:s}function pm(){(on===0||on===3||on===2)&&(on=4),gn===null||(_a&268435455)===0&&(zd&268435455)===0||No(gn,bn)}function Yd(s,a){var c=lt;lt|=2;var p=nw();(gn!==s||bn!==a)&&(js=null,Ta(s,a));do try{rC();break}catch(g){tw(s,g)}while(!0);if(xp(),lt=c,$d.current=p,Yt!==null)throw Error(t(261));return gn=null,bn=0,on}function rC(){for(;Yt!==null;)rw(Yt)}function iC(){for(;Yt!==null&&!lo();)rw(Yt)}function rw(s){var a=aw(s.alternate,s,Nr);s.memoizedProps=s.pendingProps,a===null?iw(s):Yt=a,sm.current=null}function iw(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=Yx(c,a,Nr),c!==null){Yt=c;return}}else{if(c=Xx(c,a),c!==null){c.flags&=32767,Yt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{on=6,Yt=null;return}}if(a=a.sibling,a!==null){Yt=a;return}Yt=a=s}while(a!==null);on===0&&(on=5)}function Sa(s,a,c){var p=$e,g=ei.transition;try{ei.transition=null,$e=1,sC(s,a,c,p)}finally{ei.transition=g,$e=p}return null}function sC(s,a,c,p){do Sl();while(xo!==null);if((lt&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var _=c.lanes|c.childLanes;if(dt(s,_),s===gn&&(Yt=gn=null,bn=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Gd||(Gd=!0,lw(_n,function(){return Sl(),null})),_=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||_){_=ei.transition,ei.transition=null;var C=$e;$e=1;var B=lt;lt|=4,sm.current=null,Zx(s,c),K1(c,s),Ix(pp),D=!!fp,pp=fp=null,s.current=c,eC(c),ua(),lt=B,$e=C,ei.transition=_}else s.current=c;if(Gd&&(Gd=!1,xo=s,Wd=g),_=s.pendingLanes,_===0&&(Ao=null),co(c.stateNode),pr(s,ft()),a!==null)for(p=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],p(g.value,{componentStack:g.stack,digest:g.digest});if(Hd)throw Hd=!1,s=lm,lm=null,s;return(Wd&1)!==0&&s.tag!==0&&Sl(),_=s.pendingLanes,(_&1)!==0?s===um?$u++:($u=0,um=s):$u=0,To(),null}function Sl(){if(xo!==null){var s=fn(Wd),a=ei.transition,c=$e;try{if(ei.transition=null,$e=16>s?16:s,xo===null)var p=!1;else{if(s=xo,xo=null,Wd=0,(lt&6)!==0)throw Error(t(331));var g=lt;for(lt|=4,Ae=s.current;Ae!==null;){var _=Ae,C=_.child;if((Ae.flags&16)!==0){var B=_.deletions;if(B!==null){for(var H=0;H<B.length;H++){var ne=B[H];for(Ae=ne;Ae!==null;){var pe=Ae;switch(pe.tag){case 0:case 11:case 15:Uu(8,pe,_)}var me=pe.child;if(me!==null)me.return=pe,Ae=me;else for(;Ae!==null;){pe=Ae;var fe=pe.sibling,Se=pe.return;if($1(pe),pe===ne){Ae=null;break}if(fe!==null){fe.return=Se,Ae=fe;break}Ae=Se}}}var Ne=_.alternate;if(Ne!==null){var Pe=Ne.child;if(Pe!==null){Ne.child=null;do{var $t=Pe.sibling;Pe.sibling=null,Pe=$t}while(Pe!==null)}}Ae=_}}if((_.subtreeFlags&2064)!==0&&C!==null)C.return=_,Ae=C;else e:for(;Ae!==null;){if(_=Ae,(_.flags&2048)!==0)switch(_.tag){case 0:case 11:case 15:Uu(9,_,_.return)}var J=_.sibling;if(J!==null){J.return=_.return,Ae=J;break e}Ae=_.return}}var W=s.current;for(Ae=W;Ae!==null;){C=Ae;var te=C.child;if((C.subtreeFlags&2064)!==0&&te!==null)te.return=C,Ae=te;else e:for(C=W;Ae!==null;){if(B=Ae,(B.flags&2048)!==0)try{switch(B.tag){case 0:case 11:case 15:qd(9,B)}}catch(Le){Ut(B,B.return,Le)}if(B===C){Ae=null;break e}var ve=B.sibling;if(ve!==null){ve.return=B.return,Ae=ve;break e}Ae=B.return}}if(lt=g,To(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Er,s)}catch{}p=!0}return p}finally{$e=c,ei.transition=a}}return!1}function sw(s,a,c){a=wl(c,a),a=S1(s,a,1),s=bo(s,a,1),a=rr(),s!==null&&(Wr(s,1,a),pr(s,a))}function Ut(s,a,c){if(s.tag===3)sw(s,s,c);else for(;a!==null;){if(a.tag===3){sw(a,s,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ao===null||!Ao.has(p))){s=wl(c,s),s=b1(a,s,1),a=bo(a,s,1),s=rr(),a!==null&&(Wr(a,1,s),pr(a,s));break}}a=a.return}}function oC(s,a,c){var p=s.pingCache;p!==null&&p.delete(a),a=rr(),s.pingedLanes|=s.suspendedLanes&c,gn===s&&(bn&c)===c&&(on===4||on===3&&(bn&130023424)===bn&&500>ft()-am?Ta(s,0):om|=c),pr(s,a)}function ow(s,a){a===0&&((s.mode&1)===0?a=1:(a=sr,sr<<=1,(sr&130023424)===0&&(sr=4194304)));var c=rr();s=Os(s,a),s!==null&&(Wr(s,a,c),pr(s,c))}function aC(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),ow(s,c)}function lC(s,a){var c=0;switch(s.tag){case 13:var p=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:p=s.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(a),ow(s,c)}var aw;aw=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||cr.current)hr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return hr=!1,Qx(s,a,c);hr=(s.flags&131072)!==0}else hr=!1,Rt&&(a.flags&1048576)!==0&&U0(a,Id,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;Ud(s,a),s=a.pendingProps;var g=dl(a,Dn.current);yl(a,c),g=Vp(null,a,p,s,g,c);var _=Fp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,dr(p)?(_=!0,Td(a)):_=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Rp(a),g.updater=Vd,a.stateNode=g,g._reactInternals=a,Hp(a,p,s,c),a=Qp(null,a,p,!0,_,c)):(a.tag=0,Rt&&_&&Ep(a),nr(null,a,g,c),a=a.child),a;case 16:p=a.elementType;e:{switch(Ud(s,a),s=a.pendingProps,g=p._init,p=g(p._payload),a.type=p,g=a.tag=cC(p),s=Ti(p,s),g){case 0:a=Kp(null,a,p,s,c);break e;case 1:a=L1(null,a,p,s,c);break e;case 11:a=C1(null,a,p,s,c);break e;case 14:a=N1(null,a,p,Ti(p.type,s),c);break e}throw Error(t(306,p,""))}return a;case 0:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Ti(p,g),Kp(s,a,p,g,c);case 1:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Ti(p,g),L1(s,a,p,g,c);case 3:e:{if(O1(a),s===null)throw Error(t(387));p=a.pendingProps,_=a.memoizedState,g=_.element,Q0(s,a),Rd(a,p,null,c);var C=a.memoizedState;if(p=C.element,_.isDehydrated)if(_={element:p,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){g=wl(Error(t(423)),a),a=D1(s,a,p,c,g);break e}else if(p!==g){g=wl(Error(t(424)),a),a=D1(s,a,p,c,g);break e}else for(Cr=wo(a.stateNode.containerInfo.firstChild),xr=a,Rt=!0,Ei=null,c=W0(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(pl(),p===g){a=Ms(s,a,c);break e}nr(s,a,p,c)}a=a.child}return a;case 5:return J0(a),s===null&&bp(a),p=a.type,g=a.pendingProps,_=s!==null?s.memoizedProps:null,C=g.children,mp(p,g)?C=null:_!==null&&mp(p,_)&&(a.flags|=32),k1(s,a),nr(s,a,C,c),a.child;case 6:return s===null&&bp(a),null;case 13:return M1(s,a,c);case 4:return kp(a,a.stateNode.containerInfo),p=a.pendingProps,s===null?a.child=ml(a,null,p,c):nr(s,a,p,c),a.child;case 11:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Ti(p,g),C1(s,a,p,g,c);case 7:return nr(s,a,a.pendingProps,c),a.child;case 8:return nr(s,a,a.pendingProps.children,c),a.child;case 12:return nr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,g=a.pendingProps,_=a.memoizedProps,C=g.value,St(Cd,p._currentValue),p._currentValue=C,_!==null)if(_i(_.value,C)){if(_.children===g.children&&!cr.current){a=Ms(s,a,c);break e}}else for(_=a.child,_!==null&&(_.return=a);_!==null;){var B=_.dependencies;if(B!==null){C=_.child;for(var H=B.firstContext;H!==null;){if(H.context===p){if(_.tag===1){H=Ds(-1,c&-c),H.tag=2;var ne=_.updateQueue;if(ne!==null){ne=ne.shared;var pe=ne.pending;pe===null?H.next=H:(H.next=pe.next,pe.next=H),ne.pending=H}}_.lanes|=c,H=_.alternate,H!==null&&(H.lanes|=c),Np(_.return,c,a),B.lanes|=c;break}H=H.next}}else if(_.tag===10)C=_.type===a.type?null:_.child;else if(_.tag===18){if(C=_.return,C===null)throw Error(t(341));C.lanes|=c,B=C.alternate,B!==null&&(B.lanes|=c),Np(C,c,a),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===a){C=null;break}if(_=C.sibling,_!==null){_.return=C.return,C=_;break}C=C.return}_=C}nr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,p=a.pendingProps.children,yl(a,c),g=Jr(g),p=p(g),a.flags|=1,nr(s,a,p,c),a.child;case 14:return p=a.type,g=Ti(p,a.pendingProps),g=Ti(p.type,g),N1(s,a,p,g,c);case 15:return P1(s,a,a.type,a.pendingProps,c);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:Ti(p,g),Ud(s,a),a.tag=1,dr(p)?(s=!0,Td(a)):s=!1,yl(a,c),E1(a,p,g),Hp(a,p,g,c),Qp(null,a,p,!0,s,c);case 19:return V1(s,a,c);case 22:return R1(s,a,c)}throw Error(t(156,a.tag))};function lw(s,a){return Xi(s,a)}function uC(s,a,c,p){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(s,a,c,p){return new uC(s,a,c,p)}function mm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cC(s){if(typeof s=="function")return mm(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===ue)return 14}return 2}function Po(s,a){var c=s.alternate;return c===null?(c=ti(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Xd(s,a,c,p,g,_){var C=2;if(p=s,typeof s=="function")mm(s)&&(C=1);else if(typeof s=="string")C=5;else e:switch(s){case U:return ba(c.children,g,_,a);case L:C=8,g|=8;break;case O:return s=ti(12,c,a,g|2),s.elementType=O,s.lanes=_,s;case x:return s=ti(13,c,a,g),s.elementType=x,s.lanes=_,s;case le:return s=ti(19,c,a,g),s.elementType=le,s.lanes=_,s;case oe:return Jd(c,g,_,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:C=10;break e;case A:C=9;break e;case V:C=11;break e;case ue:C=14;break e;case X:C=16,p=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ti(C,c,a,g),a.elementType=s,a.type=p,a.lanes=_,a}function ba(s,a,c,p){return s=ti(7,s,p,a),s.lanes=c,s}function Jd(s,a,c,p){return s=ti(22,s,p,a),s.elementType=oe,s.lanes=c,s.stateNode={isHidden:!1},s}function gm(s,a,c){return s=ti(6,s,null,a),s.lanes=c,s}function ym(s,a,c){return a=ti(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function dC(s,a,c,p,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=or(0),this.expirationTimes=or(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=or(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function vm(s,a,c,p,g,_,C,B,H){return s=new dC(s,a,c,B,H),a===1?(a=1,_===!0&&(a|=8)):a=0,_=ti(3,null,null,a),s.current=_,_.stateNode=s,_.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rp(_),s}function hC(s,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:p==null?null:""+p,children:s,containerInfo:a,implementation:c}}function uw(s){if(!s)return Eo;s=s._reactInternals;e:{if(Kn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(dr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(dr(c))return j0(s,c,a)}return a}function cw(s,a,c,p,g,_,C,B,H){return s=vm(c,p,!0,s,g,_,C,B,H),s.context=uw(null),c=s.current,p=rr(),g=Co(c),_=Ds(p,g),_.callback=a??null,bo(c,_,g),s.current.lanes=g,Wr(s,g,p),pr(s,p),s}function Zd(s,a,c,p){var g=a.current,_=rr(),C=Co(g);return c=uw(c),a.context===null?a.context=c:a.pendingContext=c,a=Ds(_,C),a.payload={element:s},p=p===void 0?null:p,p!==null&&(a.callback=p),s=bo(g,a,C),s!==null&&(Ii(s,g,C,_),Pd(s,g,C)),C}function eh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dw(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function wm(s,a){dw(s,a),(s=s.alternate)&&dw(s,a)}function fC(){return null}var hw=typeof reportError=="function"?reportError:function(s){console.error(s)};function _m(s){this._internalRoot=s}th.prototype.render=_m.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Zd(s,a,null,null)},th.prototype.unmount=_m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ea(function(){Zd(null,s,null,null)}),a[Ps]=null}};function th(s){this._internalRoot=s}th.prototype.unstable_scheduleHydration=function(s){if(s){var a=fo();s={blockedOn:null,target:s,priority:a};for(var c=0;c<On.length&&a!==0&&a<On[c].priority;c++);On.splice(c,0,s),c===0&&xs(s)}};function Em(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function nh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fw(){}function pC(s,a,c,p,g){if(g){if(typeof p=="function"){var _=p;p=function(){var ne=eh(C);_.call(ne)}}var C=cw(a,p,s,0,null,!1,!1,"",fw);return s._reactRootContainer=C,s[Ps]=C.current,xu(s.nodeType===8?s.parentNode:s),Ea(),C}for(;g=s.lastChild;)s.removeChild(g);if(typeof p=="function"){var B=p;p=function(){var ne=eh(H);B.call(ne)}}var H=vm(s,0,!1,null,null,!1,!1,"",fw);return s._reactRootContainer=H,s[Ps]=H.current,xu(s.nodeType===8?s.parentNode:s),Ea(function(){Zd(a,H,c,p)}),H}function rh(s,a,c,p,g){var _=c._reactRootContainer;if(_){var C=_;if(typeof g=="function"){var B=g;g=function(){var H=eh(C);B.call(H)}}Zd(a,C,s,g)}else C=pC(c,a,s,g,p);return eh(C)}ar=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=Tr(a.pendingLanes);c!==0&&(kn(a,c|1),pr(a,ft()),(lt&6)===0&&(Tl=ft()+500,To()))}break;case 13:Ea(function(){var p=Os(s,1);if(p!==null){var g=rr();Ii(p,s,1,g)}}),wm(s,1)}},Ji=function(s){if(s.tag===13){var a=Os(s,134217728);if(a!==null){var c=rr();Ii(a,s,134217728,c)}wm(s,134217728)}},Jn=function(s){if(s.tag===13){var a=Co(s),c=Os(s,a);if(c!==null){var p=rr();Ii(c,s,a,p)}wm(s,a)}},fo=function(){return $e},po=function(s,a){var c=$e;try{return $e=s,a()}finally{$e=c}},wr=function(s,a,c){switch(a){case"input":if($i(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==s&&p.form===s.form){var g=_d(p);if(!g)throw Error(t(90));nt(p),$i(p,g)}}}break;case"textarea":wn(s,c);break;case"select":a=c.value,a!=null&&Hn(s,!!c.multiple,a,!1)}},_r=hm,pi=Ea;var mC={usingClientEntryPoint:!1,Events:[Pu,ul,_d,dn,fi,hm]},zu={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gC={bundleType:zu.bundleType,version:zu.version,rendererPackageName:zu.rendererPackageName,rendererConfig:zu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ss(s),s===null?null:s.stateNode},findFiberByHostInstance:zu.findFiberByHostInstance||fC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Er=ih.inject(gC),En=ih}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mC,mr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Em(a))throw Error(t(200));return hC(s,a,null,c)},mr.createRoot=function(s,a){if(!Em(s))throw Error(t(299));var c=!1,p="",g=hw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=vm(s,1,!1,null,null,c,!1,p,g),s[Ps]=a.current,xu(s.nodeType===8?s.parentNode:s),new _m(a)},mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Ss(a),s=s===null?null:s.stateNode,s},mr.flushSync=function(s){return Ea(s)},mr.hydrate=function(s,a,c){if(!nh(a))throw Error(t(200));return rh(null,s,a,!0,c)},mr.hydrateRoot=function(s,a,c){if(!Em(s))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,g=!1,_="",C=hw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(_=c.identifierPrefix),c.onRecoverableError!==void 0&&(C=c.onRecoverableError)),a=cw(a,null,s,1,c??null,g,!1,_,C),s[Ps]=a.current,xu(s),p)for(s=0;s<p.length;s++)c=p[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new th(a)},mr.render=function(s,a,c){if(!nh(a))throw Error(t(200));return rh(null,s,a,!1,c)},mr.unmountComponentAtNode=function(s){if(!nh(s))throw Error(t(40));return s._reactRootContainer?(Ea(function(){rh(null,null,s,!1,function(){s._reactRootContainer=null,s[Ps]=null})}),!0):!1},mr.unstable_batchedUpdates=hm,mr.unstable_renderSubtreeIntoContainer=function(s,a,c,p){if(!nh(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return rh(s,a,c,!1,p)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var Ew;function xC(){if(Ew)return bm.exports;Ew=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),bm.exports=AC(),bm.exports}var Tw;function CC(){if(Tw)return sh;Tw=1;var n=xC();return sh.createRoot=n.createRoot,sh.hydrateRoot=n.hydrateRoot,sh}var NC=CC(),G=Ry();const We=su(G);var xm,Sw;function PC(){if(Sw)return xm;Sw=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var u,d,f;if(Array.isArray(o)){if(u=o.length,u!=l.length)return!1;for(d=u;d--!==0;)if(!i(o[d],l[d]))return!1;return!0}var m;if(e&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!l.has(d.value[0]))return!1;for(m=o.entries();!(d=m.next()).done;)if(!i(d.value[1],l.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(m=o.entries();!(d=m.next()).done;)if(!l.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if(u=o.length,u!=l.length)return!1;for(d=u;d--!==0;)if(o[d]!==l[d])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if(f=Object.keys(o),u=f.length,u!==Object.keys(l).length)return!1;for(d=u;d--!==0;)if(!Object.prototype.hasOwnProperty.call(l,f[d]))return!1;if(n&&o instanceof Element)return!1;for(d=u;d--!==0;)if(!((f[d]==="_owner"||f[d]==="__v"||f[d]==="__o")&&o.$$typeof)&&!i(o[f[d]],l[f[d]]))return!1;return!0}return o!==o&&l!==l}return xm=function(l,u){try{return i(l,u)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},xm}var RC=PC();const kC=su(RC);var Cm,bw;function LC(){if(bw)return Cm;bw=1;var n=function(e,t,r,i,o,l,u,d){if(!e){var f;if(t===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[r,i,o,l,u,d],v=0;f=new Error(t.replace(/%s/g,function(){return m[v++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return Cm=n,Cm}var OC=LC();const Iw=su(OC);var Nm,Aw;function DC(){return Aw||(Aw=1,Nm=function(e,t,r,i){var o=r?r.call(i,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var l=Object.keys(e),u=Object.keys(t);if(l.length!==u.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(t),f=0;f<l.length;f++){var m=l[f];if(!d(m))return!1;var v=e[m],y=t[m];if(o=r?r.call(i,v,y,m):void 0,o===!1||o===void 0&&v!==y)return!1}return!0}),Nm}var MC=DC();const jC=su(MC);var RT=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(RT||{}),Pm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},xw=Object.values(RT),ky={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},VC=Object.entries(ky).reduce((n,[e,t])=>(n[t]=e,n),{}),Ri="data-rh",Dl={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Ml=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},FC=n=>{let e=Ml(n,"title");const t=Ml(n,Dl.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=Ml(n,Dl.DEFAULT_TITLE);return e||r||void 0},UC=n=>Ml(n,Dl.ON_CHANGE_CLIENT_STATE)||(()=>{}),Rm=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),BC=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const u=i[o].toLowerCase();if(n.indexOf(u)!==-1&&r[u])return t.concat(r)}}return t},[]),qC=n=>console&&typeof console.warn=="function"&&console.warn(n),Gu=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&qC(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,o)=>{const l={};o.filter(d=>{let f;const m=Object.keys(d);for(let y=0;y<m.length;y+=1){const T=m[y],S=T.toLowerCase();e.indexOf(S)!==-1&&!(f==="rel"&&d[f].toLowerCase()==="canonical")&&!(S==="rel"&&d[S].toLowerCase()==="stylesheet")&&(f=S),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(f=T)}if(!f||!d[f])return!1;const v=d[f].toLowerCase();return r[f]||(r[f]={}),l[f]||(l[f]={}),r[f][v]?!1:(l[f][v]=!0,!0)}).reverse().forEach(d=>i.push(d));const u=Object.keys(l);for(let d=0;d<u.length;d+=1){const f=u[d],m={...r[f],...l[f]};r[f]=m}return i},[]).reverse()},$C=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},zC=n=>({baseTag:BC(["href"],n),bodyAttributes:Rm("bodyAttributes",n),defer:Ml(n,Dl.DEFER),encode:Ml(n,Dl.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Rm("htmlAttributes",n),linkTags:Gu("link",["rel","href"],n),metaTags:Gu("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Gu("noscript",["innerHTML"],n),onChangeClientState:UC(n),scriptTags:Gu("script",["src","innerHTML"],n),styleTags:Gu("style",["cssText"],n),title:FC(n),titleAttributes:Rm("titleAttributes",n),prioritizeSeoTags:$C(n,Dl.PRIORITIZE_SEO_TAGS)}),kT=n=>Array.isArray(n)?n.join(""):n,HC=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},km=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(HC(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},Cw=(n,e)=>({...n,[e]:void 0}),GC=["noscript","script","style"],Tg=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),LT=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),WC=(n,e,t,r)=>{const i=LT(t),o=kT(e);return i?`<${n} ${Ri}="true" ${i}>${Tg(o,r)}</${n}>`:`<${n} ${Ri}="true">${Tg(o,r)}</${n}>`},KC=(n,e,t=!0)=>e.reduce((r,i)=>{const o=i,l=Object.keys(o).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,m)=>{const v=typeof o[m]>"u"?m:`${m}="${Tg(o[m],t)}"`;return f?`${f} ${v}`:v},""),u=o.innerHTML||o.cssText||"",d=GC.indexOf(n)===-1;return`${r}<${n} ${Ri}="true" ${l}${d?"/>":`>${u}</${n}>`}`},""),OT=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=ky[r];return t[i||r]=n[r],t},e),QC=(n,e,t)=>{const r={key:e,[Ri]:!0},i=OT(t,r);return[We.createElement("title",i,e)]},Ch=(n,e)=>e.map((t,r)=>{const i={key:r,[Ri]:!0};return Object.keys(t).forEach(o=>{const u=ky[o]||o;if(u==="innerHTML"||u==="cssText"){const d=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[u]=t[o]}),We.createElement(n,i)}),ri=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>QC(n,e.title,e.titleAttributes),toString:()=>WC(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>OT(e),toString:()=>LT(e)};default:return{toComponent:()=>Ch(n,e),toString:()=>KC(n,e,t)}}},YC=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=km(n,Pm.meta),o=km(e,Pm.link),l=km(t,Pm.script);return{priorityMethods:{toComponent:()=>[...Ch("meta",i.priority),...Ch("link",o.priority),...Ch("script",l.priority)],toString:()=>`${ri("meta",i.priority,r)} ${ri("link",o.priority,r)} ${ri("script",l.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:l.default}},XC=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:l,title:u="",titleAttributes:d,prioritizeSeoTags:f}=n;let{linkTags:m,metaTags:v,scriptTags:y}=n,T={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:T,linkTags:m,metaTags:v,scriptTags:y}=YC(n)),{priority:T,base:ri("base",e,r),bodyAttributes:ri("bodyAttributes",t,r),htmlAttributes:ri("htmlAttributes",i,r),link:ri("link",m,r),meta:ri("meta",v,r),noscript:ri("noscript",o,r),script:ri("script",y,r),style:ri("style",l,r),title:ri("title",{title:u,titleAttributes:d},r)}},Sg=XC,oh=[],DT=!!(typeof window<"u"&&window.document&&window.document.createElement),bg=class{constructor(n,e){_e(this,"instances",[]);_e(this,"canUseDOM",DT);_e(this,"context");_e(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?oh:this.instances,add:n=>{(this.canUseDOM?oh:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?oh:this.instances).indexOf(n);(this.canUseDOM?oh:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=Sg({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},JC={},MT=We.createContext(JC),Na,jT=(Na=class extends G.Component{constructor(t){super(t);_e(this,"helmetData");this.helmetData=new bg(this.props.context||{},Na.canUseDOM)}render(){return We.createElement(MT.Provider,{value:this.helmetData.value},this.props.children)}},_e(Na,"canUseDOM",DT),Na),bl=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Ri}]`),i=[].slice.call(r),o=[];let l;return e&&e.length&&e.forEach(u=>{const d=document.createElement(n);for(const f in u)if(Object.prototype.hasOwnProperty.call(u,f))if(f==="innerHTML")d.innerHTML=u.innerHTML;else if(f==="cssText")d.styleSheet?d.styleSheet.cssText=u.cssText:d.appendChild(document.createTextNode(u.cssText));else{const m=f,v=typeof u[m]>"u"?"":u[m];d.setAttribute(f,v)}d.setAttribute(Ri,"true"),i.some((f,m)=>(l=m,d.isEqualNode(f)))?i.splice(l,1):o.push(d)}),i.forEach(u=>{var d;return(d=u.parentNode)==null?void 0:d.removeChild(u)}),o.forEach(u=>t.appendChild(u)),{oldTags:i,newTags:o}},Ig=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Ri),i=r?r.split(","):[],o=[...i],l=Object.keys(e);for(const u of l){const d=e[u]||"";t.getAttribute(u)!==d&&t.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);const f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(let u=o.length-1;u>=0;u-=1)t.removeAttribute(o[u]);i.length===o.length?t.removeAttribute(Ri):t.getAttribute(Ri)!==l.join(",")&&t.setAttribute(Ri,l.join(","))},ZC=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=kT(n)),Ig("title",e)},Nw=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:l,noscriptTags:u,onChangeClientState:d,scriptTags:f,styleTags:m,title:v,titleAttributes:y}=n;Ig("body",r),Ig("html",i),ZC(v,y);const T={baseTag:bl("base",t),linkTags:bl("link",o),metaTags:bl("meta",l),noscriptTags:bl("noscript",u),scriptTags:bl("script",f),styleTags:bl("style",m)},S={},P={};Object.keys(T).forEach(N=>{const{newTags:k,oldTags:R}=T[N];k.length&&(S[N]=k),R.length&&(P[N]=T[N].oldTags)}),e&&e(),d(n,S,P)},Wu=null,e2=n=>{Wu&&cancelAnimationFrame(Wu),n.defer?Wu=requestAnimationFrame(()=>{Nw(n,()=>{Wu=null})}):(Nw(n),Wu=null)},t2=e2,Pw=class extends G.Component{constructor(){super(...arguments);_e(this,"rendered",!1)}shouldComponentUpdate(e){return!jC(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=zC(e.get().map(o=>{const l={...o.props};return delete l.context,l}));jT.canUseDOM?t2(i):Sg&&(r=Sg(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Eg,Pa=(Eg=class extends G.Component{shouldComponentUpdate(n){return!kC(Cw(this.props,"helmetData"),Cw(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return Iw(xw.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${xw.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),Iw(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return We.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,l=Object.keys(o).reduce((d,f)=>(d[VC[f]||f]=o[f],d),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,l,i);break;default:e=this.mapObjectTypeChildren(r,e,l,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof bg)){const i=r;r=new bg(i.context,!0),delete t.helmetData}return r?We.createElement(Pw,{...t,context:r.value}):We.createElement(MT.Consumer,null,i=>We.createElement(Pw,{...t,context:i}))}},_e(Eg,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Eg),Ku={},Rw;function n2(){if(Rw)return Ku;Rw=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.parse=l,Ku.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,T){const S=new o,P=y.length;if(P<2)return S;const N=(T==null?void 0:T.decode)||m;let k=0;do{const R=y.indexOf("=",k);if(R===-1)break;const M=y.indexOf(";",k),z=M===-1?P:M;if(R>z){k=y.lastIndexOf(";",R-1)+1;continue}const Q=u(y,k,R),se=d(y,R,Q),U=y.slice(Q,se);if(S[U]===void 0){let L=u(y,R+1,z),O=d(y,z,L);const F=N(y.slice(L,O));S[U]=F}k=z+1}while(k<P);return S}function u(y,T,S){do{const P=y.charCodeAt(T);if(P!==32&&P!==9)return T}while(++T<S);return S}function d(y,T,S){for(;T>S;){const P=y.charCodeAt(--T);if(P!==32&&P!==9)return T+1}return S}function f(y,T,S){const P=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const N=P(T);if(!e.test(N))throw new TypeError(`argument val is invalid: ${T}`);let k=y+"="+N;if(!S)return k;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);k+="; Max-Age="+S.maxAge}if(S.domain){if(!t.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);k+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);k+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);k+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(k+="; HttpOnly"),S.secure&&(k+="; Secure"),S.partitioned&&(k+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return k}function m(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function v(y){return i.call(y)==="[object Date]"}return Ku}n2();var kw="popstate";function r2(n={}){function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Ag("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:wc(i)}return s2(e,t,null,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i2(){return Math.random().toString(36).substring(2,10)}function Lw(n,e){return{usr:n.state,key:n.key,idx:e}}function Ag(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ou(e):e,state:t,key:e&&e.key||r||i2()}}function wc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ou(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function s2(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u="POP",d=null,f=m();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function m(){return(l.state||{idx:null}).idx}function v(){u="POP";let N=m(),k=N==null?null:N-f;f=N,d&&d({action:u,location:P.location,delta:k})}function y(N,k){u="PUSH";let R=Ag(P.location,N,k);f=m()+1;let M=Lw(R,f),z=P.createHref(R);try{l.pushState(M,"",z)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;i.location.assign(z)}o&&d&&d({action:u,location:P.location,delta:1})}function T(N,k){u="REPLACE";let R=Ag(P.location,N,k);f=m();let M=Lw(R,f),z=P.createHref(R);l.replaceState(M,"",z),o&&d&&d({action:u,location:P.location,delta:0})}function S(N){return o2(N)}let P={get action(){return u},get location(){return n(i,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(kw,v),d=N,()=>{i.removeEventListener(kw,v),d=null}},createHref(N){return e(i,N)},createURL:S,encodeLocation(N){let k=S(N);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:T,go(N){return l.go(N)}};return P}function o2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),kt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:wc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function VT(n,e,t="/"){return a2(n,e,t,!1)}function a2(n,e,t,r){let i=typeof e=="string"?ou(e):e,o=Gs(i.pathname||"/",t);if(o==null)return null;let l=FT(n);l2(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=w2(o);u=y2(l[d],f,r)}return u}function FT(n,e=[],t=[],r=""){let i=(o,l,u)=>{let d={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=zs([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),FT(o.children,e,m,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:m2(f,o.index),routesMeta:m})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let d of UT(o.path))i(o,l,d)}),e}function UT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=UT(r.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function l2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:g2(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var u2=/^:[\w-]+$/,c2=3,d2=2,h2=1,f2=10,p2=-2,Ow=n=>n==="*";function m2(n,e){let t=n.split("/"),r=t.length;return t.some(Ow)&&(r+=p2),e&&(r+=d2),t.filter(i=>!Ow(i)).reduce((i,o)=>i+(u2.test(o)?c2:o===""?h2:f2),r)}function g2(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function y2(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",v=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!v&&f&&t&&!r[r.length-1].route.index&&(v=Gh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:zs([o,v.pathname]),pathnameBase:S2(zs([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=zs([o,v.pathnameBase]))}return l}function Gh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=v2(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:v},y)=>{if(m==="*"){let S=u[y]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[y];return v&&!T?f[m]=void 0:f[m]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function v2(n,e=!1,t=!0){Mi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function w2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Gs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function _2(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?ou(n):n;return{pathname:t?t.startsWith("/")?t:E2(t,e):e,search:b2(r),hash:I2(i)}}function E2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Lm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ly(n){let e=T2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Oy(n,e,t,r=!1){let i;typeof n=="string"?i=ou(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),Lm("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),Lm("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),Lm("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}u=v>=0?e[v]:"/"}let d=_2(i,u),f=l&&l!=="/"&&l.endsWith("/"),m=(o||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var zs=n=>n.join("/").replace(/\/\/+/g,"/"),S2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),b2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,I2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function A2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BT=["POST","PUT","PATCH","DELETE"];new Set(BT);var x2=["GET",...BT];new Set(x2);var au=G.createContext(null);au.displayName="DataRouter";var Af=G.createContext(null);Af.displayName="DataRouterState";var qT=G.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var C2=G.createContext(new Map);C2.displayName="Fetchers";var N2=G.createContext(null);N2.displayName="Await";var Fi=G.createContext(null);Fi.displayName="Navigation";var Fc=G.createContext(null);Fc.displayName="Location";var li=G.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var Dy=G.createContext(null);Dy.displayName="RouteError";function P2(n,{relative:e}={}){kt(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=G.useContext(Fi),{hash:i,pathname:o,search:l}=Uc(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:zs([t,o])),r.createHref({pathname:u,search:l,hash:i})}function lu(){return G.useContext(Fc)!=null}function to(){return kt(lu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Fc).location}var $T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zT(n){G.useContext(Fi).static||G.useLayoutEffect(n)}function $a(){let{isDataRoute:n}=G.useContext(li);return n?H2():R2()}function R2(){kt(lu(),"useNavigate() may be used only in the context of a <Router> component.");let n=G.useContext(au),{basename:e,navigator:t}=G.useContext(Fi),{matches:r}=G.useContext(li),{pathname:i}=to(),o=JSON.stringify(Ly(r)),l=G.useRef(!1);return zT(()=>{l.current=!0}),G.useCallback((d,f={})=>{if(Mi(l.current,$T),!l.current)return;if(typeof d=="number"){t.go(d);return}let m=Oy(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:zs([e,m.pathname])),(f.replace?t.replace:t.push)(m,f.state,f)},[e,t,o,i,n])}var k2=G.createContext(null);function L2(n){let e=G.useContext(li).outlet;return e&&G.createElement(k2.Provider,{value:n},e)}function HT(){let{matches:n}=G.useContext(li),e=n[n.length-1];return e?e.params:{}}function Uc(n,{relative:e}={}){let{matches:t}=G.useContext(li),{pathname:r}=to(),i=JSON.stringify(Ly(t));return G.useMemo(()=>Oy(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function O2(n,e){return GT(n,e)}function GT(n,e,t,r){var R;kt(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=G.useContext(Fi),{matches:l}=G.useContext(li),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",v=u&&u.route;{let M=v&&v.path||"";WT(f,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let y=to(),T;if(e){let M=typeof e=="string"?ou(e):e;kt(m==="/"||((R=M.pathname)==null?void 0:R.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),T=M}else T=y;let S=T.pathname||"/",P=S;if(m!=="/"){let M=m.replace(/^\//,"").split("/");P="/"+S.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=!o&&t&&t.matches&&t.matches.length>0?t.matches:VT(n,{pathname:P});Mi(v||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Mi(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=F2(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:zs([m,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:zs([m,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),l,t,r);return e&&k?G.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},k):k}function D2(){let n=z2(),e=A2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:o},"ErrorBoundary")," or"," ",G.createElement("code",{style:o},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:i},t):null,l)}var M2=G.createElement(D2,null),j2=class extends G.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?G.createElement(li.Provider,{value:this.props.routeContext},G.createElement(Dy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V2({routeContext:n,match:e,children:t}){let r=G.useContext(au);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(li.Provider,{value:n},t)}function F2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:v}=t,y=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let v,y=!1,T=null,S=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||M2,l&&(u<0&&m===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,S=null):u===m&&(y=!0,S=f.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,m+1)),N=()=>{let k;return v?k=T:y?k=S:f.route.Component?k=G.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,G.createElement(V2,{match:f,routeContext:{outlet:d,matches:P,isDataRoute:t!=null},children:k})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?G.createElement(j2,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function My(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U2(n){let e=G.useContext(au);return kt(e,My(n)),e}function B2(n){let e=G.useContext(Af);return kt(e,My(n)),e}function q2(n){let e=G.useContext(li);return kt(e,My(n)),e}function jy(n){let e=q2(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $2(){return jy("useRouteId")}function z2(){var r;let n=G.useContext(Dy),e=B2("useRouteError"),t=jy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function H2(){let{router:n}=U2("useNavigate"),e=jy("useNavigate"),t=G.useRef(!1);return zT(()=>{t.current=!0}),G.useCallback(async(i,o={})=>{Mi(t.current,$T),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var Dw={};function WT(n,e,t){!e&&!Dw[n]&&(Dw[n]=!0,Mi(!1,t))}G.memo(G2);function G2({routes:n,future:e,state:t}){return GT(n,void 0,t,e)}function Mw({to:n,replace:e,state:t,relative:r}){kt(lu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=G.useContext(Fi);Mi(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=G.useContext(li),{pathname:l}=to(),u=$a(),d=Oy(n,Ly(o),l,r==="path"),f=JSON.stringify(d);return G.useEffect(()=>{u(JSON.parse(f),{replace:e,state:t,relative:r})},[u,f,r,e,t]),null}function KT(n){return L2(n.context)}function os(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function W2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=G.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof t=="string"&&(t=ou(t));let{pathname:d="/",search:f="",hash:m="",state:v=null,key:y="default"}=t,T=G.useMemo(()=>{let S=Gs(d,l);return S==null?null:{location:{pathname:S,search:f,hash:m,state:v,key:y},navigationType:r}},[l,d,f,m,v,y,r]);return Mi(T!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:G.createElement(Fi.Provider,{value:u},G.createElement(Fc.Provider,{children:e,value:T}))}function K2({children:n,location:e}){return O2(xg(n),e)}function xg(n,e=[]){let t=[];return G.Children.forEach(n,(r,i)=>{if(!G.isValidElement(r))return;let o=[...e,i];if(r.type===G.Fragment){t.push.apply(t,xg(r.props.children,o));return}kt(r.type===os,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xg(r.props.children,o)),t.push(l)}),t}var Nh="get",Ph="application/x-www-form-urlencoded";function xf(n){return n!=null&&typeof n.tagName=="string"}function Q2(n){return xf(n)&&n.tagName.toLowerCase()==="button"}function Y2(n){return xf(n)&&n.tagName.toLowerCase()==="form"}function X2(n){return xf(n)&&n.tagName.toLowerCase()==="input"}function J2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Z2(n,e){return n.button===0&&(!e||e==="_self")&&!J2(n)}var ah=null;function eN(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var tN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Om(n){return n!=null&&!tN.has(n)?(Mi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):n}function nN(n,e){let t,r,i,o,l;if(Y2(n)){let u=n.getAttribute("action");r=u?Gs(u,e):null,t=n.getAttribute("method")||Nh,i=Om(n.getAttribute("enctype"))||Ph,o=new FormData(n)}else if(Q2(n)||X2(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(r=d?Gs(d,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Nh,i=Om(n.getAttribute("formenctype"))||Om(u.getAttribute("enctype"))||Ph,o=new FormData(u,n),!eN()){let{name:f,type:m,value:v}=n;if(m==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,v)}}else{if(xf(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Nh,r=null,i=Ph,l=n}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:l}}function Vy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function rN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sN(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await rN(o,t);return l.links?l.links():[]}return[]}));return uN(r.flat(1).filter(iN).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function jw(n,e,t,r,i,o){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var m;return t[f].pathname!==d.pathname||((m=t[f].route.path)==null?void 0:m.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?e.filter((d,f)=>{var v;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function oN(n,e,{includeHydrateFallback:t}={}){return aN(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function aN(n){return[...new Set(n)]}function lN(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function uN(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(lN(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cN=new Set([100,101,204,205]);function dN(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Gs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function QT(){let n=G.useContext(au);return Vy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function hN(){let n=G.useContext(Af);return Vy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Fy=G.createContext(void 0);Fy.displayName="FrameworkContext";function YT(){let n=G.useContext(Fy);return Vy(n,"You must render this element inside a <HydratedRouter> element"),n}function fN(n,e){let t=G.useContext(Fy),[r,i]=G.useState(!1),[o,l]=G.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:v}=e,y=G.useRef(null);G.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let P=k=>{k.forEach(R=>{l(R.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[n]),G.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let T=()=>{i(!0)},S=()=>{i(!1),l(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:Qu(u,T),onBlur:Qu(d,S),onMouseEnter:Qu(f,T),onMouseLeave:Qu(m,S),onTouchStart:Qu(v,T)}]:[!1,y,{}]}function Qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function pN({page:n,...e}){let{router:t}=QT(),r=G.useMemo(()=>VT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?G.createElement(gN,{page:n,matches:r,...e}):null}function mN(n){let{manifest:e,routeModules:t}=YT(),[r,i]=G.useState([]);return G.useEffect(()=>{let o=!1;return sN(n,e,t).then(l=>{o||i(l)}),()=>{o=!0}},[n,e,t]),r}function gN({page:n,matches:e,...t}){let r=to(),{manifest:i,routeModules:o}=YT(),{basename:l}=QT(),{loaderData:u,matches:d}=hN(),f=G.useMemo(()=>jw(n,e,d,i,r,"data"),[n,e,d,i,r]),m=G.useMemo(()=>jw(n,e,d,i,r,"assets"),[n,e,d,i,r]),v=G.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(k=>{var M;let R=i.routes[k.route.id];!R||!R.hasLoader||(!f.some(z=>z.route.id===k.route.id)&&k.route.id in u&&((M=o[k.route.id])!=null&&M.shouldRevalidate)||R.hasClientLoader?P=!0:S.add(k.route.id))}),S.size===0)return[];let N=dN(n,l);return P&&S.size>0&&N.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[l,u,r,i,f,e,n,o]),y=G.useMemo(()=>oN(m,i),[m,i]),T=mN(m);return G.createElement(G.Fragment,null,v.map(S=>G.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),y.map(S=>G.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),T.map(({key:S,link:P})=>G.createElement("link",{key:S,...P})))}function yN(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.6.0")}catch{}function vN({basename:n,children:e,window:t}){let r=G.useRef();r.current==null&&(r.current=r2({window:t,v5Compat:!0}));let i=r.current,[o,l]=G.useState({action:i.action,location:i.location}),u=G.useCallback(d=>{G.startTransition(()=>l(d))},[l]);return G.useLayoutEffect(()=>i.listen(u),[i,u]),G.createElement(W2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bc=G.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:m,viewTransition:v,...y},T){let{basename:S}=G.useContext(Fi),P=typeof f=="string"&&JT.test(f),N,k=!1;if(typeof f=="string"&&P&&(N=f,XT))try{let O=new URL(window.location.href),F=f.startsWith("//")?new URL(O.protocol+f):new URL(f),A=Gs(F.pathname,S);F.origin===O.origin&&A!=null?f=A+F.search+F.hash:k=!0}catch{Mi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=P2(f,{relative:i}),[M,z,Q]=fN(r,y),se=TN(f,{replace:l,state:u,target:d,preventScrollReset:m,relative:i,viewTransition:v});function U(O){e&&e(O),O.defaultPrevented||se(O)}let L=G.createElement("a",{...y,...Q,href:N||R,onClick:k||o?e:U,ref:yN(T,z),target:d,"data-discover":!P&&t==="render"?"true":void 0});return M&&!P?G.createElement(G.Fragment,null,L,G.createElement(pN,{page:R})):L});Bc.displayName="Link";var wN=G.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:u,children:d,...f},m){let v=Uc(l,{relative:f.relative}),y=to(),T=G.useContext(Af),{navigator:S,basename:P}=G.useContext(Fi),N=T!=null&&xN(v)&&u===!0,k=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,R=y.pathname,M=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(R=R.toLowerCase(),M=M?M.toLowerCase():null,k=k.toLowerCase()),M&&P&&(M=Gs(M,P)||M);const z=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let Q=R===k||!i&&R.startsWith(k)&&R.charAt(z)==="/",se=M!=null&&(M===k||!i&&M.startsWith(k)&&M.charAt(k.length)==="/"),U={isActive:Q,isPending:se,isTransitioning:N},L=Q?e:void 0,O;typeof r=="function"?O=r(U):O=[r,Q?"active":null,se?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(U):o;return G.createElement(Bc,{...f,"aria-current":L,className:O,ref:m,style:F,to:l,viewTransition:u},typeof d=="function"?d(U):d)});wN.displayName="NavLink";var _N=G.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:l=Nh,action:u,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:v,...y},T)=>{let S=IN(),P=AN(u,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&JT.test(u),R=M=>{if(d&&d(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,Q=(z==null?void 0:z.getAttribute("formmethod"))||l;S(z||M.currentTarget,{fetcherKey:e,method:Q,navigate:t,replace:i,state:o,relative:f,preventScrollReset:m,viewTransition:v})};return G.createElement("form",{ref:T,method:N,action:P,onSubmit:r?d:R,...y,"data-discover":!k&&n==="render"?"true":void 0})});_N.displayName="Form";function EN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZT(n){let e=G.useContext(au);return kt(e,EN(n)),e}function TN(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let u=$a(),d=to(),f=Uc(n,{relative:o});return G.useCallback(m=>{if(Z2(m,e)){m.preventDefault();let v=t!==void 0?t:wc(d)===wc(f);u(n,{replace:v,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,u,f,t,r,e,n,i,o,l])}var SN=0,bN=()=>`__${String(++SN)}__`;function IN(){let{router:n}=ZT("useSubmit"),{basename:e}=G.useContext(Fi),t=$2();return G.useCallback(async(r,i={})=>{let{action:o,method:l,encType:u,formData:d,body:f}=nN(r,e);if(i.navigate===!1){let m=i.fetcherKey||bN();await n.fetch(m,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function AN(n,{relative:e}={}){let{basename:t}=G.useContext(Fi),r=G.useContext(li);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Uc(n||".",{relative:e})},l=to();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(m=>m==="")){u.delete("index"),d.filter(v=>v).forEach(v=>u.append("index",v));let m=u.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:zs([t,o.pathname])),wc(o)}function xN(n,e={}){let t=G.useContext(qT);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ZT("useViewTransitionState"),i=Uc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Gs(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Gs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Gh(i.pathname,l)!=null||Gh(i.pathname,o)!=null}[...cN];function eS({className:n="",onClick:e}){return b.jsx("div",{id:"overlay",className:n,onClick:e})}var tS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Vw=We.createContext&&We.createContext(tS),CN=["attr","size","title"];function NN(n,e){if(n==null)return{};var t=PN(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function PN(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Wh(){return Wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Wh.apply(this,arguments)}function Fw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Fw(Object(t),!0).forEach(function(r){RN(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Fw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function RN(n,e,t){return e=kN(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kN(n){var e=LN(n,"string");return typeof e=="symbol"?e:e+""}function LN(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function nS(n){return n&&n.map((e,t)=>We.createElement(e.tag,Kh({key:t},e.attr),nS(e.child)))}function Zt(n){return e=>We.createElement(ON,Wh({attr:Kh({},n.attr)},e),nS(n.child))}function ON(n){var e=t=>{var{attr:r,size:i,title:o}=n,l=NN(n,CN),u=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),We.createElement("svg",Wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:d,style:Kh(Kh({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),o&&We.createElement("title",null,o),n.children)};return Vw!==void 0?We.createElement(Vw.Consumer,null,t=>e(t)):e(tS)}function DN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 112v288m144-144H112"},child:[]}]})(n)}function Cg(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m112 184 144 144 144-144"},child:[]}]})(n)}function MN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"208",fill:"none",strokeLinejoin:"round",strokeWidth:"32"},child:[]},{tag:"path",attr:{d:"M256 464c-114.88 0-208-93.12-208-208S141.12 48 256 48z"},child:[]}]})(n)}function rS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M440 432H72a40 40 0 0 1-40-40V120a40 40 0 0 1 40-40h75.89a40 40 0 0 1 22.19 6.72l27.84 18.56a40 40 0 0 0 22.19 6.72H440a40 40 0 0 1 40 40v240a40 40 0 0 1-40 40zM32 192h448"},child:[]}]})(n)}function iS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79z"},child:[]},{tag:"path",attr:{d:"m490.91 244.15-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97z"},child:[]}]})(n)}function jN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"304",x:"48",y:"96",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"32.14",ry:"32.14"},child:[]},{tag:"path",attr:{strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M16 416h480"},child:[]}]})(n)}function VN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M160 256a16 16 0 0 1 16-16h144V136c0-32-33.79-56-64-56H104a56.06 56.06 0 0 0-56 56v240a56.06 56.06 0 0 0 56 56h160a56.06 56.06 0 0 0 56-56V272H176a16 16 0 0 1-16-16zm299.31-11.31-80-80a16 16 0 0 0-22.62 22.62L409.37 240H320v32h89.37l-52.68 52.69a16 16 0 1 0 22.62 22.62l80-80a16 16 0 0 0 0-22.62z"},child:[]}]})(n)}function sS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"},child:[]}]})(n)}function FN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m473.16 221.48-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 0 1-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z"},child:[]}]})(n)}function oS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.17 32H70.28C49.85 32 32 46.7 32 66.89v374.72C32 461.91 49.85 480 70.28 480h373.78c20.54 0 35.94-18.21 35.94-38.39V66.89C480.12 46.7 464.6 32 444.17 32zm-273.3 373.43h-64.18V205.88h64.18zM141 175.54h-.46c-20.54 0-33.84-15.29-33.84-34.43 0-19.49 13.65-34.42 34.65-34.42s33.85 14.82 34.31 34.42c-.01 19.14-13.31 34.43-34.66 34.43zm264.43 229.89h-64.18V296.32c0-26.14-9.34-44-32.56-44-17.74 0-28.24 12-32.91 23.69-1.75 4.2-2.22 9.92-2.22 15.76v113.66h-64.18V205.88h64.18v27.77c9.34-13.3 23.93-32.44 57.88-32.44 42.13 0 74 27.77 74 87.64z"},child:[]}]})(n)}function aS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"320",x:"48",y:"96",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"40",ry:"40"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m112 160 144 112 144-112"},child:[]}]})(n)}function lS(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M80 160h352M80 256h352M80 352h352"},child:[]}]})(n)}function UN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M264 480A232 232 0 0 1 32 248c0-94 54-178.28 137.61-214.67a16 16 0 0 1 21.06 21.06C181.07 76.43 176 104.66 176 136c0 110.28 89.72 200 200 200 31.34 0 59.57-5.07 81.61-14.67a16 16 0 0 1 21.06 21.06C442.28 426 358 480 264 480z"},child:[]}]})(n)}function BN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"44",d:"M358.62 129.28 86.49 402.08 70 442l39.92-16.49 272.8-272.13-24.1-24.1zm54.45-54.44-11.79 11.78 24.1 24.1 11.79-11.79a16.51 16.51 0 0 0 0-23.34l-.75-.75a16.51 16.51 0 0 0-23.35 0z"},child:[]}]})(n)}function qN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154"},child:[]}]})(n)}function $N(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(n)}function zN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M470.3 271.15 43.16 447.31a7.83 7.83 0 0 1-11.16-7V327a8 8 0 0 1 6.51-7.86l247.62-47c17.36-3.29 17.36-28.15 0-31.44l-247.63-47a8 8 0 0 1-6.5-7.85V72.59c0-5.74 5.88-10.26 11.16-8L470.3 241.76a16 16 0 0 1 0 29.39z"},child:[]}]})(n)}function HN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"48",height:"160",x:"64",y:"320",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"256",x:"288",y:"224",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"368",x:"400",y:"112",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"8",ry:"8"},child:[]},{tag:"rect",attr:{width:"48",height:"448",x:"176",y:"32",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",rx:"8",ry:"8"},child:[]}]})(n)}function GN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 118a22 22 0 0 1-22-22V48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm0 368a22 22 0 0 1-22-22v-48a22 22 0 0 1 44 0v48a22 22 0 0 1-22 22zm113.14-321.14a22 22 0 0 1-15.56-37.55l33.94-33.94a22 22 0 0 1 31.11 31.11l-33.94 33.94a21.93 21.93 0 0 1-15.55 6.44zM108.92 425.08a22 22 0 0 1-15.55-37.56l33.94-33.94a22 22 0 1 1 31.11 31.11l-33.94 33.94a21.94 21.94 0 0 1-15.56 6.45zM464 278h-48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm-368 0H48a22 22 0 0 1 0-44h48a22 22 0 0 1 0 44zm307.08 147.08a21.94 21.94 0 0 1-15.56-6.45l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.55 37.56zM142.86 164.86a21.89 21.89 0 0 1-15.55-6.44l-33.94-33.94a22 22 0 0 1 31.11-31.11l33.94 33.94a22 22 0 0 1-15.56 37.55zM256 358a102 102 0 1 1 102-102 102.12 102.12 0 0 1-102 102z"},child:[]}]})(n)}function WN(n){return Zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",d:"M296 64h-80a7.91 7.91 0 0 0-8 8v24h96V72a7.91 7.91 0 0 0-8-8z"},child:[]},{tag:"path",attr:{d:"M432 96h-96V72a40 40 0 0 0-40-40h-80a40 40 0 0 0-40 40v24H80a16 16 0 0 0 0 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 0 0 0-32zM192.57 416H192a16 16 0 0 1-16-15.43l-8-224a16 16 0 1 1 32-1.14l8 224A16 16 0 0 1 192.57 416zM272 400a16 16 0 0 1-32 0V176a16 16 0 0 1 32 0zm32-304h-96V72a7.91 7.91 0 0 1 8-8h80a7.91 7.91 0 0 1 8 8zm32 304.57A16 16 0 0 1 320 416h-.58A16 16 0 0 1 304 399.43l8-224a16 16 0 1 1 32 1.14z"},child:[]}]})(n)}const Uy="/assets/logo-D-rAdsFi.png",uS=G.createContext(),KN=({children:n})=>{const[e,t]=G.useState(()=>localStorage.getItem("theme")||"light");G.useEffect(()=>{document.documentElement.className=e,localStorage.setItem("theme",e)},[e]);const i={theme:e,toggleTheme:()=>{t(o=>o==="light"?"dark":"light")}};return b.jsx(uS.Provider,{value:i,children:n})},QN=()=>{const n=G.useContext(uS);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n};function cS(){const{theme:n,toggleTheme:e}=QN();return b.jsx("button",{style:{display:"block",cursor:"pointer",background:"none",color:"inherit"},onClick:e,className:"theme-toggle-button","aria-label":n==="light"?"Switch to dark theme":"Switch to light theme",children:n==="light"?b.jsx(UN,{className:"icon"}):b.jsx(GN,{className:"icon"})})}function YN(){const[n,e]=G.useState(!1),t=()=>{e(!n)},r=()=>{e(!1)};return b.jsx("header",{children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"logo",children:[b.jsx("img",{loading:"lazy",src:Uy,alt:"Logo Damas Bahagia Ika Cipta"}),b.jsx("span",{className:"text",children:"D B I CIPTA"})]}),b.jsx("div",{className:"menubar",onClick:t,children:b.jsx(lS,{className:"icon"})}),b.jsxs("nav",{id:"navbar",className:n?"open":"",children:[b.jsx("a",{href:"/#about",onClick:r,children:"About"}),b.jsx("a",{href:"/#projects",onClick:r,children:"Project"}),b.jsx("a",{href:"/#contact",onClick:r,children:"Connect"}),b.jsx(cS,{})]}),b.jsx(eS,{className:"menu-overlay",onClick:r})]})})}function XN(){return b.jsxs("div",{className:"app-root home-layout",children:[b.jsx(YN,{}),b.jsx("main",{children:b.jsx(KT,{})})]})}const JN=()=>{};var Uw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},ZN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},hS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,m=o>>2,v=(o&3)<<4|u>>4;let y=(u&15)<<2|f>>6,T=f&63;d||(T=64,l||(y=64)),r.push(t[m],t[v],t[y],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):ZN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||f==null||v==null)throw new eP;const y=o<<2|u>>4;if(r.push(y),f!==64){const T=u<<4&240|f>>2;if(r.push(T),v!==64){const S=f<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class eP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tP=function(n){const e=dS(n);return hS.encodeByteArray(e,!0)},Qh=function(n){return tP(n).replace(/\./g,"")},fS=function(n){try{return hS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP=()=>nP().__FIREBASE_DEFAULTS__,iP=()=>{if(typeof process>"u"||typeof Uw>"u")return;const n=Uw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},sP=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fS(n[1]);return e&&JSON.parse(e)},Cf=()=>{try{return JN()||rP()||iP()||sP()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},pS=n=>{var e,t;return(t=(e=Cf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},oP=n=>{const e=pS(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},mS=()=>{var n;return(n=Cf())===null||n===void 0?void 0:n.config},gS=n=>{var e;return(e=Cf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){return n.endsWith(".cloudworkstations.dev")}async function yS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qh(JSON.stringify(t)),Qh(JSON.stringify(l)),""].join(".")}const lc={};function uP(){const n={prod:[],emulator:[]};for(const e of Object.keys(lc))lc[e]?n.emulator.push(e):n.prod.push(e);return n}function cP(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Bw=!1;function Nf(n,e){if(typeof window>"u"||typeof document>"u"||!qc(window.location.host)||lc[n]===e||lc[n]||Bw)return;lc[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=uP().prod.length>0;function l(){const y=document.getElementById(r);y&&y.remove()}function u(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function d(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{Bw=!0,l()},y}function m(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function v(){const y=cP(r),T=t("text"),S=document.getElementById(T)||document.createElement("span"),P=t("learnmore"),N=document.getElementById(P)||document.createElement("a"),k=t("preprendIcon"),R=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const M=y.element;u(M),m(N,P);const z=f();d(R,k),M.append(R,S,N,z),document.body.appendChild(M)}o?(S.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function hP(){var n;const e=(n=Cf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pP(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function mP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gP(){const n=zn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yP(){return!hP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vP(){try{return typeof indexedDB=="object"}catch{return!1}}function wP(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P="FirebaseError";class no extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_P,Object.setPrototypeOf(this,no.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?EP(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new no(i,u,r)}}function EP(n,e){return n.replace(TP,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TP=/\{\$([^}]+)}/g;function SP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function La(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(qw(o)&&qw(l)){if(!La(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function qw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bP(n,e){const t=new IP(n,e);return t.subscribe.bind(t)}class IP{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");AP(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dm),i.error===void 0&&(i.error=Dm),i.complete===void 0&&(i.complete=Dm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AP(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(n){return n&&n._delegate?n._delegate:n}class Oa{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new aP;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NP(e))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ia){return this.instances.has(e)}getOptions(e=Ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CP(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ia){return this.component?this.component.multipleInstances?e:Ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CP(n){return n===Ia?void 0:n}function NP(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xP(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(rt||(rt={}));const RP={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},kP=rt.INFO,LP={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},OP=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=LP[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class By{constructor(e){this.name=e,this._logLevel=kP,this._logHandler=OP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const DP=(n,e)=>e.some(t=>n instanceof t);let $w,zw;function MP(){return $w||($w=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jP(){return zw||(zw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vS=new WeakMap,Ng=new WeakMap,wS=new WeakMap,Mm=new WeakMap,qy=new WeakMap;function VP(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(zo(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&vS.set(t,n)}).catch(()=>{}),qy.set(e,n),e}function FP(n){if(Ng.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Ng.set(n,e)}let Pg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ng.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function UP(n){Pg=n(Pg)}function BP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(jm(this),e,...t);return wS.set(r,e.sort?e.sort():[e]),zo(r)}:jP().includes(n)?function(...e){return n.apply(jm(this),e),zo(vS.get(this))}:function(...e){return zo(n.apply(jm(this),e))}}function qP(n){return typeof n=="function"?BP(n):(n instanceof IDBTransaction&&FP(n),DP(n,MP())?new Proxy(n,Pg):n)}function zo(n){if(n instanceof IDBRequest)return VP(n);if(Mm.has(n))return Mm.get(n);const e=qP(n);return e!==n&&(Mm.set(n,e),qy.set(e,n)),e}const jm=n=>qy.get(n);function $P(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=zo(l);return r&&l.addEventListener("upgradeneeded",d=>{r(zo(l.result),d.oldVersion,d.newVersion,zo(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const zP=["get","getKey","getAll","getAllKeys","count"],HP=["put","add","delete","clear"],Vm=new Map;function Hw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=HP.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||zP.includes(t)))return;const o=async function(l,...u){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[t](...u),i&&d.done]))[0]};return Vm.set(e,o),o}UP(n=>({...n,get:(e,t,r)=>Hw(e,t)||n.get(e,t,r),has:(e,t)=>!!Hw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WP(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function WP(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rg="@firebase/app",Gw="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new By("@firebase/app"),KP="@firebase/app-compat",QP="@firebase/analytics-compat",YP="@firebase/analytics",XP="@firebase/app-check-compat",JP="@firebase/app-check",ZP="@firebase/auth",eR="@firebase/auth-compat",tR="@firebase/database",nR="@firebase/data-connect",rR="@firebase/database-compat",iR="@firebase/functions",sR="@firebase/functions-compat",oR="@firebase/installations",aR="@firebase/installations-compat",lR="@firebase/messaging",uR="@firebase/messaging-compat",cR="@firebase/performance",dR="@firebase/performance-compat",hR="@firebase/remote-config",fR="@firebase/remote-config-compat",pR="@firebase/storage",mR="@firebase/storage-compat",gR="@firebase/firestore",yR="@firebase/vertexai",vR="@firebase/firestore-compat",wR="firebase",_R="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="[DEFAULT]",ER={[Rg]:"fire-core",[KP]:"fire-core-compat",[YP]:"fire-analytics",[QP]:"fire-analytics-compat",[JP]:"fire-app-check",[XP]:"fire-app-check-compat",[ZP]:"fire-auth",[eR]:"fire-auth-compat",[tR]:"fire-rtdb",[nR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[iR]:"fire-fn",[sR]:"fire-fn-compat",[oR]:"fire-iid",[aR]:"fire-iid-compat",[lR]:"fire-fcm",[uR]:"fire-fcm-compat",[cR]:"fire-perf",[dR]:"fire-perf-compat",[hR]:"fire-rc",[fR]:"fire-rc-compat",[pR]:"fire-gcs",[mR]:"fire-gcs-compat",[gR]:"fire-fst",[vR]:"fire-fst-compat",[yR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Map,TR=new Map,Lg=new Map;function Ww(n,e){try{n.container.addComponent(e)}catch(t){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(Lg.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;Lg.set(e,n);for(const t of Yh.values())Ww(t,n);for(const t of TR.values())Ww(t,n);return!0}function $y(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ni(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ho=new $c("app","Firebase",SR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ho.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=_R;function _S(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ho.create("bad-app-name",{appName:String(i)});if(t||(t=mS()),!t)throw Ho.create("no-options");const o=Yh.get(i);if(o){if(La(t,o.options)&&La(r,o.config))return o;throw Ho.create("duplicate-app",{appName:i})}const l=new PP(i);for(const d of Lg.values())l.addComponent(d);const u=new bR(t,r,l);return Yh.set(i,u),u}function ES(n=kg){const e=Yh.get(n);if(!e&&n===kg&&mS())return _S();if(!e)throw Ho.create("no-app",{appName:n});return e}function Go(n,e,t){var r;let i=(r=ER[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(u.join(" "));return}Hl(new Oa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firebase-heartbeat-database",AR=1,_c="firebase-heartbeat-store";let Fm=null;function TS(){return Fm||(Fm=$P(IR,AR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ho.create("idb-open",{originalErrorMessage:n.message})})),Fm}async function xR(n){try{const t=(await TS()).transaction(_c),r=await t.objectStore(_c).get(SS(n));return await t.done,r}catch(e){if(e instanceof no)Ws.warn(e.message);else{const t=Ho.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ws.warn(t.message)}}}async function Kw(n,e){try{const r=(await TS()).transaction(_c,"readwrite");await r.objectStore(_c).put(e,SS(n)),await r.done}catch(t){if(t instanceof no)Ws.warn(t.message);else{const r=Ho.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ws.warn(r.message)}}}function SS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=1024,NR=30;class PR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kR(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Qw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>NR){const l=LR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ws.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qw(),{heartbeatsToSend:r,unsentEntries:i}=RR(this._heartbeatsCache.heartbeats),o=Qh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ws.warn(t),""}}}function Qw(){return new Date().toISOString().substring(0,10)}function RR(n,e=CR){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Yw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Yw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vP()?wP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return Kw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yw(n){return Qh(JSON.stringify({version:2,heartbeats:n})).length}function LR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(n){Hl(new Oa("platform-logger",e=>new GP(e),"PRIVATE")),Hl(new Oa("heartbeat",e=>new PR(e),"PRIVATE")),Go(Rg,Gw,n),Go(Rg,Gw,"esm2017"),Go("fire-js","")}OR("");var DR="firebase",MR="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Go(DR,MR,"app");var Xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wo,bS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,L){function O(){}O.prototype=L.prototype,U.D=L.prototype,U.prototype=new O,U.prototype.constructor=U,U.C=function(F,A,V){for(var x=Array(arguments.length-2),le=2;le<arguments.length;le++)x[le-2]=arguments[le];return L.prototype[A].apply(F,x)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,L,O){O||(O=0);var F=Array(16);if(typeof L=="string")for(var A=0;16>A;++A)F[A]=L.charCodeAt(O++)|L.charCodeAt(O++)<<8|L.charCodeAt(O++)<<16|L.charCodeAt(O++)<<24;else for(A=0;16>A;++A)F[A]=L[O++]|L[O++]<<8|L[O++]<<16|L[O++]<<24;L=U.g[0],O=U.g[1],A=U.g[2];var V=U.g[3],x=L+(V^O&(A^V))+F[0]+3614090360&4294967295;L=O+(x<<7&4294967295|x>>>25),x=V+(A^L&(O^A))+F[1]+3905402710&4294967295,V=L+(x<<12&4294967295|x>>>20),x=A+(O^V&(L^O))+F[2]+606105819&4294967295,A=V+(x<<17&4294967295|x>>>15),x=O+(L^A&(V^L))+F[3]+3250441966&4294967295,O=A+(x<<22&4294967295|x>>>10),x=L+(V^O&(A^V))+F[4]+4118548399&4294967295,L=O+(x<<7&4294967295|x>>>25),x=V+(A^L&(O^A))+F[5]+1200080426&4294967295,V=L+(x<<12&4294967295|x>>>20),x=A+(O^V&(L^O))+F[6]+2821735955&4294967295,A=V+(x<<17&4294967295|x>>>15),x=O+(L^A&(V^L))+F[7]+4249261313&4294967295,O=A+(x<<22&4294967295|x>>>10),x=L+(V^O&(A^V))+F[8]+1770035416&4294967295,L=O+(x<<7&4294967295|x>>>25),x=V+(A^L&(O^A))+F[9]+2336552879&4294967295,V=L+(x<<12&4294967295|x>>>20),x=A+(O^V&(L^O))+F[10]+4294925233&4294967295,A=V+(x<<17&4294967295|x>>>15),x=O+(L^A&(V^L))+F[11]+2304563134&4294967295,O=A+(x<<22&4294967295|x>>>10),x=L+(V^O&(A^V))+F[12]+1804603682&4294967295,L=O+(x<<7&4294967295|x>>>25),x=V+(A^L&(O^A))+F[13]+4254626195&4294967295,V=L+(x<<12&4294967295|x>>>20),x=A+(O^V&(L^O))+F[14]+2792965006&4294967295,A=V+(x<<17&4294967295|x>>>15),x=O+(L^A&(V^L))+F[15]+1236535329&4294967295,O=A+(x<<22&4294967295|x>>>10),x=L+(A^V&(O^A))+F[1]+4129170786&4294967295,L=O+(x<<5&4294967295|x>>>27),x=V+(O^A&(L^O))+F[6]+3225465664&4294967295,V=L+(x<<9&4294967295|x>>>23),x=A+(L^O&(V^L))+F[11]+643717713&4294967295,A=V+(x<<14&4294967295|x>>>18),x=O+(V^L&(A^V))+F[0]+3921069994&4294967295,O=A+(x<<20&4294967295|x>>>12),x=L+(A^V&(O^A))+F[5]+3593408605&4294967295,L=O+(x<<5&4294967295|x>>>27),x=V+(O^A&(L^O))+F[10]+38016083&4294967295,V=L+(x<<9&4294967295|x>>>23),x=A+(L^O&(V^L))+F[15]+3634488961&4294967295,A=V+(x<<14&4294967295|x>>>18),x=O+(V^L&(A^V))+F[4]+3889429448&4294967295,O=A+(x<<20&4294967295|x>>>12),x=L+(A^V&(O^A))+F[9]+568446438&4294967295,L=O+(x<<5&4294967295|x>>>27),x=V+(O^A&(L^O))+F[14]+3275163606&4294967295,V=L+(x<<9&4294967295|x>>>23),x=A+(L^O&(V^L))+F[3]+4107603335&4294967295,A=V+(x<<14&4294967295|x>>>18),x=O+(V^L&(A^V))+F[8]+1163531501&4294967295,O=A+(x<<20&4294967295|x>>>12),x=L+(A^V&(O^A))+F[13]+2850285829&4294967295,L=O+(x<<5&4294967295|x>>>27),x=V+(O^A&(L^O))+F[2]+4243563512&4294967295,V=L+(x<<9&4294967295|x>>>23),x=A+(L^O&(V^L))+F[7]+1735328473&4294967295,A=V+(x<<14&4294967295|x>>>18),x=O+(V^L&(A^V))+F[12]+2368359562&4294967295,O=A+(x<<20&4294967295|x>>>12),x=L+(O^A^V)+F[5]+4294588738&4294967295,L=O+(x<<4&4294967295|x>>>28),x=V+(L^O^A)+F[8]+2272392833&4294967295,V=L+(x<<11&4294967295|x>>>21),x=A+(V^L^O)+F[11]+1839030562&4294967295,A=V+(x<<16&4294967295|x>>>16),x=O+(A^V^L)+F[14]+4259657740&4294967295,O=A+(x<<23&4294967295|x>>>9),x=L+(O^A^V)+F[1]+2763975236&4294967295,L=O+(x<<4&4294967295|x>>>28),x=V+(L^O^A)+F[4]+1272893353&4294967295,V=L+(x<<11&4294967295|x>>>21),x=A+(V^L^O)+F[7]+4139469664&4294967295,A=V+(x<<16&4294967295|x>>>16),x=O+(A^V^L)+F[10]+3200236656&4294967295,O=A+(x<<23&4294967295|x>>>9),x=L+(O^A^V)+F[13]+681279174&4294967295,L=O+(x<<4&4294967295|x>>>28),x=V+(L^O^A)+F[0]+3936430074&4294967295,V=L+(x<<11&4294967295|x>>>21),x=A+(V^L^O)+F[3]+3572445317&4294967295,A=V+(x<<16&4294967295|x>>>16),x=O+(A^V^L)+F[6]+76029189&4294967295,O=A+(x<<23&4294967295|x>>>9),x=L+(O^A^V)+F[9]+3654602809&4294967295,L=O+(x<<4&4294967295|x>>>28),x=V+(L^O^A)+F[12]+3873151461&4294967295,V=L+(x<<11&4294967295|x>>>21),x=A+(V^L^O)+F[15]+530742520&4294967295,A=V+(x<<16&4294967295|x>>>16),x=O+(A^V^L)+F[2]+3299628645&4294967295,O=A+(x<<23&4294967295|x>>>9),x=L+(A^(O|~V))+F[0]+4096336452&4294967295,L=O+(x<<6&4294967295|x>>>26),x=V+(O^(L|~A))+F[7]+1126891415&4294967295,V=L+(x<<10&4294967295|x>>>22),x=A+(L^(V|~O))+F[14]+2878612391&4294967295,A=V+(x<<15&4294967295|x>>>17),x=O+(V^(A|~L))+F[5]+4237533241&4294967295,O=A+(x<<21&4294967295|x>>>11),x=L+(A^(O|~V))+F[12]+1700485571&4294967295,L=O+(x<<6&4294967295|x>>>26),x=V+(O^(L|~A))+F[3]+2399980690&4294967295,V=L+(x<<10&4294967295|x>>>22),x=A+(L^(V|~O))+F[10]+4293915773&4294967295,A=V+(x<<15&4294967295|x>>>17),x=O+(V^(A|~L))+F[1]+2240044497&4294967295,O=A+(x<<21&4294967295|x>>>11),x=L+(A^(O|~V))+F[8]+1873313359&4294967295,L=O+(x<<6&4294967295|x>>>26),x=V+(O^(L|~A))+F[15]+4264355552&4294967295,V=L+(x<<10&4294967295|x>>>22),x=A+(L^(V|~O))+F[6]+2734768916&4294967295,A=V+(x<<15&4294967295|x>>>17),x=O+(V^(A|~L))+F[13]+1309151649&4294967295,O=A+(x<<21&4294967295|x>>>11),x=L+(A^(O|~V))+F[4]+4149444226&4294967295,L=O+(x<<6&4294967295|x>>>26),x=V+(O^(L|~A))+F[11]+3174756917&4294967295,V=L+(x<<10&4294967295|x>>>22),x=A+(L^(V|~O))+F[2]+718787259&4294967295,A=V+(x<<15&4294967295|x>>>17),x=O+(V^(A|~L))+F[9]+3951481745&4294967295,U.g[0]=U.g[0]+L&4294967295,U.g[1]=U.g[1]+(A+(x<<21&4294967295|x>>>11))&4294967295,U.g[2]=U.g[2]+A&4294967295,U.g[3]=U.g[3]+V&4294967295}r.prototype.u=function(U,L){L===void 0&&(L=U.length);for(var O=L-this.blockSize,F=this.B,A=this.h,V=0;V<L;){if(A==0)for(;V<=O;)i(this,U,V),V+=this.blockSize;if(typeof U=="string"){for(;V<L;)if(F[A++]=U.charCodeAt(V++),A==this.blockSize){i(this,F),A=0;break}}else for(;V<L;)if(F[A++]=U[V++],A==this.blockSize){i(this,F),A=0;break}}this.h=A,this.o+=L},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var L=1;L<U.length-8;++L)U[L]=0;var O=8*this.o;for(L=U.length-8;L<U.length;++L)U[L]=O&255,O/=256;for(this.u(U),U=Array(16),L=O=0;4>L;++L)for(var F=0;32>F;F+=8)U[O++]=this.g[L]>>>F&255;return U};function o(U,L){var O=u;return Object.prototype.hasOwnProperty.call(O,U)?O[U]:O[U]=L(U)}function l(U,L){this.h=L;for(var O=[],F=!0,A=U.length-1;0<=A;A--){var V=U[A]|0;F&&V==L||(O[A]=V,F=!1)}this.g=O}var u={};function d(U){return-128<=U&&128>U?o(U,function(L){return new l([L|0],0>L?-1:0)}):new l([U|0],0>U?-1:0)}function f(U){if(isNaN(U)||!isFinite(U))return v;if(0>U)return N(f(-U));for(var L=[],O=1,F=0;U>=O;F++)L[F]=U/O|0,O*=4294967296;return new l(L,0)}function m(U,L){if(U.length==0)throw Error("number format error: empty string");if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(U.charAt(0)=="-")return N(m(U.substring(1),L));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=f(Math.pow(L,8)),F=v,A=0;A<U.length;A+=8){var V=Math.min(8,U.length-A),x=parseInt(U.substring(A,A+V),L);8>V?(V=f(Math.pow(L,V)),F=F.j(V).add(f(x))):(F=F.j(O),F=F.add(f(x)))}return F}var v=d(0),y=d(1),T=d(16777216);n=l.prototype,n.m=function(){if(P(this))return-N(this).m();for(var U=0,L=1,O=0;O<this.g.length;O++){var F=this.i(O);U+=(0<=F?F:4294967296+F)*L,L*=4294967296}return U},n.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(S(this))return"0";if(P(this))return"-"+N(this).toString(U);for(var L=f(Math.pow(U,6)),O=this,F="";;){var A=z(O,L).g;O=k(O,A.j(L));var V=((0<O.g.length?O.g[0]:O.h)>>>0).toString(U);if(O=A,S(O))return V+F;for(;6>V.length;)V="0"+V;F=V+F}},n.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function S(U){if(U.h!=0)return!1;for(var L=0;L<U.g.length;L++)if(U.g[L]!=0)return!1;return!0}function P(U){return U.h==-1}n.l=function(U){return U=k(this,U),P(U)?-1:S(U)?0:1};function N(U){for(var L=U.g.length,O=[],F=0;F<L;F++)O[F]=~U.g[F];return new l(O,~U.h).add(y)}n.abs=function(){return P(this)?N(this):this},n.add=function(U){for(var L=Math.max(this.g.length,U.g.length),O=[],F=0,A=0;A<=L;A++){var V=F+(this.i(A)&65535)+(U.i(A)&65535),x=(V>>>16)+(this.i(A)>>>16)+(U.i(A)>>>16);F=x>>>16,V&=65535,x&=65535,O[A]=x<<16|V}return new l(O,O[O.length-1]&-2147483648?-1:0)};function k(U,L){return U.add(N(L))}n.j=function(U){if(S(this)||S(U))return v;if(P(this))return P(U)?N(this).j(N(U)):N(N(this).j(U));if(P(U))return N(this.j(N(U)));if(0>this.l(T)&&0>U.l(T))return f(this.m()*U.m());for(var L=this.g.length+U.g.length,O=[],F=0;F<2*L;F++)O[F]=0;for(F=0;F<this.g.length;F++)for(var A=0;A<U.g.length;A++){var V=this.i(F)>>>16,x=this.i(F)&65535,le=U.i(A)>>>16,ue=U.i(A)&65535;O[2*F+2*A]+=x*ue,R(O,2*F+2*A),O[2*F+2*A+1]+=V*ue,R(O,2*F+2*A+1),O[2*F+2*A+1]+=x*le,R(O,2*F+2*A+1),O[2*F+2*A+2]+=V*le,R(O,2*F+2*A+2)}for(F=0;F<L;F++)O[F]=O[2*F+1]<<16|O[2*F];for(F=L;F<2*L;F++)O[F]=0;return new l(O,0)};function R(U,L){for(;(U[L]&65535)!=U[L];)U[L+1]+=U[L]>>>16,U[L]&=65535,L++}function M(U,L){this.g=U,this.h=L}function z(U,L){if(S(L))throw Error("division by zero");if(S(U))return new M(v,v);if(P(U))return L=z(N(U),L),new M(N(L.g),N(L.h));if(P(L))return L=z(U,N(L)),new M(N(L.g),L.h);if(30<U.g.length){if(P(U)||P(L))throw Error("slowDivide_ only works with positive integers.");for(var O=y,F=L;0>=F.l(U);)O=Q(O),F=Q(F);var A=se(O,1),V=se(F,1);for(F=se(F,2),O=se(O,2);!S(F);){var x=V.add(F);0>=x.l(U)&&(A=A.add(O),V=x),F=se(F,1),O=se(O,1)}return L=k(U,A.j(L)),new M(A,L)}for(A=v;0<=U.l(L);){for(O=Math.max(1,Math.floor(U.m()/L.m())),F=Math.ceil(Math.log(O)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),V=f(O),x=V.j(L);P(x)||0<x.l(U);)O-=F,V=f(O),x=V.j(L);S(V)&&(V=y),A=A.add(V),U=k(U,x)}return new M(A,U)}n.A=function(U){return z(this,U).h},n.and=function(U){for(var L=Math.max(this.g.length,U.g.length),O=[],F=0;F<L;F++)O[F]=this.i(F)&U.i(F);return new l(O,this.h&U.h)},n.or=function(U){for(var L=Math.max(this.g.length,U.g.length),O=[],F=0;F<L;F++)O[F]=this.i(F)|U.i(F);return new l(O,this.h|U.h)},n.xor=function(U){for(var L=Math.max(this.g.length,U.g.length),O=[],F=0;F<L;F++)O[F]=this.i(F)^U.i(F);return new l(O,this.h^U.h)};function Q(U){for(var L=U.g.length+1,O=[],F=0;F<L;F++)O[F]=U.i(F)<<1|U.i(F-1)>>>31;return new l(O,U.h)}function se(U,L){var O=L>>5;L%=32;for(var F=U.g.length-O,A=[],V=0;V<F;V++)A[V]=0<L?U.i(V+O)>>>L|U.i(V+O+1)<<32-L:U.i(V+O);return new l(A,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,bS=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=m,Wo=l}).apply(typeof Xw<"u"?Xw:typeof self<"u"?self:typeof window<"u"?window:{});var lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IS,ec,AS,Rh,Og,xS,CS,NS;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,w,I){return h==Array.prototype||h==Object.prototype||(h[w]=I.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof lh=="object"&&lh];for(var w=0;w<h.length;++w){var I=h[w];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=t(this);function i(h,w){if(w)e:{var I=r;h=h.split(".");for(var j=0;j<h.length-1;j++){var Y=h[j];if(!(Y in I))break e;I=I[Y]}h=h[h.length-1],j=I[h],w=w(j),w!=j&&w!=null&&e(I,h,{configurable:!0,writable:!0,value:w})}}function o(h,w){h instanceof String&&(h+="");var I=0,j=!1,Y={next:function(){if(!j&&I<h.length){var ie=I++;return{value:w(ie,h[ie]),done:!1}}return j=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(h){return h||function(){return o(this,function(w,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function d(h){var w=typeof h;return w=w!="object"?w:h?Array.isArray(h)?"array":w:"null",w=="array"||w=="object"&&typeof h.length=="number"}function f(h){var w=typeof h;return w=="object"&&h!=null||w=="function"}function m(h,w,I){return h.call.apply(h.bind,arguments)}function v(h,w,I){if(!h)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,j),h.apply(w,Y)}}return function(){return h.apply(w,arguments)}}function y(h,w,I){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,y.apply(null,arguments)}function T(h,w){var I=Array.prototype.slice.call(arguments,1);return function(){var j=I.slice();return j.push.apply(j,arguments),h.apply(this,j)}}function S(h,w){function I(){}I.prototype=w.prototype,h.aa=w.prototype,h.prototype=new I,h.prototype.constructor=h,h.Qb=function(j,Y,ie){for(var we=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)we[gt-2]=arguments[gt];return w.prototype[Y].apply(j,we)}}function P(h){const w=h.length;if(0<w){const I=Array(w);for(let j=0;j<w;j++)I[j]=h[j];return I}return[]}function N(h,w){for(let I=1;I<arguments.length;I++){const j=arguments[I];if(d(j)){const Y=h.length||0,ie=j.length||0;h.length=Y+ie;for(let we=0;we<ie;we++)h[Y+we]=j[we]}else h.push(j)}}class k{constructor(w,I){this.i=w,this.j=I,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function R(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=u.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var Q=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function se(h,w,I){for(const j in h)w.call(I,h[j],j,h)}function U(h,w){for(const I in h)w.call(void 0,h[I],I,h)}function L(h){const w={};for(const I in h)w[I]=h[I];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,w){let I,j;for(let Y=1;Y<arguments.length;Y++){j=arguments[Y];for(I in j)h[I]=j[I];for(let ie=0;ie<O.length;ie++)I=O[ie],Object.prototype.hasOwnProperty.call(j,I)&&(h[I]=j[I])}}function A(h){var w=1;h=h.split(":");const I=[];for(;0<w&&h.length;)I.push(h.shift()),w--;return h.length&&I.push(h.join(":")),I}function V(h){u.setTimeout(()=>{throw h},0)}function x(){var h=re;let w=null;return h.g&&(w=h.g,h.g=h.g.next,h.g||(h.h=null),w.next=null),w}class le{constructor(){this.h=this.g=null}add(w,I){const j=ue.get();j.set(w,I),this.h?this.h.next=j:this.g=j,this.h=j}}var ue=new k(()=>new X,h=>h.reset());class X{constructor(){this.next=this.g=this.h=null}set(w,I){this.h=w,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,K=!1,re=new le,Z=()=>{const h=u.Promise.resolve(void 0);oe=()=>{h.then($)}};var $=()=>{for(var h;h=x();){try{h.h.call(h.g)}catch(I){V(I)}var w=ue;w.j(h),100>w.h&&(w.h++,h.next=w.g,w.g=h)}K=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(h,w){this.type=h,this.g=this.target=w,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,w=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const I=()=>{};u.addEventListener("test",I,w),u.removeEventListener("test",I,w)}catch{}return h}();function ye(h,w){if(ge.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var I=this.type=h.type,j=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=w,w=h.relatedTarget){if(Q){e:{try{z(w.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(w=null)}}else I=="mouseover"?w=h.fromElement:I=="mouseout"&&(w=h.toElement);this.relatedTarget=w,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ke[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ye.aa.h.call(this)}}S(ye,ge);var ke={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Te=0;function De(h,w,I,j,Y){this.listener=h,this.proxy=null,this.src=w,this.type=I,this.capture=!!j,this.ha=Y,this.key=++Te,this.da=this.fa=!1}function Ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Qe(h){this.src=h,this.g={},this.h=0}Qe.prototype.add=function(h,w,I,j,Y){var ie=h.toString();h=this.g[ie],h||(h=this.g[ie]=[],this.h++);var we=et(h,w,j,Y);return-1<we?(w=h[we],I||(w.fa=!1)):(w=new De(w,this.src,ie,!!j,Y),w.fa=I,h.push(w)),w};function nt(h,w){var I=w.type;if(I in h.g){var j=h.g[I],Y=Array.prototype.indexOf.call(j,w,void 0),ie;(ie=0<=Y)&&Array.prototype.splice.call(j,Y,1),ie&&(Ue(w),h.g[I].length==0&&(delete h.g[I],h.h--))}}function et(h,w,I,j){for(var Y=0;Y<h.length;++Y){var ie=h[Y];if(!ie.da&&ie.listener==w&&ie.capture==!!I&&ie.ha==j)return Y}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),Lt={};function ui(h,w,I,j,Y){if(Array.isArray(w)){for(var ie=0;ie<w.length;ie++)ui(h,w[ie],I,j,Y);return null}return I=Mr(I),h&&h[Me]?h.K(w,I,f(j)?!!j.capture:!1,Y):$i(h,w,I,!1,j,Y)}function $i(h,w,I,j,Y,ie){if(!w)throw Error("Invalid event type");var we=f(Y)?!!Y.capture:!!Y,gt=ci(h);if(gt||(h[yt]=gt=new Qe(h)),I=gt.add(w,I,j,we,ie),I.proxy)return I;if(j=so(),I.proxy=j,j.src=h,j.listener=I,h.addEventListener)Ee||(Y=we),Y===void 0&&(Y=!1),h.addEventListener(w.toString(),j,Y);else if(h.attachEvent)h.attachEvent(Hn(w.toString()),j);else if(h.addListener&&h.removeListener)h.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return I}function so(){function h(I){return w.call(h.src,h.listener,I)}const w=Hi;return h}function zi(h,w,I,j,Y){if(Array.isArray(w))for(var ie=0;ie<w.length;ie++)zi(h,w[ie],I,j,Y);else j=f(j)?!!j.capture:!!j,I=Mr(I),h&&h[Me]?(h=h.i,w=String(w).toString(),w in h.g&&(ie=h.g[w],I=et(ie,I,j,Y),-1<I&&(Ue(ie[I]),Array.prototype.splice.call(ie,I,1),ie.length==0&&(delete h.g[w],h.h--)))):h&&(h=ci(h))&&(w=h.g[w.toString()],h=-1,w&&(h=et(w,I,j,Y)),(I=-1<h?w[h]:null)&&Pn(I))}function Pn(h){if(typeof h!="number"&&h&&!h.da){var w=h.src;if(w&&w[Me])nt(w.i,h);else{var I=h.type,j=h.proxy;w.removeEventListener?w.removeEventListener(I,j,h.capture):w.detachEvent?w.detachEvent(Hn(I),j):w.addListener&&w.removeListener&&w.removeListener(j),(I=ci(w))?(nt(I,h),I.h==0&&(I.src=null,w[yt]=null)):Ue(h)}}}function Hn(h){return h in Lt?Lt[h]:Lt[h]="on"+h}function Hi(h,w){if(h.da)h=!0;else{w=new ye(w,this);var I=h.listener,j=h.ha||h.src;h.fa&&Pn(h),h=I.call(j,w)}return h}function ci(h){return h=h[yt],h instanceof Qe?h:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mr(h){return typeof h=="function"?h:(h[wn]||(h[wn]=function(w){return h.handleEvent(w)}),h[wn])}function Ot(){ee.call(this),this.i=new Qe(this),this.M=this,this.F=null}S(Ot,ee),Ot.prototype[Me]=!0,Ot.prototype.removeEventListener=function(h,w,I,j){zi(this,h,w,I,j)};function vt(h,w){var I,j=h.F;if(j)for(I=[];j;j=j.F)I.push(j);if(h=h.M,j=w.type||w,typeof w=="string")w=new ge(w,h);else if(w instanceof ge)w.target=w.target||h;else{var Y=w;w=new ge(j,h),F(w,Y)}if(Y=!0,I)for(var ie=I.length-1;0<=ie;ie--){var we=w.g=I[ie];Y=Rn(we,j,!0,w)&&Y}if(we=w.g=h,Y=Rn(we,j,!0,w)&&Y,Y=Rn(we,j,!1,w)&&Y,I)for(ie=0;ie<I.length;ie++)we=w.g=I[ie],Y=Rn(we,j,!1,w)&&Y}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var h=this.i,w;for(w in h.g){for(var I=h.g[w],j=0;j<I.length;j++)Ue(I[j]);delete h.g[w],h.h--}}this.F=null},Ot.prototype.K=function(h,w,I,j){return this.i.add(String(h),w,!1,I,j)},Ot.prototype.L=function(h,w,I,j){return this.i.add(String(h),w,!0,I,j)};function Rn(h,w,I,j){if(w=h.i.g[String(w)],!w)return!0;w=w.concat();for(var Y=!0,ie=0;ie<w.length;++ie){var we=w[ie];if(we&&!we.da&&we.capture==I){var gt=we.listener,rn=we.ha||we.src;we.fa&&nt(h.i,we),Y=gt.call(rn,j)!==!1&&Y}}return Y&&!j.defaultPrevented}function di(h,w,I){if(typeof h=="function")I&&(h=y(h,I));else if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:u.setTimeout(h,w||0)}function Bt(h){h.g=di(()=>{h.g=null,h.i&&(h.i=!1,Bt(h))},h.l);const w=h.h;h.h=null,h.m.apply(null,w)}class jr extends ee{constructor(w,I){super(),this.m=w,this.l=I,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Bt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(h){ee.call(this),this.h=h,this.g={}}S(Vr,ee);var Es=[];function hi(h){se(h.g,function(w,I){this.g.hasOwnProperty(I)&&Pn(w)},h),h.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),hi(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fr=u.JSON.stringify,Gi=u.JSON.parse,Ur=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Gn(){}Gn.prototype.h=null;function ln(h){return h.h||(h.h=h.i())}function wr(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cn(){ge.call(this,"d")}S(cn,ge);function Br(){ge.call(this,"c")}S(Br,ge);var dn={},fi=null;function _r(){return fi=fi||new Ot}dn.La="serverreachability";function pi(h){ge.call(this,dn.La,h)}S(pi,ge);function hn(h){const w=_r();vt(w,new pi(w))}dn.STAT_EVENT="statevent";function Wi(h,w){ge.call(this,dn.STAT_EVENT,h),this.stat=w}S(Wi,ge);function ct(h){const w=_r();vt(w,new Wi(w,h))}dn.Ma="timingevent";function Ki(h,w){ge.call(this,dn.Ma,h),this.size=w}S(Ki,ge);function Wn(h,w){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},w)}function mi(){this.g=!0}mi.prototype.xa=function(){this.g=!1};function qr(h,w,I,j,Y,ie){h.info(function(){if(h.g)if(ie)for(var we="",gt=ie.split("&"),rn=0;rn<gt.length;rn++){var ot=gt[rn].split("=");if(1<ot.length){var pn=ot[0];ot=ot[1];var Qt=pn.split("_");we=2<=Qt.length&&Qt[1]=="type"?we+(pn+"="+ot+"&"):we+(pn+"=redacted&")}}else we=null;else we=ie;return"XMLHTTP REQ ("+j+") [attempt "+Y+"]: "+w+`
`+I+`
`+we})}function $r(h,w,I,j,Y,ie,we){h.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+Y+"]: "+w+`
`+I+`
`+ie+" "+we})}function mt(h,w,I,j){h.info(function(){return"XMLHTTP TEXT ("+w+"): "+la(h,I)+(j?" "+j:"")})}function Ts(h,w){h.info(function(){return"TIMEOUT: "+w})}mi.prototype.info=function(){};function la(h,w){if(!h.g)return w;if(!w)return null;try{var I=JSON.parse(w);if(I){for(h=0;h<I.length;h++)if(Array.isArray(I[h])){var j=I[h];if(!(2>j.length)){var Y=j[1];if(Array.isArray(Y)&&!(1>Y.length)){var ie=Y[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var we=1;we<Y.length;we++)Y[we]=""}}}}return Fr(I)}catch{return w}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function Pt(){}S(Pt,Gn),Pt.prototype.g=function(){return new XMLHttpRequest},Pt.prototype.i=function(){return{}},Kn=new Pt;function Qn(h,w,I,j){this.j=h,this.i=w,this.l=I,this.R=j||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ao}function ao(){this.i=null,this.g="",this.h=!1}var Ss={},Yi={};function Xi(h,w,I){h.L=1,h.v=kn(Tn(w)),h.m=I,h.P=!0,Gt(h,null)}function Gt(h,w){h.F=Date.now(),ft(h),h.A=Tn(h.v);var I=h.A,j=h.R;Array.isArray(j)||(j=[String(j)]),br(I.i,"t",j),h.C=0,I=h.j.J,h.h=new ao,h.g=cd(h.j,I?w:null,!h.m),0<h.O&&(h.M=new jr(y(h.Y,h,h.g),h.O)),w=h.U,I=h.g,j=h.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Es[0]=Y.toString()),Y=Es);for(var ie=0;ie<Y.length;ie++){var we=ui(I,Y[ie],j||w.handleEvent,!1,w.h||w);if(!we)break;w.g[we.key]=we}w=h.H?L(h.H):{},h.m?(h.u||(h.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,w)):(h.u="GET",h.g.ea(h.A,h.u,null,w)),hn(),qr(h.i,h.u,h.A,h.l,h.R,h.m)}Qn.prototype.ca=function(h){h=h.target;const w=this.M;w&&ht(h)==3?w.j():this.Y(h)},Qn.prototype.Y=function(h){try{if(h==this.g)e:{const Qt=ht(this.g);var w=this.g.Ba();const Qr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Kt(this.g)))){this.J||Qt!=4||w==7||(w==8||0>=Qr?hn(3):hn(2)),gi(this);var I=this.g.Z();this.X=I;t:if(lo(this)){var j=Kt(this.g);h="";var Y=j.length,ie=ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Yn(this);var we="";break t}this.h.i=new u.TextDecoder}for(w=0;w<Y;w++)this.h.h=!0,h+=this.h.i.decode(j[w],{stream:!(ie&&w==Y-1)});j.length=0,this.h.g+=h,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=I==200,$r(this.i,this.u,this.A,this.l,this.R,Qt,I),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,rn=this.g;if((gt=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(gt)){var ot=gt;break t}}ot=null}if(I=ot)mt(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zr(this,I);else{this.o=!1,this.s=3,ct(12),_n(this),Yn(this);break e}}if(this.P){I=!0;let Ar;for(;!this.J&&this.C<we.length;)if(Ar=ua(this,we),Ar==Yi){Qt==4&&(this.s=4,ct(14),I=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(Ar==Ss){this.s=4,ct(15),mt(this.i,this.l,we,"[Invalid Chunk]"),I=!1;break}else mt(this.i,this.l,Ar,null),zr(this,Ar);if(lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||we.length!=0||this.h.h||(this.s=1,ct(16),I=!1),this.o=this.o&&I,!I)mt(this.i,this.l,we,"[Invalid Chunked Response]"),_n(this),Yn(this);else if(0<we.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),_u(pn),pn.M=!0,ct(11))}}else mt(this.i,this.l,we,null),zr(this,we);Qt==4&&_n(this),this.o&&!this.J&&(Qt==4?tl(this.j,this):(this.o=!1,ft(this)))}else Et(this.g),I==400&&0<we.indexOf("Unknown SID")?(this.s=3,ct(12)):(this.s=0,ct(13)),_n(this),Yn(this)}}}catch{}finally{}};function lo(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ua(h,w){var I=h.C,j=w.indexOf(`
`,I);return j==-1?Yi:(I=Number(w.substring(I,j)),isNaN(I)?Ss:(j+=1,j+I>w.length?Yi:(w=w.slice(j,j+I),h.C=j+I,w)))}Qn.prototype.cancel=function(){this.J=!0,_n(this)};function ft(h){h.S=Date.now()+h.I,uo(h,h.I)}function uo(h,w){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Wn(y(h.ba,h),w)}function gi(h){h.B&&(u.clearTimeout(h.B),h.B=null)}Qn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Ts(this.i,this.A),this.L!=2&&(hn(),ct(17)),_n(this),this.s=2,Yn(this)):uo(this,this.S-h)};function Yn(h){h.j.G==0||h.J||tl(h.j,h)}function _n(h){gi(h);var w=h.M;w&&typeof w.ma=="function"&&w.ma(),h.M=null,hi(h.U),h.g&&(w=h.g,h.g=null,w.abort(),w.ma())}function zr(h,w){try{var I=h.j;if(I.G!=0&&(I.g==h||en(I.h,h))){if(!h.K&&en(I.h,h)&&I.G==3){try{var j=I.Da.g.parse(w)}catch{j=null}if(Array.isArray(j)&&j.length==3){var Y=j;if(Y[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<h.F)el(I),qt(I);else break e;Za(I),ct(18)}}else I.za=Y[1],0<I.za-I.T&&37500>Y[2]&&I.F&&I.v==0&&!I.C&&(I.C=Wn(y(I.Za,I),6e3));if(1>=co(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Ns(I,11)}else if((h.K||I.g==h)&&el(I),!R(w))for(Y=I.Da.g.parse(w),w=0;w<Y.length;w++){let ot=Y[w];if(I.T=ot[0],ot=ot[1],I.G==2)if(ot[0]=="c"){I.K=ot[1],I.ia=ot[2];const pn=ot[3];pn!=null&&(I.la=pn,I.j.info("VER="+I.la));const Qt=ot[4];Qt!=null&&(I.Aa=Qt,I.j.info("SVER="+I.Aa));const Qr=ot[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(j=1.5*Qr,I.L=j,I.j.info("backChannelRequestTimeoutMs_="+j)),j=I;const Ar=h.g;if(Ar){const ha=Ar.g?Ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ha){var ie=j.h;ie.g||ha.indexOf("spdy")==-1&&ha.indexOf("quic")==-1&&ha.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(bs(ie,ie.h),ie.h=null))}if(j.D){const rl=Ar.g?Ar.g.getResponseHeader("X-HTTP-Session-Id"):null;rl&&(j.ya=rl,dt(j.I,j.D,rl))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-h.F,I.j.info("Handshake RTT: "+I.R+"ms")),j=I;var we=h;if(j.qa=ud(j,j.J?j.ia:null,j.W),we.K){ho(j.h,we);var gt=we,rn=j.L;rn&&(gt.I=rn),gt.B&&(gi(gt),ft(gt)),j.g=we}else da(j);0<I.i.length&&Ir(I)}else ot[0]!="stop"&&ot[0]!="close"||Ns(I,7);else I.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Ns(I,7):Tt(I):ot[0]!="noop"&&I.l&&I.l.ta(ot),I.v=0)}}hn(4)}catch{}}var Xn=class{constructor(h,w){this.g=h,this.map=w}};function Er(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function co(h){return h.h?1:h.g?h.g.size:0}function en(h,w){return h.h?h.h==w:h.g?h.g.has(w):!1}function bs(h,w){h.g?h.g.add(w):h.h=w}function ho(h,w){h.h&&h.h==w?h.h=null:h.g&&h.g.has(w)&&h.g.delete(w)}Er.prototype.cancel=function(){if(this.i=yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yi(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let w=h.i;for(const I of h.g.values())w=w.concat(I.D);return w}return P(h.i)}function Hr(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var w=[],I=h.length,j=0;j<I;j++)w.push(h[j]);return w}w=[],I=0;for(j in h)w[I++]=h[j];return w}function sr(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var w=[];h=h.length;for(var I=0;I<h;I++)w.push(I);return w}w=[],I=0;for(const j in h)w[I++]=j;return w}}}function Tr(h,w){if(h.forEach&&typeof h.forEach=="function")h.forEach(w,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,w,void 0);else for(var I=sr(h),j=Hr(h),Y=j.length,ie=0;ie<Y;ie++)w.call(void 0,j[ie],I&&I[ie],h)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ca(h,w){if(h){h=h.split("&");for(var I=0;I<h.length;I++){var j=h[I].indexOf("="),Y=null;if(0<=j){var ie=h[I].substring(0,j);Y=h[I].substring(j+1)}else ie=h[I];w(ie,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Sr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Sr){this.h=h.h,vi(this,h.j),this.o=h.o,this.g=h.g,or(this,h.s),this.l=h.l;var w=h.i,I=new lr;I.i=w.i,w.g&&(I.g=new Map(w.g),I.h=w.h),Wr(this,I),this.m=h.m}else h&&(w=String(h).match(Gr))?(this.h=!1,vi(this,w[1]||"",!0),this.o=$e(w[2]||""),this.g=$e(w[3]||"",!0),or(this,w[4]),this.l=$e(w[5]||"",!0),Wr(this,w[6]||"",!0),this.m=$e(w[7]||"")):(this.h=!1,this.i=new lr(null,this.h))}Sr.prototype.toString=function(){var h=[],w=this.j;w&&h.push(fn(w,Ji,!0),":");var I=this.g;return(I||w=="file")&&(h.push("//"),(w=this.o)&&h.push(fn(w,Ji,!0),"@"),h.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&h.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&h.push("/"),h.push(fn(I,I.charAt(0)=="/"?fo:Jn,!0))),(I=this.i.toString())&&h.push("?",I),(I=this.m)&&h.push("#",fn(I,Is)),h.join("")};function Tn(h){return new Sr(h)}function vi(h,w,I){h.j=I?$e(w,!0):w,h.j&&(h.j=h.j.replace(/:$/,""))}function or(h,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);h.s=w}else h.s=null}function Wr(h,w,I){w instanceof lr?(h.i=w,On(h.i,h.h)):(I||(w=fn(w,po)),h.i=new lr(w,h.h))}function dt(h,w,I){h.i.set(w,I)}function kn(h){return dt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function $e(h,w){return h?w?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function fn(h,w,I){return typeof h=="string"?(h=encodeURI(h).replace(w,ar),I&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function ar(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ji=/[#\/\?@]/g,Jn=/[#\?:]/g,fo=/[#\?]/g,po=/[#\?@]/g,Is=/#/g;function lr(h,w){this.h=this.g=null,this.i=h||null,this.j=!!w}function Ft(h){h.g||(h.g=new Map,h.h=0,h.i&&ca(h.i,function(w,I){h.add(decodeURIComponent(w.replace(/\+/g," ")),I)}))}n=lr.prototype,n.add=function(h,w){Ft(this),this.i=null,h=tn(this,h);var I=this.g.get(h);return I||this.g.set(h,I=[]),I.push(w),this.h+=1,this};function wt(h,w){Ft(h),w=tn(h,w),h.g.has(w)&&(h.i=null,h.h-=h.g.get(w).length,h.g.delete(w))}function Ln(h,w){return Ft(h),w=tn(h,w),h.g.has(w)}n.forEach=function(h,w){Ft(this),this.g.forEach(function(I,j){I.forEach(function(Y){h.call(w,Y,j,this)},this)},this)},n.na=function(){Ft(this);const h=Array.from(this.g.values()),w=Array.from(this.g.keys()),I=[];for(let j=0;j<w.length;j++){const Y=h[j];for(let ie=0;ie<Y.length;ie++)I.push(w[j])}return I},n.V=function(h){Ft(this);let w=[];if(typeof h=="string")Ln(this,h)&&(w=w.concat(this.g.get(tn(this,h))));else{h=Array.from(this.g.values());for(let I=0;I<h.length;I++)w=w.concat(h[I])}return w},n.set=function(h,w){return Ft(this),this.i=null,h=tn(this,h),Ln(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[w]),this.h+=1,this},n.get=function(h,w){return h?(h=this.V(h),0<h.length?String(h[0]):w):w};function br(h,w,I){wt(h,w),0<I.length&&(h.i=null,h.g.set(tn(h,w),P(I)),h.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],w=Array.from(this.g.keys());for(var I=0;I<w.length;I++){var j=w[I];const ie=encodeURIComponent(String(j)),we=this.V(j);for(j=0;j<we.length;j++){var Y=ie;we[j]!==""&&(Y+="="+encodeURIComponent(String(we[j]))),h.push(Y)}}return this.i=h.join("&")};function tn(h,w){return w=String(w),h.j&&(w=w.toLowerCase()),w}function On(h,w){w&&!h.j&&(Ft(h),h.i=null,h.g.forEach(function(I,j){var Y=j.toLowerCase();j!=Y&&(wt(this,j),br(this,Y,I))},h)),h.j=w}function Zi(h,w){const I=new mi;if(u.Image){const j=new Image;j.onload=T(nn,I,"TestLoadImage: loaded",!0,w,j),j.onerror=T(nn,I,"TestLoadImage: error",!1,w,j),j.onabort=T(nn,I,"TestLoadImage: abort",!1,w,j),j.ontimeout=T(nn,I,"TestLoadImage: timeout",!1,w,j),u.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=h}else w(!1)}function mo(h,w){const I=new mi,j=new AbortController,Y=setTimeout(()=>{j.abort(),nn(I,"TestPingServer: timeout",!1,w)},1e4);fetch(h,{signal:j.signal}).then(ie=>{clearTimeout(Y),ie.ok?nn(I,"TestPingServer: ok",!0,w):nn(I,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(Y),nn(I,"TestPingServer: error",!1,w)})}function nn(h,w,I,j,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),j(I)}catch{}}function As(){this.g=new Ur}function xs(h,w,I){const j=I||"";try{Tr(h,function(Y,ie){let we=Y;f(Y)&&(we=Fr(Y)),w.push(j+ie+"="+encodeURIComponent(we))})}catch(Y){throw w.push(j+"type="+encodeURIComponent("_badmap")),Y}}function Wt(h){this.l=h.Ub||null,this.j=h.eb||!1}S(Wt,Gn),Wt.prototype.g=function(){return new Kr(this.l,this.j)},Wt.prototype.i=function(h){return function(){return h}}({});function Kr(h,w){Ot.call(this),this.D=h,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Kr,Ot),n=Kr.prototype,n.open=function(h,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=w,this.readyState=1,er(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(w.body=h),(this.D||u).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zn(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;es(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function es(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var w=h.value?h.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!h.done}))&&(this.response=this.responseText+=w)}h.done?Zn(this):er(this),this.readyState==3&&es(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Zn(this))},n.Qa=function(h){this.g&&(this.response=h,Zn(this))},n.ga=function(){this.g&&Zn(this)};function Zn(h){h.readyState=4,h.l=null,h.j=null,h.v=null,er(h)}n.setRequestHeader=function(h,w){this.u.append(h,w)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],w=this.h.entries();for(var I=w.next();!I.done;)I=I.value,h.push(I[0]+": "+I[1]),I=w.next();return h.join(`\r
`)};function er(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function E(h){let w="";return se(h,function(I,j){w+=j,w+=":",w+=I,w+=`\r
`}),w}function D(h,w,I){e:{for(j in I){var j=!1;break e}j=!0}j||(I=E(I),typeof h=="string"?I!=null&&encodeURIComponent(String(I)):dt(h,w,I))}function q(h){Ot.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(q,Ot);var ae=/^https?$/i,Be=["POST","PUT"];n=q.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,w,I,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);w=w?w.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?ln(this.o):ln(Kn),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(w,String(h),!0),this.B=!1}catch(ie){Ce(this,ie);return}if(h=I||"",I=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var Y in j)I.set(Y,j[Y]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const ie of j.keys())I.set(ie,j.get(ie));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(I.keys()).find(ie=>ie.toLowerCase()=="content-type"),Y=u.FormData&&h instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Be,w,void 0))||j||Y||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,we]of I)this.g.setRequestHeader(ie,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tt(this),this.u=!0,this.g.send(h),this.u=!1}catch(ie){Ce(this,ie)}};function Ce(h,w){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=w,h.m=5,Ye(h),st(h)}function Ye(h){h.A||(h.A=!0,vt(h,"complete"),vt(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,vt(this,"complete"),vt(this,"abort"),st(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),st(this,!0)),q.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xe(this):this.bb())},n.bb=function(){Xe(this)};function Xe(h){if(h.h&&typeof l<"u"&&(!h.v[1]||ht(h)!=4||h.Z()!=2)){if(h.u&&ht(h)==4)di(h.Ea,0,h);else if(vt(h,"readystatechange"),ht(h)==4){h.h=!1;try{const we=h.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var I;if(!(I=w)){var j;if(j=we===0){var Y=String(h.D).match(Gr)[1]||null;!Y&&u.self&&u.self.location&&(Y=u.self.location.protocol.slice(0,-1)),j=!ae.test(Y?Y.toLowerCase():"")}I=j}if(I)vt(h,"complete"),vt(h,"success");else{h.m=6;try{var ie=2<ht(h)?h.g.statusText:""}catch{ie=""}h.l=ie+" ["+h.Z()+"]",Ye(h)}}finally{st(h)}}}}function st(h,w){if(h.g){tt(h);const I=h.g,j=h.v[0]?()=>{}:null;h.g=null,h.v=null,w||vt(h,"ready");try{I.onreadystatechange=j}catch{}}}function tt(h){h.I&&(u.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function ht(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<ht(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var w=this.g.responseText;return h&&w.indexOf(h)==0&&(w=w.substring(h.length)),Gi(w)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Et(h){const w={};h=(h.g&&2<=ht(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<h.length;j++){if(R(h[j]))continue;var I=A(h[j]);const Y=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const ie=w[Y]||[];w[Y]=ie,ie.push(I)}U(w,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _t(h,w,I){return I&&I.internalChannelParams&&I.internalChannelParams[h]||w}function Dt(h){this.Aa=0,this.i=[],this.j=new mi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_t("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_t("baseRetryDelayMs",5e3,h),this.cb=_t("retryDelaySeedMs",1e4,h),this.Wa=_t("forwardChannelMaxRetries",2,h),this.wa=_t("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Er(h&&h.concurrentRequestLimit),this.Da=new As,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Dt.prototype,n.la=8,n.G=1,n.connect=function(h,w,I,j){ct(0),this.W=h,this.H=w||{},I&&j!==void 0&&(this.H.OSID=I,this.H.OAID=j),this.F=this.X,this.I=ud(this,null,this.W),Ir(this)};function Tt(h){if(ur(h),h.G==3){var w=h.U++,I=Tn(h.I);if(dt(I,"SID",h.K),dt(I,"RID",w),dt(I,"TYPE","terminate"),Cs(h,I),w=new Qn(h,h.j,w),w.L=2,w.v=kn(Tn(I)),I=!1,u.navigator&&u.navigator.sendBeacon)try{I=u.navigator.sendBeacon(w.v.toString(),"")}catch{}!I&&u.Image&&(new Image().src=w.v,I=!0),I||(w.g=cd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),ft(w)}ld(h)}function qt(h){h.g&&(_u(h),h.g.cancel(),h.g=null)}function ur(h){qt(h),h.u&&(u.clearTimeout(h.u),h.u=null),el(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&u.clearTimeout(h.s),h.s=null)}function Ir(h){if(!En(h.h)&&!h.s){h.s=!0;var w=h.Ga;oe||Z(),K||(oe(),K=!0),re.add(w,h),h.B=0}}function go(h,w){return co(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=w.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Wn(y(h.Ga,h,w),ad(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Y=new Qn(this,this.j,h);let ie=this.o;if(this.S&&(ie?(ie=L(ie),F(ie,this.S)):ie=this.S),this.m!==null||this.O||(Y.H=ie,ie=null),this.P)e:{for(var w=0,I=0;I<this.i.length;I++){t:{var j=this.i[I];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(w+=j,4096<w){w=I;break e}if(w===4096||I===this.i.length-1){w=I+1;break e}}w=1e3}else w=1e3;w=yo(this,Y,w),I=Tn(this.I),dt(I,"RID",h),dt(I,"CVER",22),this.D&&dt(I,"X-HTTP-Session-Id",this.D),Cs(this,I),ie&&(this.O?w="headers="+encodeURIComponent(String(E(ie)))+"&"+w:this.m&&D(I,this.m,ie)),bs(this.h,Y),this.Ua&&dt(I,"TYPE","init"),this.P?(dt(I,"$req",w),dt(I,"SID","null"),Y.T=!0,Xi(Y,I,null)):Xi(Y,I,w),this.G=2}}else this.G==3&&(h?wi(this,h):this.i.length==0||En(this.h)||wi(this))};function wi(h,w){var I;w?I=w.l:I=h.U++;const j=Tn(h.I);dt(j,"SID",h.K),dt(j,"RID",I),dt(j,"AID",h.T),Cs(h,j),h.m&&h.o&&D(j,h.m,h.o),I=new Qn(h,h.j,I,h.B+1),h.m===null&&(I.H=h.o),w&&(h.i=w.D.concat(h.i)),w=yo(h,I,1e3),I.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),bs(h.h,I),Xi(I,j,w)}function Cs(h,w){h.H&&se(h.H,function(I,j){dt(w,j,I)}),h.l&&Tr({},function(I,j){dt(w,j,I)})}function yo(h,w,I){I=Math.min(h.i.length,I);var j=h.l?y(h.l.Na,h.l,h):null;e:{var Y=h.i;let ie=-1;for(;;){const we=["count="+I];ie==-1?0<I?(ie=Y[0].g,we.push("ofs="+ie)):ie=0:we.push("ofs="+ie);let gt=!0;for(let rn=0;rn<I;rn++){let ot=Y[rn].g;const pn=Y[rn].map;if(ot-=ie,0>ot)ie=Math.max(0,Y[rn].g-100),gt=!1;else try{xs(pn,we,"req"+ot+"_")}catch{j&&j(pn)}}if(gt){j=we.join("&");break e}}}return h=h.i.splice(0,I),w.D=h,j}function da(h){if(!h.g&&!h.u){h.Y=1;var w=h.Fa;oe||Z(),K||(oe(),K=!0),re.add(w,h),h.v=0}}function Za(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Wn(y(h.Fa,h),ad(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,od(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Wn(y(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ct(10),qt(this),od(this))};function _u(h){h.A!=null&&(u.clearTimeout(h.A),h.A=null)}function od(h){h.g=new Qn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var w=Tn(h.qa);dt(w,"RID","rpc"),dt(w,"SID",h.K),dt(w,"AID",h.T),dt(w,"CI",h.F?"0":"1"),!h.F&&h.ja&&dt(w,"TO",h.ja),dt(w,"TYPE","xmlhttp"),Cs(h,w),h.m&&h.o&&D(w,h.m,h.o),h.L&&(h.g.I=h.L);var I=h.g;h=h.ia,I.L=1,I.v=kn(Tn(w)),I.m=null,I.P=!0,Gt(I,h)}n.Za=function(){this.C!=null&&(this.C=null,qt(this),Za(this),ct(19))};function el(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function tl(h,w){var I=null;if(h.g==w){el(h),_u(h),h.g=null;var j=2}else if(en(h.h,w))I=w.D,ho(h.h,w),j=1;else return;if(h.G!=0){if(w.o)if(j==1){I=w.m?w.m.length:0,w=Date.now()-w.F;var Y=h.B;j=_r(),vt(j,new Ki(j,I)),Ir(h)}else da(h);else if(Y=w.s,Y==3||Y==0&&0<w.X||!(j==1&&go(h,w)||j==2&&Za(h)))switch(I&&0<I.length&&(w=h.h,w.i=w.i.concat(I)),Y){case 1:Ns(h,5);break;case 4:Ns(h,10);break;case 3:Ns(h,6);break;default:Ns(h,2)}}}function ad(h,w){let I=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(I*=2),I*w}function Ns(h,w){if(h.j.info("Error code "+w),w==2){var I=y(h.fb,h),j=h.Xa;const Y=!j;j=new Sr(j||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vi(j,"https"),kn(j),Y?Zi(j.toString(),I):mo(j.toString(),I)}else ct(2);h.G=0,h.l&&h.l.sa(w),ld(h),ur(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ct(2)):(this.j.info("Failed to ping google.com"),ct(1))};function ld(h){if(h.G=0,h.ka=[],h.l){const w=yi(h.h);(w.length!=0||h.i.length!=0)&&(N(h.ka,w),N(h.ka,h.i),h.h.i.length=0,P(h.i),h.i.length=0),h.l.ra()}}function ud(h,w,I){var j=I instanceof Sr?Tn(I):new Sr(I);if(j.g!="")w&&(j.g=w+"."+j.g),or(j,j.s);else{var Y=u.location;j=Y.protocol,w=w?w+"."+Y.hostname:Y.hostname,Y=+Y.port;var ie=new Sr(null);j&&vi(ie,j),w&&(ie.g=w),Y&&or(ie,Y),I&&(ie.l=I),j=ie}return I=h.D,w=h.ya,I&&w&&dt(j,I,w),dt(j,"VER",h.la),Cs(h,j),j}function cd(h,w,I){if(w&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=h.Ca&&!h.pa?new q(new Wt({eb:I})):new q(h.pa),w.Ha(h.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}n=Eu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function nl(){}nl.prototype.g=function(h,w){return new tr(h,w)};function tr(h,w){Ot.call(this),this.g=new Dt(w),this.l=h,this.h=w&&w.messageUrlParams||null,h=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(h?h["X-WebChannel-Content-Type"]=w.messageContentType:h={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(h?h["X-WebChannel-Client-Profile"]=w.va:h={"X-WebChannel-Client-Profile":w.va}),this.g.S=h,(h=w&&w.Sb)&&!R(h)&&(this.g.m=h),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!R(w)&&(this.g.D=w,h=this.h,h!==null&&w in h&&(h=this.h,w in h&&delete h[w])),this.j=new ts(this)}S(tr,Ot),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Tt(this.g)},tr.prototype.o=function(h){var w=this.g;if(typeof h=="string"){var I={};I.__data__=h,h=I}else this.u&&(I={},I.__data__=Fr(h),h=I);w.i.push(new Xn(w.Ya++,h)),w.G==3&&Ir(w)},tr.prototype.N=function(){this.g.l=null,delete this.j,Tt(this.g),delete this.g,tr.aa.N.call(this)};function dd(h){cn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var w=h.__sm__;if(w){e:{for(const I in w){h=I;break e}h=void 0}(this.i=h)&&(h=this.i,w=w!==null&&h in w?w[h]:void 0),this.data=w}else this.data=h}S(dd,cn);function hd(){Br.call(this),this.status=1}S(hd,Br);function ts(h){this.g=h}S(ts,Eu),ts.prototype.ua=function(){vt(this.g,"a")},ts.prototype.ta=function(h){vt(this.g,new dd(h))},ts.prototype.sa=function(h){vt(this.g,new hd)},ts.prototype.ra=function(){vt(this.g,"b")},nl.prototype.createWebChannel=nl.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,NS=function(){return new nl},CS=function(){return _r()},xS=dn,Og={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,Rh=Qi,oo.COMPLETE="complete",AS=oo,wr.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,ec=wr,q.prototype.listenOnce=q.prototype.L,q.prototype.getLastError=q.prototype.Ka,q.prototype.getLastErrorCode=q.prototype.Ba,q.prototype.getStatus=q.prototype.Z,q.prototype.getResponseJson=q.prototype.Oa,q.prototype.getResponseText=q.prototype.oa,q.prototype.send=q.prototype.ea,q.prototype.setWithCredentials=q.prototype.Ha,IS=q}).apply(typeof lh<"u"?lh:typeof self<"u"?self:typeof window<"u"?window:{});const Jw="@firebase/firestore",Zw="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new By("@firebase/firestore");function Il(){return Da.logLevel}function be(n,...e){if(Da.logLevel<=rt.DEBUG){const t=e.map(zy);Da.debug(`Firestore (${cu}): ${n}`,...t)}}function Ks(n,...e){if(Da.logLevel<=rt.ERROR){const t=e.map(zy);Da.error(`Firestore (${cu}): ${n}`,...t)}}function Gl(n,...e){if(Da.logLevel<=rt.WARN){const t=e.map(zy);Da.warn(`Firestore (${cu}): ${n}`,...t)}}function zy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,PS(n,r,t)}function PS(n,e,t){let r=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ks(r),new Error(r)}function pt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||PS(e,i,r)}function Ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends no{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Un.UNAUTHENTICATED))}shutdown(){}}class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FR{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hs,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},u=d=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>u(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hs)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(pt(typeof r.accessToken=="string",31837,{l:r}),new RS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class UR{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BR{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new UR(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qR{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0,3512);const r=o=>{o.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$R(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Je(n,e){return n<e?-1:n>e?1:0}function Dg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Je(r,i);{const o=kS(),l=zR(o.encode(t_(n,t)),o.encode(t_(e,t)));return l!==0?l:Je(r,i)}}t+=r>65535?2:1}return Je(n.length,e.length)}function t_(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function zR(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Je(n[t],e[t]);return Je(n.length,e.length)}function Wl(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*r_);return new Ht(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n_)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?Je(this.nanoseconds,e.nanoseconds):Je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new Ht(0,0))}static max(){return new Ge(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class ls{constructor(e,t,r){t===void 0?t=0:t>e.length&&qe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&qe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ls.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ls?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=ls.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Je(e.length,t.length)}static compareSegments(e,t){const r=ls.isNumericId(e),i=ls.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ls.extractNumericId(e).compare(ls.extractNumericId(t)):Dg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wo.fromString(e.substring(4,e.length-2))}}class Nt extends ls{construct(e,t,r){return new Nt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const HR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends ls{construct(e,t,r){return new An(e,t,r)}static isValidIdentifier(e){return HR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new An([i_])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new An(t)}static emptyPath(){return new An([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Nt.fromString(e))}static fromName(e){return new je(Nt.fromString(e).popFirst(5))}static empty(){return new je(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function GR(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(r===1e9?new Ht(t+1,0):new Ht(t,r));return new Yo(i,je.empty(),e)}function WR(n){return new Yo(n.readTime,n.key,Ec)}class Yo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yo(Ge.min(),je.empty(),Ec)}static max(){return new Yo(Ge.max(),je.empty(),Ec)}}function KR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=je.comparator(n.documentKey,e.documentKey),t!==0?t:Je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==QR)throw n;be("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},d=>r(d))}),l=!0,o===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(m=>{l[f]=m,++u,u===o&&r(l)},m=>i(m))}})}static doWhile(e,t){return new he((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function XR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function hu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Pf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-1;function Rf(n){return n==null}function Xh(n){return n===0&&1/n==-1/0}function JR(n){return typeof n=="number"&&Number.isInteger(n)&&!Xh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="";function ZR(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=s_(e)),e=ek(n.get(t),e);return s_(e)}function ek(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case OS:t+="";break;default:t+=o}}return t}function s_(n){return n+OS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ra(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function DS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,t){this.comparator=e,this.root=t||In.EMPTY}insert(e,t){return new Vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,In.BLACK,null,null))}remove(e){return new Vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,In.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uh(this.root,e,this.comparator,!1)}getReverseIterator(){return new uh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uh(this.root,e,this.comparator,!0)}}class uh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class In{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??In.RED,this.left=i??In.EMPTY,this.right=o??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new In(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return In.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw qe(27949);return e+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw qe(57766)}get value(){throw qe(16141)}get color(){throw qe(16727)}get left(){throw qe(29726)}get right(){throw qe(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new In(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.comparator=e,this.data=new Vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof an)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new an(this.comparator);return t.data=e,t}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(An.comparator)}static empty(){return new kr([])}unionWith(e){let t=new an(An.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MS("Invalid base64 string: "+o):o}}(e);return new Nn(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xo(n){if(pt(!!n,39018),typeof n=="string"){let e=0;const t=tk.exec(n);if(pt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Jo(n){return typeof n=="string"?Nn.fromBase64String(n):Nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS="server_timestamp",VS="__type__",FS="__previous_value__",US="__local_write_time__";function Gy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[VS])===null||t===void 0?void 0:t.stringValue)===jS}function kf(n){const e=n.mapValue.fields[FS];return Gy(e)?kf(e):e}function Tc(n){const e=Xo(n.mapValue.fields[US].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t,r,i,o,l,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=m}}const Jh="(default)";class Sc{constructor(e,t){this.projectId=e,this.database=t||Jh}static empty(){return new Sc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof Sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="__type__",rk="__max__",ch={mapValue:{}},qS="__vector__",Zh="value";function Zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gy(n)?4:sk(n)?9007199254740991:ik(n)?10:11:qe(28295,{value:n})}function gs(n,e){if(n===e)return!0;const t=Zo(n);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tc(n).isEqual(Tc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=Xo(i.timestampValue),u=Xo(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Jo(i.bytesValue).isEqual(Jo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return zt(i.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(i.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return zt(i.integerValue)===zt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=zt(i.doubleValue),u=zt(o.doubleValue);return l===u?Xh(l)===Xh(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return Wl(n.arrayValue.values||[],e.arrayValue.values||[],gs);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(o_(l)!==o_(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!gs(l[d],u[d])))return!1;return!0}(n,e);default:return qe(52216,{left:n})}}function bc(n,e){return(n.values||[]).find(t=>gs(t,e))!==void 0}function Kl(n,e){if(n===e)return 0;const t=Zo(n),r=Zo(e);if(t!==r)return Je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=zt(o.integerValue||o.doubleValue),d=zt(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1}(n,e);case 3:return l_(n.timestampValue,e.timestampValue);case 4:return l_(Tc(n),Tc(e));case 5:return Dg(n.stringValue,e.stringValue);case 6:return function(o,l){const u=Jo(o),d=Jo(l);return u.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const m=Je(u[f],d[f]);if(m!==0)return m}return Je(u.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Je(zt(o.latitude),zt(l.latitude));return u!==0?u:Je(zt(o.longitude),zt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u_(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,d,f,m;const v=o.fields||{},y=l.fields||{},T=(u=v[Zh])===null||u===void 0?void 0:u.arrayValue,S=(d=y[Zh])===null||d===void 0?void 0:d.arrayValue,P=Je(((f=T==null?void 0:T.values)===null||f===void 0?void 0:f.length)||0,((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0);return P!==0?P:u_(T,S)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===ch.mapValue&&l===ch.mapValue)return 0;if(o===ch.mapValue)return 1;if(l===ch.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const y=Dg(d[v],m[v]);if(y!==0)return y;const T=Kl(u[d[v]],f[m[v]]);if(T!==0)return T}return Je(d.length,m.length)}(n.mapValue,e.mapValue);default:throw qe(23264,{Pe:t})}}function l_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Je(n,e);const t=Xo(n),r=Xo(e),i=Je(t.seconds,r.seconds);return i!==0?i:Je(t.nanos,r.nanos)}function u_(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Kl(t[i],r[i]);if(o)return o}return Je(t.length,r.length)}function Ql(n){return Mg(n)}function Mg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Xo(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Jo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return je.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Mg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${Mg(t.fields[l])}`;return i+"}"}(n.mapValue):qe(61005,{value:n})}function kh(n){switch(Zo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kf(n);return e?16+kh(e):16;case 5:return 2*n.stringValue.length;case 6:return Jo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+kh(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return ra(r.fields,(o,l)=>{i+=o.length+kh(l)}),i}(n.mapValue);default:throw qe(13486,{value:n})}}function c_(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function jg(n){return!!n&&"integerValue"in n}function Wy(n){return!!n&&"arrayValue"in n}function d_(n){return!!n&&"nullValue"in n}function h_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Lh(n){return!!n&&"mapValue"in n}function ik(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[BS])===null||t===void 0?void 0:t.stringValue)===qS}function uc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ra(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=uc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===rk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.value=e}static empty(){return new yr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Lh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uc(t)}setAll(e){let t=An.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=uc(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Lh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Lh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ra(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yr(uc(this.value))}}function $S(n){const e=[];return ra(n.fields,(t,r)=>{const i=new An([t]);if(Lh(r)){const o=$S(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Bn(e,0,Ge.min(),Ge.min(),Ge.min(),yr.empty(),0)}static newFoundDocument(e,t,r,i){return new Bn(e,1,t,Ge.min(),r,i,0)}static newNoDocument(e,t){return new Bn(e,2,t,Ge.min(),Ge.min(),yr.empty(),0)}static newUnknownDocument(e,t){return new Bn(e,3,t,Ge.min(),Ge.min(),yr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.position=e,this.inclusive=t}}function f_(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=je.comparator(je.fromName(l.referenceValue),t.key):r=Kl(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function p_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t="asc"){this.field=e,this.dir=t}}function ok(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{}class Jt extends zS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new lk(e,t,r):t==="array-contains"?new dk(e,r):t==="in"?new hk(e,r):t==="not-in"?new fk(e,r):t==="array-contains-any"?new pk(e,r):new Jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new uk(e,r):new ck(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Kl(t,this.value)):t!==null&&Zo(this.value)===Zo(t)&&this.matchesComparison(Kl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends zS{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new ji(e,t)}matches(e){return HS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function HS(n){return n.op==="and"}function GS(n){return ak(n)&&HS(n)}function ak(n){for(const e of n.filters)if(e instanceof ji)return!1;return!0}function Vg(n){if(n instanceof Jt)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(GS(n))return n.filters.map(e=>Vg(e)).join(",");{const e=n.filters.map(t=>Vg(t)).join(",");return`${n.op}(${e})`}}function WS(n,e){return n instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&gs(r.value,i.value)}(n,e):n instanceof ji?function(r,i){return i instanceof ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&WS(l,i.filters[u]),!0):!1}(n,e):void qe(19439)}function KS(n){return n instanceof Jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ql(t.value)}`}(n):n instanceof ji?function(t){return t.op.toString()+" {"+t.getFilters().map(KS).join(" ,")+"}"}(n):"Filter"}class lk extends Jt{constructor(e,t,r){super(e,t,r),this.key=je.fromName(r.referenceValue)}matches(e){const t=je.comparator(e.key,this.key);return this.matchesComparison(t)}}class uk extends Jt{constructor(e,t){super(e,"in",t),this.keys=QS("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ck extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=QS("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function QS(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>je.fromName(r.referenceValue))}class dk extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wy(t)&&bc(t.arrayValue,this.value)}}class hk extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bc(this.value.arrayValue,t)}}class fk extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bc(this.value.arrayValue,t)}}class pk extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function m_(n,e=null,t=[],r=[],i=null,o=null,l=null){return new mk(n,e,t,r,i,o,l)}function Ky(n){const e=Ke(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Rf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ql(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ql(r)).join(",")),e.Ie=t}return e.Ie}function Qy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ok(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p_(n.startAt,e.startAt)&&p_(n.endAt,e.endAt)}function Fg(n){return je.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function gk(n,e,t,r,i,o,l,u){return new fu(n,e,t,r,i,o,l,u)}function Yy(n){return new fu(n)}function g_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YS(n){return n.collectionGroup!==null}function cc(n){const e=Ke(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new an(An.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(u=u.add(f.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ic(o,r))}),t.has(An.keyField().canonicalString())||e.Ee.push(new Ic(An.keyField(),r))}return e.Ee}function cs(n){const e=Ke(n);return e.de||(e.de=yk(e,cc(n))),e.de}function yk(n,e){if(n.limitType==="F")return m_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Ic(i.field,o)});const t=n.endAt?new ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ef(n.startAt.position,n.startAt.inclusive):null;return m_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ug(n,e){const t=n.filters.concat([e]);return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Bg(n,e,t){return new fu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lf(n,e){return Qy(cs(n),cs(e))&&n.limitType===e.limitType}function XS(n){return`${Ky(cs(n))}|lt:${n.limitType}`}function Al(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>KS(i)).join(", ")}]`),Rf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ql(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ql(i)).join(",")),`Target(${r})`}(cs(n))}; limitType=${n.limitType})`}function Of(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,d){const f=f_(l,u,d);return l.inclusive?f<=0:f<0}(r.startAt,cc(r),i)||r.endAt&&!function(l,u,d){const f=f_(l,u,d);return l.inclusive?f>=0:f>0}(r.endAt,cc(r),i))}(n,e)}function vk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function JS(n){return(e,t)=>{let r=!1;for(const i of cc(n)){const o=wk(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wk(n,e,t){const r=n.field.isKeyField()?je.comparator(e.key,t.key):function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Kl(d,f):qe(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return DS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new Vt(je.comparator);function Qs(){return _k}const ZS=new Vt(je.comparator);function tc(...n){let e=ZS;for(const t of n)e=e.insert(t.key,t);return e}function eb(n){let e=ZS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Aa(){return dc()}function tb(){return dc()}function dc(){return new za(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ek=new Vt(je.comparator),Tk=new an(je.comparator);function it(...n){let e=Tk;for(const t of n)e=e.add(t);return e}const Sk=new an(Je);function bk(){return Sk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xh(e)?"-0":e}}function nb(n){return{integerValue:""+n}}function Ik(n,e){return JR(e)?nb(e):Xy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function Ak(n,e,t){return n instanceof tf?function(i,o){const l={fields:{[VS]:{stringValue:jS},[US]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Gy(o)&&(o=kf(o)),o&&(l.fields[FS]=o),{mapValue:l}}(t,e):n instanceof Ac?ib(n,e):n instanceof xc?sb(n,e):function(i,o){const l=rb(i,o),u=y_(l)+y_(i.Re);return jg(l)&&jg(i.Re)?nb(u):Xy(i.serializer,u)}(n,e)}function xk(n,e,t){return n instanceof Ac?ib(n,e):n instanceof xc?sb(n,e):t}function rb(n,e){return n instanceof nf?function(r){return jg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class tf extends Df{}class Ac extends Df{constructor(e){super(),this.elements=e}}function ib(n,e){const t=ob(e);for(const r of n.elements)t.some(i=>gs(i,r))||t.push(r);return{arrayValue:{values:t}}}class xc extends Df{constructor(e){super(),this.elements=e}}function sb(n,e){let t=ob(e);for(const r of n.elements)t=t.filter(i=>!gs(i,r));return{arrayValue:{values:t}}}class nf extends Df{constructor(e,t){super(),this.serializer=e,this.Re=t}}function y_(n){return zt(n.integerValue||n.doubleValue)}function ob(n){return Wy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ck(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ac&&i instanceof Ac||r instanceof xc&&i instanceof xc?Wl(r.elements,i.elements,gs):r instanceof nf&&i instanceof nf?gs(r.Re,i.Re):r instanceof tf&&i instanceof tf}(n.transform,e.transform)}class Nk{constructor(e,t){this.version=e,this.transformResults=t}}class Li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Li}static exists(e){return new Li(void 0,e)}static updateTime(e){return new Li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Mf{}function ab(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,Li.none()):new Hc(n.key,n.data,Li.none());{const t=n.data,r=yr.empty();let i=new an(An.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new ia(n.key,r,new kr(i.toArray()),Li.none())}}function Pk(n,e,t){n instanceof Hc?function(i,o,l){const u=i.value.clone(),d=w_(i.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ia?function(i,o,l){if(!Oh(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=w_(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(lb(i)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function hc(n,e,t,r){return n instanceof Hc?function(o,l,u,d){if(!Oh(o.precondition,l))return u;const f=o.value.clone(),m=__(o.fieldTransforms,d,l);return f.setAll(m),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof ia?function(o,l,u,d){if(!Oh(o.precondition,l))return u;const f=__(o.fieldTransforms,d,l),m=l.data;return m.setAll(lb(o)),m.setAll(f),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(o,l,u){return Oh(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Rk(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=rb(r.transform,i||null);o!=null&&(t===null&&(t=yr.empty()),t.set(r.field,o))}return t||null}function v_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wl(r,i,(o,l)=>Ck(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Hc extends Mf{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ia extends Mf{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function lb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function w_(n,e,t){const r=new Map;pt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,xk(l,u,t[i]))}return r}function __(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Ak(o,l,e))}return r}class Jy extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kk extends Mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Pk(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=hc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=hc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tb();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const d=ab(l,u);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&Wl(this.mutations,e.mutations,(t,r)=>v_(t,r))&&Wl(this.baseMutations,e.baseMutations,(t,r)=>v_(t,r))}}class Zy{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){pt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Ek}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Zy(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,at;function Mk(n){switch(n){case de.OK:return qe(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return qe(15467,{code:n})}}function ub(n){if(n===void 0)return Ks("GRPC error has no .code"),de.UNKNOWN;switch(n){case Xt.OK:return de.OK;case Xt.CANCELLED:return de.CANCELLED;case Xt.UNKNOWN:return de.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return de.INTERNAL;case Xt.UNAVAILABLE:return de.UNAVAILABLE;case Xt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Xt.NOT_FOUND:return de.NOT_FOUND;case Xt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Xt.ABORTED:return de.ABORTED;case Xt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Xt.DATA_LOSS:return de.DATA_LOSS;default:return qe(39323,{code:n})}}(at=Xt||(Xt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Wo([4294967295,4294967295],0);function E_(n){const e=kS().encode(n),t=new bS;return t.update(e),new Uint8Array(t.digest())}function T_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wo([t,r],0),new Wo([i,o],0)]}class ev{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new nc(`Invalid padding: ${t}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new nc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Wo.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(Wo.fromNumber(r)));return i.compare(jk)===1&&(i=new Wo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=E_(e),[r,i]=T_(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new ev(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=E_(e),[r,i]=T_(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new jf(Ge.min(),i,new Vt(Je),Qs(),it())}}class Gc{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gc(r,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class cb{constructor(e,t){this.targetId=e,this.Ce=t}}class db{constructor(e,t,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class S_{constructor(){this.Fe=0,this.Me=b_(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=it(),t=it(),r=it();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qe(38017,{changeType:o})}}),new Gc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=b_()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,pt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Vk{constructor(e){this.ze=e,this.je=new Map,this.He=Qs(),this.Je=dh(),this.Ye=dh(),this.Ze=new Vt(Je)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:qe(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if(Fg(o))if(r===0){const l=new je(o.path);this.tt(t,l,Bn.newNoDocument(l,Ge.min()))}else pt(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),d=u?this.lt(u,e,l):1;if(d!==0){this.st(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=Jo(r).toUint8Array()}catch(d){if(d instanceof MS)return Gl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new ev(l,i,o)}catch(d){return Gl(d instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&Fg(u.target)){const d=new je(u.target.path);this.Et(d).has(l)||this.dt(l,d)||this.tt(l,d,Bn.newNoDocument(d,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=it();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(d=>{const f=this._t(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new jf(e,t,this.Ze,this.He,r);return this.He=Qs(),this.Je=dh(),this.Ye=dh(),this.Ze=new Vt(Je),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new S_,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new an(Je),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new an(Je),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new S_),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function dh(){return new Vt(je.comparator)}function b_(){return new Vt(je.comparator)}const Fk={asc:"ASCENDING",desc:"DESCENDING"},Uk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bk={and:"AND",or:"OR"};class qk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qg(n,e){return n.useProto3Json||Rf(e)?e:{value:e}}function rf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hb(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function $k(n,e){return rf(n,e.toTimestamp())}function ds(n){return pt(!!n,49232),Ge.fromTimestamp(function(t){const r=Xo(t);return new Ht(r.seconds,r.nanos)}(n))}function tv(n,e){return $g(n,e).canonicalString()}function $g(n,e){const t=function(i){return new Nt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function fb(n){const e=Nt.fromString(n);return pt(vb(e),10190,{key:e.toString()}),e}function zg(n,e){return tv(n.databaseId,e.path)}function Um(n,e){const t=fb(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new je(mb(t))}function pb(n,e){return tv(n.databaseId,e)}function zk(n){const e=fb(n);return e.length===4?Nt.emptyPath():mb(e)}function Hg(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mb(n){return pt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function I_(n,e,t){return{name:zg(n,e),fields:t.value.mapValue.fields}}function Hk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:qe(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,m){return f.useProto3Json?(pt(m===void 0||typeof m=="string",58123),Nn.fromBase64String(m||"")):(pt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Nn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(f){const m=f.code===void 0?de.UNKNOWN:ub(f.code);return new Ie(m,f.message||"")}(l);t=new db(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Um(n,r.document.name),o=ds(r.document.updateTime),l=r.document.createTime?ds(r.document.createTime):Ge.min(),u=new yr({mapValue:{fields:r.document.fields}}),d=Bn.newFoundDocument(i,o,l,u),f=r.targetIds||[],m=r.removedTargetIds||[];t=new Dh(f,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Um(n,r.document),o=r.readTime?ds(r.readTime):Ge.min(),l=Bn.newNoDocument(i,o),u=r.removedTargetIds||[];t=new Dh([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Um(n,r.document),o=r.removedTargetIds||[];t=new Dh([],o,i,null)}else{if(!("filter"in e))return qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Dk(i,o),u=r.targetId;t=new cb(u,l)}}return t}function Gk(n,e){let t;if(e instanceof Hc)t={update:I_(n,e.key,e.value)};else if(e instanceof Jy)t={delete:zg(n,e.key)};else if(e instanceof ia)t={update:I_(n,e.key,e.data),updateMask:t4(e.fieldMask)};else{if(!(e instanceof kk))return qe(16599,{ft:e.type});t={verify:zg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof tf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ac)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof xc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof nf)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw qe(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$k(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:qe(27497)}(n,e.precondition)),t}function Wk(n,e){return n&&n.length>0?(pt(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?ds(i.updateTime):ds(o);return l.isEqual(Ge.min())&&(l=ds(o)),new Nk(l,i.transformResults||[])}(t,e))):[]}function Kk(n,e){return{documents:[pb(n,e.path)]}}function Qk(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pb(n,i);const o=function(f){if(f.length!==0)return yb(ji.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(m=>function(y){return{field:xl(y.field),direction:Jk(y.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=qg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:i}}function Yk(n){let e=zk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){pt(r===1,65062);const m=t.from[0];m.allDescendants?i=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(v){const y=gb(v);return y instanceof ji&&GS(y)?y.getFilters():[y]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(y=>function(S){return new Ic(Cl(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(y))}(t.orderBy));let u=null;t.limit&&(u=function(v){let y;return y=typeof v=="object"?v.value:v,Rf(y)?null:y}(t.limit));let d=null;t.startAt&&(d=function(v){const y=!!v.before,T=v.values||[];return new ef(T,y)}(t.startAt));let f=null;return t.endAt&&(f=function(v){const y=!v.before,T=v.values||[];return new ef(T,y)}(t.endAt)),gk(e,i,l,o,u,"F",d,f)}function Xk(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gb(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Cl(t.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Cl(t.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Cl(t.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Cl(t.unaryFilter.field);return Jt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return qe(61313);default:return qe(60726)}}(n):n.fieldFilter!==void 0?function(t){return Jt.create(Cl(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return qe(58110);default:return qe(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ji.create(t.compositeFilter.filters.map(r=>gb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe(1026)}}(t.compositeFilter.op))}(n):qe(30097,{filter:n})}function Jk(n){return Fk[n]}function Zk(n){return Uk[n]}function e4(n){return Bk[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Cl(n){return An.fromServerFormat(n.fieldPath)}function yb(n){return n instanceof Jt?function(t){if(t.op==="=="){if(h_(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NAN"}};if(d_(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h_(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NAN"}};if(d_(t.value))return{unaryFilter:{field:xl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(t.field),op:Zk(t.op),value:t.value}}}(n):n instanceof ji?function(t){const r=t.getFilters().map(i=>yb(i));return r.length===1?r[0]:{compositeFilter:{op:e4(t.op),filters:r}}}(n):qe(54877,{filter:n})}function t4(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,t,r,i,o=Ge.min(),l=Ge.min(),u=Nn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(e){return new Uo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Uo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.wt=e}}function r4(n){const e=Yk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Bg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(){this.yn=new s4}addToCollectionParentIndex(e,t){return this.yn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Yo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class s4{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new an(Nt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new an(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class gr{static withCacheSize(e){return new gr(e,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr.DEFAULT_COLLECTION_PERCENTILE=10,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gr.DEFAULT=new gr(wb,gr.DEFAULT_COLLECTION_PERCENTILE,gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gr.DISABLED=new gr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Yl(0)}static ir(){return new Yl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="LruGarbageCollector",o4=1048576;function C_([n,e],[t,r]){const i=Je(n,t);return i===0?Je(e,r):i}class a4{constructor(e){this.cr=e,this.buffer=new an(C_),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();C_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class l4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){be(x_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){hu(t)?be(x_,"Ignoring IndexedDB error during garbage collection: ",t):await du(t)}await this.Ir(3e5)})}}class u4{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Pf.le);const r=new a4(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(A_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A_):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,l,u,d,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,l=Date.now(),this.nthSequenceNumber(e,i))).next(v=>(r=v,u=Date.now(),this.removeTargets(e,r,t))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(f=Date.now(),Il()<=rt.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${v} documents in `+(f-d)+`ms
Total Duration: ${f-m}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v})))}}function c4(n,e){return new u4(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(){this.changes=new za(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&hc(r.mutation,i,kr.empty(),Ht.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,t,r=it()){const i=Aa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=tc();return o.forEach((u,d)=>{l=l.insert(u,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,it()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=Qs();const l=dc(),u=function(){return dc()}();return t.forEach((d,f)=>{const m=r.get(f.key);i.has(f.key)&&(m===void 0||m.mutation instanceof ia)?o=o.insert(f.key,f):m!==void 0?(l.set(f.key,m.mutation.getFieldMask()),hc(m.mutation,f,m.mutation.getFieldMask(),Ht.now())):l.set(f.key,kr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,m)=>l.set(f,m)),t.forEach((f,m)=>{var v;return u.set(f,new h4(m,(v=l.get(f))!==null&&v!==void 0?v:null))}),u))}recalculateAndSaveOverlays(e,t){const r=dc();let i=new Vt((l,u)=>l-u),o=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let m=r.get(d)||kr.empty();m=u.applyToLocalView(f,m),r.set(d,m);const v=(i.get(u.batchId)||it()).add(d);i=i.insert(u.batchId,v)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,m=d.value,v=tb();m.forEach(y=>{if(!o.has(y)){const T=ab(t.get(y),r.get(y));T!==null&&v.set(y,T),o=o.add(y)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,v))}return he.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):YS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):he.resolve(Aa());let u=Ec,d=o;return l.next(f=>he.forEach(f,(m,v)=>(u<v.largestBatchId&&(u=v.largestBatchId),o.get(m)?he.resolve():this.remoteDocumentCache.getEntry(e,m).next(y=>{d=d.insert(m,y)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,it())).next(m=>({batchId:u,changes:eb(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new je(t)).next(r=>{let i=tc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=tc();return this.indexManager.getCollectionParents(e,o).next(u=>he.forEach(u,d=>{const f=function(v,y){return new fu(y,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(m=>{m.forEach((v,y)=>{l=l.insert(v,y)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((d,f)=>{const m=f.getKey();l.get(m)===null&&(l=l.insert(m,Bn.newInvalidDocument(m)))});let u=tc();return l.forEach((d,f)=>{const m=o.get(d);m!==void 0&&hc(m.mutation,f,kr.empty(),Ht.now()),Of(t,f)&&(u=u.insert(d,f))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return he.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ds(i.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:r4(i.bundledQuery),readTime:ds(i.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(){this.overlays=new Vt(je.comparator),this.Or=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Aa();return he.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Aa(),o=t.length+1,l=new je(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Vt((f,m)=>f-m);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let m=o.get(f.largestBatchId);m===null&&(m=Aa(),o=o.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Aa(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,m)=>u.set(f,m)),!(u.size()>=i)););return he.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Ok(t,r));let o=this.Or.get(t);o===void 0&&(o=it(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(){this.Nr=new an(vn.Br),this.Lr=new an(vn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new vn(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new vn(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new je(new Nt([])),r=new vn(t,e),i=new vn(t,e+1),o=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new je(new Nt([])),r=new vn(t,e),i=new vn(t,e+1);let o=it();return this.Lr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new vn(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return je.comparator(e.key,t.key)||Je(e.Gr,t.Gr)}static kr(e,t){return Je(e.Gr,t.Gr)||je.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new an(vn.Br)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lk(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.zr=this.zr.add(new vn(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,t){return he.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return he.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?Hy:this.Jn-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new vn(t,0),i=new vn(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],l=>{const u=this.jr(l.Gr);o.push(u)}),he.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new an(Je);return t.forEach(i=>{const o=new vn(i,0),l=new vn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{r=r.add(u.Gr)})}),he.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const l=new vn(new je(o),0);let u=new an(Je);return this.zr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(u=u.add(d.Gr)),!0)},l),he.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){pt(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return he.forEach(t.mutations,i=>{const o=new vn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new vn(t,0),i=this.zr.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(e){this.Zr=e,this.docs=function(){return new Vt(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Bn.newInvalidDocument(t))}getEntries(e,t){let r=Qs();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Bn.newInvalidDocument(i))}),he.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qs();const l=t.path,u=new je(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:m}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||KR(WR(m),r)<=0||(i.has(m.key)||Of(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,t,r,i){qe(9500)}Xr(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new w4(this)}getSize(e){return he.resolve(this.size)}}class w4 extends d4{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.persistence=e,this.ei=new za(t=>Ky(t),Qy),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ti=0,this.ni=new nv,this.targetCount=0,this.ri=Yl.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),he.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new Yl(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.ar(t),he.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),he.waitFor(o).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),he.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e,t){this.ii={},this.overlays={},this.si=new Pf(0),this.oi=!1,this.oi=!0,this._i=new g4,this.referenceDelegate=e(this),this.ai=new _4(this),this.indexManager=new i4,this.remoteDocumentCache=function(i){return new v4(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new n4(t),this.ci=new p4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new m4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new y4(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){be("MemoryPersistence","Starting transaction:",e);const i=new E4(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return he.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class E4 extends YR{constructor(e){super(),this.currentSequenceNumber=e}}class rv{constructor(e){this.persistence=e,this.Ti=new nv,this.Ii=null}static Ei(e){return new rv(e)}get di(){if(this.Ii)return this.Ii;throw qe(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),he.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.di,r=>{const i=je.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,Ge.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return he.or([()=>he.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class sf{constructor(e,t){this.persistence=e,this.Ri=new za(r=>ZR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=c4(this,t)}static Ei(e,t){return new sf(e,t)}li(){}hi(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return he.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?he.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,Ge.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),he.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}gr(e,t,r){return he.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return he.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=it(),i=it();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new iv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return yP()?8:XR(zn())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new T4;return this.fs(e,t,l).next(u=>{if(o.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Il()<=rt.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",Al(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),he.resolve()):(Il()<=rt.DEBUG&&be("QueryEngine","Query:",Al(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Il()<=rt.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",Al(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cs(t))):he.resolve())}Rs(e,t){if(g_(t))return he.resolve(null);let r=cs(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Bg(t,null,"F"),r=cs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=it(...o);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.ps(t,u);return this.ys(t,f,l,d.readTime)?this.Rs(e,Bg(t,null,"F")):this.ws(e,f,t,d)}))})))}Vs(e,t,r,i){return g_(t)||i.isEqual(Ge.min())?he.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,i)?he.resolve(null):(Il()<=rt.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Al(t)),this.ws(e,l,t,GR(i,Ec)).next(u=>u))})}ps(e,t){let r=new an(JS(e));return t.forEach((i,o)=>{Of(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Il()<=rt.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",Al(t)),this.As.getDocumentsMatchingQuery(e,t,Yo.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LocalStore",b4=3e8;class I4{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new Vt(Je),this.Ds=new za(o=>Ky(o),Qy),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f4(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function A4(n,e,t,r){return new I4(n,e,t,r)}async function Eb(n,e){const t=Ke(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let d=it();for(const f of i){l.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}for(const f of o){u.push(f.batchId);for(const m of f.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Ms:f,removedBatchIds:l,addedBatchIds:u}))})})}function x4(n,e){const t=Ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,d,f,m){const v=f.batch,y=v.keys();let T=he.resolve();return y.forEach(S=>{T=T.next(()=>m.getEntry(d,S)).next(P=>{const N=f.docVersions.get(S);pt(N!==null,48541),P.version.compareTo(N)<0&&(v.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),m.addEntry(P)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(d,v))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let d=it();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Tb(n){const e=Ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function C4(n,e){const t=Ke(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const u=[];e.targetChanges.forEach((m,v)=>{const y=i.get(v);if(!y)return;u.push(t.ai.removeMatchingKeys(o,m.removedDocuments,v).next(()=>t.ai.addMatchingKeys(o,m.addedDocuments,v)));let T=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Nn.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),i=i.insert(v,T),function(P,N,k){return P.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=b4?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(y,T,m)&&u.push(t.ai.updateTargetData(o,T))});let d=Qs(),f=it();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),u.push(N4(o,l,e.documentUpdates).next(m=>{d=m.xs,f=m.Os})),!r.isEqual(Ge.min())){const m=t.ai.getLastRemoteSnapshotVersion(o).next(v=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(m)}return he.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ss=i,o))}function N4(n,e,t){let r=it(),i=it();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=Qs();return t.forEach((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(u)),d.isNoDocument()&&d.version.isEqual(Ge.min())?(e.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(u,d)):be(sv,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)}),{xs:l,Os:i}})}function P4(n,e){const t=Ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Hy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R4(n,e){const t=Ke(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,he.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new Uo(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Gg(n,e,t){const r=Ke(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!hu(l))throw l;be(sv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function N_(n,e,t){const r=Ke(n);let i=Ge.min(),o=it();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,m){const v=Ke(d),y=v.Ds.get(m);return y!==void 0?he.resolve(v.Ss.get(y)):v.ai.getTargetData(f,m)}(r,l,cs(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(d=>{o=d})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:Ge.min(),t?o:it())).next(u=>(k4(r,vk(e),u),{documents:u,Ns:o})))}function k4(n,e,t){let r=n.vs.get(e)||Ge.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class P_{constructor(){this.activeTargetIds=bk()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L4{constructor(){this.So=new P_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new P_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class k_{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){be(R_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){be(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hh=null;function Wg(){return hh===null?hh=function(){return 268435456+Math.round(2147483648*Math.random())}():hh++,"0x"+hh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",D4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class M4{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Jh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const l=Wg(),u=this.$o(e,t.toUriEncodedString());be(Bm,`Sending RPC '${e}' ${l}:`,u,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(d,i,o);const{host:f}=new URL(u),m=qc(f);return this.Ko(e,u,d,r,m).then(v=>(be(Bm,`Received RPC '${e}' ${l}: `,v),v),v=>{throw Gl(Bm,`RPC '${e}' ${l} failed with error: `,v,"url: ",u,"request:",r),v})}Wo(e,t,r,i,o,l){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=D4[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="WebChannelConnection";class V4 extends M4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const l=Wg();return new Promise((u,d)=>{const f=new IS;f.setWithCredentials(!0),f.listenOnce(AS.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Rh.NO_ERROR:const v=f.getResponseJson();be(Fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),u(v);break;case Rh.TIMEOUT:be(Fn,`RPC '${e}' ${l} timed out`),d(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case Rh.HTTP_ERROR:const y=f.getStatus();if(be(Fn,`RPC '${e}' ${l} failed with status:`,y,"response text:",f.getResponseText()),y>0){let T=f.getResponseJson();Array.isArray(T)&&(T=T[0]);const S=T==null?void 0:T.error;if(S&&S.status&&S.message){const P=function(k){const R=k.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(R)>=0?R:de.UNKNOWN}(S.status);d(new Ie(P,S.message))}else d(new Ie(de.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:qe(9055,{s_:e,streamId:l,o_:f.getLastErrorCode(),__:f.getLastError()})}}finally{be(Fn,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(i);be(Fn,`RPC '${e}' ${l} sending request:`,i),f.send(t,"POST",m,r,15)})}a_(e,t,r){const i=Wg(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=NS(),u=CS(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");be(Fn,`Creating RPC '${e}' stream ${i}: ${m}`,d);const v=l.createWebChannel(m,d);let y=!1,T=!1;const S=new j4({Go:N=>{T?be(Fn,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(y||(be(Fn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),y=!0),be(Fn,`RPC '${e}' stream ${i} sending:`,N),v.send(N))},zo:()=>v.close()}),P=(N,k,R)=>{N.listen(k,M=>{try{R(M)}catch(z){setTimeout(()=>{throw z},0)}})};return P(v,ec.EventType.OPEN,()=>{T||(be(Fn,`RPC '${e}' stream ${i} transport opened.`),S.t_())}),P(v,ec.EventType.CLOSE,()=>{T||(T=!0,be(Fn,`RPC '${e}' stream ${i} transport closed`),S.r_())}),P(v,ec.EventType.ERROR,N=>{T||(T=!0,Gl(Fn,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),S.r_(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),P(v,ec.EventType.MESSAGE,N=>{var k;if(!T){const R=N.data[0];pt(!!R,16349);const M=R,z=(M==null?void 0:M.error)||((k=M[0])===null||k===void 0?void 0:k.error);if(z){be(Fn,`RPC '${e}' stream ${i} received error:`,z);const Q=z.status;let se=function(O){const F=Xt[O];if(F!==void 0)return ub(F)}(Q),U=z.message;se===void 0&&(se=de.INTERNAL,U="Unknown error status: "+Q+" with message "+z.message),T=!0,S.r_(new Ie(se,U)),v.close()}else be(Fn,`RPC '${e}' stream ${i} received:`,R),S.i_(R)}}),P(u,xS.STAT_EVENT,N=>{N.stat===Og.PROXY?be(Fn,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===Og.NOPROXY&&be(Fn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(n){return new qk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&be("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="PersistentStream";class bb{constructor(e,t,r,i,o,l,u,d){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new Sb(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(Ks(t.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new Ie(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return be(L_,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(be(L_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class F4 extends bb{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Hk(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ge.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ge.min():l.readTime?ds(l.readTime):Ge.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Hg(this.serializer),t.addTarget=function(o,l){let u;const d=l.target;if(u=Fg(d)?{documents:Kk(o,d)}:{query:Qk(o,d).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=hb(o,l.resumeToken);const f=qg(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Ge.min())>0){u.readTime=rf(o,l.snapshotVersion.toTimestamp());const f=qg(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u}(this.serializer,e);const r=Xk(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Hg(this.serializer),t.removeTarget=e,this.F_(t)}}class U4 extends bb{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return pt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){pt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=Wk(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Hg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Gk(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{}class q4 extends B4{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,$g(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ie(de.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,$g(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(de.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class $4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ks(t),this.ea=!1):be("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class z4{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Ha(this)&&(be(Ma,"Restarting streams for network reachability change."),await async function(d){const f=Ke(d);f.aa.add(4),await Wc(f),f.la.set("Unknown"),f.aa.delete(4),await Ff(f)}(this))})}),this.la=new $4(r,i)}}async function Ff(n){if(Ha(n))for(const e of n.ua)await e(!0)}async function Wc(n){for(const e of n.ua)await e(!1)}function Ib(n,e){const t=Ke(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),uv(t)?lv(t):pu(t).b_()&&av(t,e))}function ov(n,e){const t=Ke(n),r=pu(t);t._a.delete(e),r.b_()&&Ab(t,e),t._a.size===0&&(r.b_()?r.v_():Ha(t)&&t.la.set("Unknown"))}function av(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pu(n).U_(e)}function Ab(n,e){n.ha.Ke(e),pu(n).K_(e)}function lv(n){n.ha=new Vk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),pu(n).start(),n.la.ta()}function uv(n){return Ha(n)&&!pu(n).w_()&&n._a.size>0}function Ha(n){return Ke(n).aa.size===0}function xb(n){n.ha=void 0}async function H4(n){n.la.set("Online")}async function G4(n){n._a.forEach((e,t)=>{av(n,e)})}async function W4(n,e){xb(n),uv(n)?(n.la.ia(e),lv(n)):n.la.set("Unknown")}async function K4(n,e,t){if(n.la.set("Online"),e instanceof db&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i._a.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i._a.delete(u),i.ha.removeTarget(u))}(n,e)}catch(r){be(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await of(n,r)}else if(e instanceof Dh?n.ha.Xe(e):e instanceof cb?n.ha.ot(e):n.ha.nt(e),!t.isEqual(Ge.min()))try{const r=await Tb(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.ha.It(l);return u.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=o._a.get(f);m&&o._a.set(f,m.withResumeToken(d.resumeToken,l))}}),u.targetMismatches.forEach((d,f)=>{const m=o._a.get(d);if(!m)return;o._a.set(d,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),Ab(o,d);const v=new Uo(m.target,d,f,m.sequenceNumber);av(o,v)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){be(Ma,"Failed to raise snapshot:",r),await of(n,r)}}async function of(n,e,t){if(!hu(e))throw e;n.aa.add(1),await Wc(n),n.la.set("Offline"),t||(t=()=>Tb(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{be(Ma,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await Ff(n)})}function Cb(n,e){return e().catch(t=>of(n,t,e))}async function Uf(n){const e=Ke(n),t=ea(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Hy;for(;Q4(e);)try{const i=await P4(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,Y4(e,i)}catch(i){await of(e,i)}Nb(e)&&Pb(e)}function Q4(n){return Ha(n)&&n.oa.length<10}function Y4(n,e){n.oa.push(e);const t=ea(n);t.b_()&&t.W_&&t.G_(e.mutations)}function Nb(n){return Ha(n)&&!ea(n).w_()&&n.oa.length>0}function Pb(n){ea(n).start()}async function X4(n){ea(n).H_()}async function J4(n){const e=ea(n);for(const t of n.oa)e.G_(t.mutations)}async function Z4(n,e,t){const r=n.oa.shift(),i=Zy.from(r,e,t);await Cb(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Uf(n)}async function eL(n,e){e&&ea(n).W_&&await async function(r,i){if(function(l){return Mk(l)&&l!==de.ABORTED}(i.code)){const o=r.oa.shift();ea(r).D_(),await Cb(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Uf(r)}}(n,e),Nb(n)&&Pb(n)}async function O_(n,e){const t=Ke(n);t.asyncQueue.verifyOperationInProgress(),be(Ma,"RemoteStore received new credentials");const r=Ha(t);t.aa.add(3),await Wc(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await Ff(t)}async function tL(n,e){const t=Ke(n);e?(t.aa.delete(2),await Ff(t)):e||(t.aa.add(2),await Wc(t),t.la.set("Unknown"))}function pu(n){return n.Pa||(n.Pa=function(t,r,i){const o=Ke(t);return o.Y_(),new F4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:H4.bind(null,n),Jo:G4.bind(null,n),Zo:W4.bind(null,n),Q_:K4.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),uv(n)?lv(n):n.la.set("Unknown")):(await n.Pa.stop(),xb(n))})),n.Pa}function ea(n){return n.Ta||(n.Ta=function(t,r,i){const o=Ke(t);return o.Y_(),new U4(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:X4.bind(null,n),Zo:eL.bind(null,n),z_:J4.bind(null,n),j_:Z4.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await Uf(n)):(await n.Ta.stop(),n.oa.length>0&&(be(Ma,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new cv(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(n,e){if(Ks("AsyncQueue",`${e}: ${n}`),hu(n))return new Ie(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{static emptySet(e){return new jl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||je.comparator(t.key,r.key):(t,r)=>je.comparator(t.key,r.key),this.keyedMap=tc(),this.sortedSet=new Vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof jl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new jl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Ia=new Vt(je.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):qe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Xl{constructor(e,t,r,i,o,l,u,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Xl(e,t,jl.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class rL{constructor(){this.queries=M_(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=Ke(t),o=i.queries;i.queries=M_(),o.forEach((l,u)=>{for(const d of u.Ra)d.onError(r)})})(this,new Ie(de.ABORTED,"Firestore shutting down"))}}function M_(){return new za(n=>XS(n),Lf)}async function Rb(n,e){const t=Ke(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new nL,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=dv(l,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&hv(t)}async function kb(n,e){const t=Ke(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function iL(n,e){const t=Ke(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.Ra)u.pa(i)&&(r=!0);l.Aa=i}}r&&hv(t)}function sL(n,e,t){const r=Ke(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function hv(n){n.fa.forEach(e=>{e.next()})}var Kg,j_;(j_=Kg||(Kg={})).ya="default",j_.Cache="cache";class Lb{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Kg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e){this.key=e}}class Db{constructor(e){this.key=e}}class oL{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=it(),this.mutatedKeys=it(),this.Ua=JS(e),this.Ka=new jl(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new D_,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((m,v)=>{const y=i.get(m),T=Of(this.query,v)?v:null,S=!!y&&this.mutatedKeys.has(y.key),P=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let N=!1;y&&T?y.data.isEqual(T.data)?S!==P&&(r.track({type:3,doc:T}),N=!0):this.ja(y,T)||(r.track({type:2,doc:T}),N=!0,(d&&this.Ua(T,d)>0||f&&this.Ua(T,f)<0)&&(u=!0)):!y&&T?(r.track({type:0,doc:T}),N=!0):y&&!T&&(r.track({type:1,doc:y}),N=!0,(d||f)&&(u=!0)),N&&(T?(l=l.add(T),o=P?o.add(m):o.delete(m)):(l=l.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ka:l,za:r,ys:u,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((m,v)=>function(T,S){const P=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe(20277,{Vt:N})}};return P(T)-P(S)}(m.type,v.type)||this.Ua(m.doc,v.doc)),this.Ha(r),i=i!=null&&i;const u=t&&!i?this.Ja():[],d=this.$a.size===0&&this.current&&!i?1:0,f=d!==this.Qa;return this.Qa=d,l.length!==0||f?{snapshot:new Xl(this.query,e.Ka,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new D_,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=it(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new Db(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new Ob(r))}),t}Xa(e){this.qa=e.Ns,this.$a=it();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Xl.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const fv="SyncEngine";class aL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class lL{constructor(e){this.key=e,this.tu=!1}}class uL{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new za(u=>XS(u),Lf),this.iu=new Map,this.su=new Set,this.ou=new Vt(je.comparator),this._u=new Map,this.au=new nv,this.uu={},this.cu=new Map,this.lu=Yl.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function cL(n,e,t=!0){const r=Bb(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await Mb(r,e,t,!0),i}async function dL(n,e){const t=Bb(n);await Mb(t,e,!0,!1)}async function Mb(n,e,t,r){const i=await R4(n.localStore,cs(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await hL(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&Ib(n.remoteStore,i),u}async function hL(n,e,t,r,i){n.Pu=(v,y,T)=>async function(P,N,k,R){let M=N.view.Ga(k);M.ys&&(M=await N_(P.localStore,N.query,!1).then(({documents:U})=>N.view.Ga(U,M)));const z=R&&R.targetChanges.get(N.targetId),Q=R&&R.targetMismatches.get(N.targetId)!=null,se=N.view.applyChanges(M,P.isPrimaryClient,z,Q);return F_(P,N.targetId,se.Ya),se.snapshot}(n,v,y,T);const o=await N_(n.localStore,e,!0),l=new oL(e,o.Ns),u=l.Ga(o.documents),d=Gc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=l.applyChanges(u,n.isPrimaryClient,d);F_(n,t,f.Ya);const m=new aL(e,t,l);return n.ru.set(e,m),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),f.snapshot}async function fL(n,e,t){const r=Ke(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(l=>!Lf(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ov(r.remoteStore,i.targetId),Qg(r,i.targetId)}).catch(du)):(Qg(r,i.targetId),await Gg(r.localStore,i.targetId,!0))}async function pL(n,e){const t=Ke(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ov(t.remoteStore,r.targetId))}async function mL(n,e,t){const r=TL(n);try{const i=await function(l,u){const d=Ke(l),f=Ht.now(),m=u.reduce((T,S)=>T.add(S.key),it());let v,y;return d.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=Qs(),P=it();return d.Cs.getEntries(T,m).next(N=>{S=N,S.forEach((k,R)=>{R.isValidDocument()||(P=P.add(k))})}).next(()=>d.localDocuments.getOverlayedDocuments(T,S)).next(N=>{v=N;const k=[];for(const R of u){const M=Rk(R,v.get(R.key).overlayedDocument);M!=null&&k.push(new ia(R.key,M,$S(M.value.mapValue),Li.exists(!0)))}return d.mutationQueue.addMutationBatch(T,f,k,u)}).next(N=>{y=N;const k=N.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(T,N.batchId,k)})}).then(()=>({batchId:y.batchId,changes:eb(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,d){let f=l.uu[l.currentUser.toKey()];f||(f=new Vt(Je)),f=f.insert(u,d),l.uu[l.currentUser.toKey()]=f}(r,i.batchId,t),await Kc(r,i.changes),await Uf(r.remoteStore)}catch(i){const o=dv(i,"Failed to persist write");t.reject(o)}}async function jb(n,e){const t=Ke(n);try{const r=await C4(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t._u.get(o);l&&(pt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?pt(l.tu,14607):i.removedDocuments.size>0&&(pt(l.tu,42227),l.tu=!1))}),await Kc(t,r,e)}catch(r){await du(r)}}function V_(n,e,t){const r=Ke(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,l)=>{const u=l.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const d=Ke(l);d.onlineState=u;let f=!1;d.queries.forEach((m,v)=>{for(const y of v.Ra)y.ga(u)&&(f=!0)}),f&&hv(d)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gL(n,e,t){const r=Ke(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let l=new Vt(je.comparator);l=l.insert(o,Bn.newNoDocument(o,Ge.min()));const u=it().add(o),d=new jf(Ge.min(),new Map,new Vt(Je),l,u);await jb(r,d),r.ou=r.ou.remove(o),r._u.delete(e),pv(r)}else await Gg(r.localStore,e,!1).then(()=>Qg(r,e,t)).catch(du)}async function yL(n,e){const t=Ke(n),r=e.batch.batchId;try{const i=await x4(t.localStore,e);Fb(t,r,null),Vb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Kc(t,i)}catch(i){await du(i)}}async function vL(n,e,t){const r=Ke(n);try{const i=await function(l,u){const d=Ke(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,u).next(v=>(pt(v!==null,37113),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,u)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(r.localStore,e);Fb(r,e,t),Vb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Kc(r,i)}catch(i){await du(i)}}function Vb(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function Fb(n,e,t){const r=Ke(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||Ub(n,r)})}function Ub(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(ov(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),pv(n))}function F_(n,e,t){for(const r of t)r instanceof Ob?(n.au.addReference(r.key,e),wL(n,r)):r instanceof Db?(be(fv,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||Ub(n,r.key)):qe(19791,{Iu:r})}function wL(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(be(fv,"New document in limbo: "+t),n.su.add(r),pv(n))}function pv(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new je(Nt.fromString(e)),r=n.lu.next();n._u.set(r,new lL(t)),n.ou=n.ou.insert(t,r),Ib(n.remoteStore,new Uo(cs(Yy(t.path)),r,"TargetPurposeLimboResolution",Pf.le))}}async function Kc(n,e,t){const r=Ke(n),i=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,d)=>{l.push(r.Pu(d,e,t).then(f=>{var m;if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(f){i.push(f);const v=iv.Ps(d.targetId,f);o.push(v)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(d,f){const m=Ke(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>he.forEach(f,y=>he.forEach(y.ls,T=>m.persistence.referenceDelegate.addReference(v,y.targetId,T)).next(()=>he.forEach(y.hs,T=>m.persistence.referenceDelegate.removeReference(v,y.targetId,T)))))}catch(v){if(!hu(v))throw v;be(sv,"Failed to update sequence numbers: "+v)}for(const v of f){const y=v.targetId;if(!v.fromCache){const T=m.Ss.get(y),S=T.snapshotVersion,P=T.withLastLimboFreeSnapshotVersion(S);m.Ss=m.Ss.insert(y,P)}}}(r.localStore,o))}async function _L(n,e){const t=Ke(n);if(!t.currentUser.isEqual(e)){be(fv,"User change. New user:",e.toKey());const r=await Eb(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(u=>{u.forEach(d=>{d.reject(new Ie(de.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Kc(t,r.Ms)}}function EL(n,e){const t=Ke(n),r=t._u.get(e);if(r&&r.tu)return it().add(r.key);{let i=it();const o=t.iu.get(e);if(!o)return i;for(const l of o){const u=t.ru.get(l);i=i.unionWith(u.view.Wa)}return i}}function Bb(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gL.bind(null,e),e.nu.Q_=iL.bind(null,e.eventManager),e.nu.Tu=sL.bind(null,e.eventManager),e}function TL(n){const e=Ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,e),e}class af{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return A4(this.persistence,new S4,e.initialUser,this.serializer)}Ru(e){return new _b(rv.Ei,this.serializer)}Au(e){return new L4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}af.provider={build:()=>new af};class SL extends af{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){pt(this.persistence.referenceDelegate instanceof sf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new l4(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?gr.withCacheSize(this.cacheSizeBytes):gr.DEFAULT;return new _b(r=>sf.Ei(r,t),this.serializer)}}class Yg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>V_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_L.bind(null,this.syncEngine),await tL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rL}()}createDatastore(e){const t=Vf(e.databaseInfo.databaseId),r=function(o){return new V4(o)}(e.databaseInfo);return function(o,l,u,d){return new q4(o,l,u,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new z4(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>V_(this.syncEngine,t,0),function(){return k_.C()?new k_:new O4}())}createSyncEngine(e,t){return function(i,o,l,u,d,f,m){const v=new uL(i,o,l,u,d,f);return m&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ke(i);be(Ma,"RemoteStore shutting down."),o.aa.add(5),await Wc(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Yg.provider={build:()=>new Yg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="FirestoreClient";class bL{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Un.UNAUTHENTICATED,this.clientId=LS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{be(ta,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(be(ta,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=dv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $m(n,e){n.asyncQueue.verifyOperationInProgress(),be(ta,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Eb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function U_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await IL(n);be(ta,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>O_(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>O_(e.remoteStore,i)),n._onlineComponents=e}async function IL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(ta,"Using user provided OfflineComponentProvider");try{await $m(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Gl("Error using user provided cache. Falling back to memory cache: "+t),await $m(n,new af)}}else be(ta,"Using default OfflineComponentProvider"),await $m(n,new SL(void 0));return n._offlineComponents}async function $b(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(ta,"Using user provided OnlineComponentProvider"),await U_(n,n._uninitializedComponentsProvider._online)):(be(ta,"Using default OnlineComponentProvider"),await U_(n,new Yg))),n._onlineComponents}function AL(n){return $b(n).then(e=>e.syncEngine)}async function zb(n){const e=await $b(n),t=e.eventManager;return t.onListen=cL.bind(null,e.syncEngine),t.onUnlisten=fL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pL.bind(null,e.syncEngine),t}function xL(n,e,t={}){const r=new Hs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new qb({next:y=>{m.yu(),l.enqueueAndForget(()=>kb(o,v));const T=y.docs.has(u);!T&&y.fromCache?f.reject(new Ie(de.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&y.fromCache&&d&&d.source==="server"?f.reject(new Ie(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new Lb(Yy(u.path),m,{includeMetadataChanges:!0,Fa:!0});return Rb(o,v)}(await zb(n),n.asyncQueue,e,t,r)),r.promise}function CL(n,e,t={}){const r=new Hs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,d,f){const m=new qb({next:y=>{m.yu(),l.enqueueAndForget(()=>kb(o,v)),y.fromCache&&d.source==="server"?f.reject(new Ie(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),v=new Lb(u,m,{includeMetadataChanges:!0,Fa:!0});return Rb(o,v)}(await zb(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(n,e,t){if(!t)throw new Ie(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NL(n,e,t,r){if(e===!0&&r===!0)throw new Ie(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function q_(n){if(!je.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $_(n){if(je.isDocumentKey(n))throw new Ie(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Bf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":qe(12329,{type:typeof n})}function Ys(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Bf(n);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="firestore.googleapis.com",z_=!0;class H_{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Wb,this.ssl=z_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<o4)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jR;switch(r.type){case"firstParty":return new BR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Nf("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=B_.get(t);r&&(be("ComponentProvider","Removing Datastore"),B_.delete(t),r.terminate())}(this),Promise.resolve()}}function PL(n,e,t,r={}){var i;n=Ys(n,qf);const o=qc(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Wb&&l.host!==d&&Gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!La(f,u)&&(n._setSettings(f),o&&(yS(`https://${d}`),Nf("Firestore",!0)),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=Un.MOCK_USER;else{m=lP(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Un(y)}n._authCredentials=new VR(new RS(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ga(this.firestore,e,this._query)}}class vr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ko(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Ko extends Ga{constructor(e,t,r){super(e,t,Yy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new je(e))}withConverter(e){return new Ko(this.firestore,e,this._path)}}function Xg(n,e,...t){if(n=Cn(n),Gb("collection","path",e),n instanceof qf){const r=Nt.fromString(e,...t);return $_(r),new Ko(n,null,r)}{if(!(n instanceof vr||n instanceof Ko))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return $_(r),new Ko(n.firestore,null,r)}}function Cc(n,e,...t){if(n=Cn(n),arguments.length===1&&(e=LS.newId()),Gb("doc","path",e),n instanceof qf){const r=Nt.fromString(e,...t);return q_(r),new vr(n,null,new je(r))}{if(!(n instanceof vr||n instanceof Ko))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Nt.fromString(e,...t));return q_(r),new vr(n.firestore,n instanceof Ko?n.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="AsyncQueue";class W_{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new Sb(this,"async_queue_retry"),this.ju=()=>{const r=qm();r&&be(G_,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=qm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=qm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new Hs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!hu(e))throw e;be(G_,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ks("INTERNAL UNHANDLED ERROR: ",K_(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=cv.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&qe(47125,{ec:K_(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function K_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class mu extends qf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new W_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W_(e),this._firestoreClient=void 0,await e}}}function RL(n,e){const t=typeof n=="object"?n:ES(),r=typeof n=="string"?n:Jh,i=$y(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oP("firestore");o&&PL(i,...o)}return i}function mv(n){if(n._terminated)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||kL(n),n._firestoreClient}function kL(n){var e,t,r;const i=n._freezeSettings(),o=function(u,d,f,m){return new nk(u,d,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Hb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new bL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const d=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Nn.fromBase64String(e))}catch(t){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jl(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Je(this._lat,e._lat)||Je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=/^__.*__$/;class OL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hc(e,this.data,t,this.fieldTransforms)}}class Kb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe(40011,{oc:n})}}class wv{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lf(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Qb(this.oc)&&LL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class DL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vf(e)}dc(e,t,r,i=!1){return new wv({oc:e,methodName:t,Ec:r,path:An.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _v(n){const e=n._freezeSettings(),t=Vf(n._databaseId);return new DL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ML(n,e,t,r,i,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,i);Ev("Data must be an object, but it was:",l,r);const u=Yb(r,l);let d,f;if(o.merge)d=new kr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const m=[];for(const v of o.mergeFields){const y=Jg(e,v,t);if(!l.contains(y))throw new Ie(de.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Jb(m,y)||m.push(y)}d=new kr(m),f=l.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,f=l.fieldTransforms;return new OL(new yr(u),d,f)}class zf extends gv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zf}}function jL(n,e,t,r){const i=n.dc(1,e,t);Ev("Data must be an object, but it was:",i,r);const o=[],l=yr.empty();ra(r,(d,f)=>{const m=Tv(e,d,t);f=Cn(f);const v=i.hc(m);if(f instanceof zf)o.push(m);else{const y=Qc(f,v);y!=null&&(o.push(m),l.set(m,y))}});const u=new kr(o);return new Kb(l,u,i.fieldTransforms)}function VL(n,e,t,r,i,o){const l=n.dc(1,e,t),u=[Jg(e,r,t)],d=[i];if(o.length%2!=0)throw new Ie(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)u.push(Jg(e,o[y])),d.push(o[y+1]);const f=[],m=yr.empty();for(let y=u.length-1;y>=0;--y)if(!Jb(f,u[y])){const T=u[y];let S=d[y];S=Cn(S);const P=l.hc(T);if(S instanceof zf)f.push(T);else{const N=Qc(S,P);N!=null&&(f.push(T),m.set(T,N))}}const v=new kr(f);return new Kb(m,v,l.fieldTransforms)}function FL(n,e,t,r=!1){return Qc(t,n.dc(r?4:3,e))}function Qc(n,e){if(Xb(n=Cn(n)))return Ev("Unsupported field value:",e,n),Yb(n,e);if(n instanceof gv)return function(r,i){if(!Qb(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let d=Qc(u,i.Pc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ik(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ht.fromDate(r);return{timestampValue:rf(i.serializer,o)}}if(r instanceof Ht){const o=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rf(i.serializer,o)}}if(r instanceof yv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:hb(i.serializer,r._byteString)};if(r instanceof vr){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof vv)return function(l,u){return{mapValue:{fields:{[BS]:{stringValue:qS},[Zh]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw u.Tc("VectorValues must only contain numeric values.");return Xy(u.serializer,f)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Bf(r)}`)}(n,e)}function Yb(n,e){const t={};return DS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(n,(r,i)=>{const o=Qc(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function Xb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof yv||n instanceof Jl||n instanceof vr||n instanceof gv||n instanceof vv)}function Ev(n,e,t){if(!Xb(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Bf(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function Jg(n,e,t){if((e=Cn(e))instanceof $f)return e._internalPath;if(typeof e=="string")return Tv(n,e);throw lf("Field path arguments must be of type string or ",n,!1,void 0,t)}const UL=new RegExp("[~\\*/\\[\\]]");function Tv(n,e,t){if(e.search(UL)>=0)throw lf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $f(...e.split("."))._internalPath}catch{throw lf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function lf(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Ie(de.INVALID_ARGUMENT,u+n+d)}function Jb(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sv("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class BL extends Zb{data(){return super.data()}}function Sv(n,e){return typeof e=="string"?Tv(n,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bv{}class eI extends bv{}function Q_(n,e,...t){let r=[];e instanceof bv&&r.push(e),r=r.concat(t),function(o){const l=o.filter(d=>d instanceof Av).length,u=o.filter(d=>d instanceof Iv).length;if(l>1||l>0&&u>0)throw new Ie(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Iv extends eI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Iv(e,t,r)}_apply(e){const t=this._parse(e);return tI(e._query,t),new Ga(e.firestore,e.converter,Ug(e._query,t))}_parse(e){const t=_v(e.firestore);return function(o,l,u,d,f,m,v){let y;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){X_(v,m);const S=[];for(const P of v)S.push(Y_(d,o,P));y={arrayValue:{values:S}}}else y=Y_(d,o,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||X_(v,m),y=FL(u,l,v,m==="in"||m==="not-in");return Jt.create(f,m,y)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Av extends bv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Av(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ji.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let l=i;const u=o.getFlattenedFilters();for(const d of u)tI(l,d),l=Ug(l,d)}(e._query,t),new Ga(e.firestore,e.converter,Ug(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xv extends eI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xv(e,t)}_apply(e){const t=function(i,o,l){if(i.startAt!==null)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ie(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(o,l)}(e._query,this._field,this._direction);return new Ga(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new fu(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function $L(n,e="asc"){const t=e,r=Sv("orderBy",n);return xv._create(r,t)}function Y_(n,e,t){if(typeof(t=Cn(t))=="string"){if(t==="")throw new Ie(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YS(e)&&t.indexOf("/")!==-1)throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Nt.fromString(t));if(!je.isDocumentKey(r))throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return c_(n,new je(r))}if(t instanceof vr)return c_(n,t._key);throw new Ie(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(t)}.`)}function X_(n,e){if(!Array.isArray(n)||n.length===0)throw new Ie(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tI(n,e){const t=function(i,o){for(const l of i)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class zL{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw qe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ra(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Zh].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>zt(l.doubleValue));return new vv(o)}convertGeoPoint(e){return new yv(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=kf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=Xo(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Nt.fromString(e);pt(vb(r),9688,{name:e});const i=new Sc(r.get(1),r.get(3)),o=new je(r.popFirst(5));return i.isEqual(t)||Ks(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nI extends Zb{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Sv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Mh extends nI{data(e={}){return super.data(e)}}class GL{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new rc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Mh(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const d=new Mh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const d=new Mh(i._firestore,i._userDataWriter,u.doc.key,u.doc,new rc(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),m=l.indexOf(u.doc.key)),{type:WL(u.type),doc:d,oldIndex:f,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(n){n=Ys(n,vr);const e=Ys(n.firestore,mu);return xL(mv(e),n._key).then(t=>JL(e,n,t))}class iI extends zL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,t)}}function KL(n){n=Ys(n,Ga);const e=Ys(n.firestore,mu),t=mv(e),r=new iI(e);return qL(n._query),CL(t,n._query).then(i=>new GL(e,r,n,i))}function QL(n,e,t,...r){n=Ys(n,vr);const i=Ys(n.firestore,mu),o=_v(i);let l;return l=typeof(e=Cn(e))=="string"||e instanceof $f?VL(o,"updateDoc",n._key,e,t,r):jL(o,"updateDoc",n._key,e),Cv(i,[l.toMutation(n._key,Li.exists(!0))])}function YL(n){return Cv(Ys(n.firestore,mu),[new Jy(n._key,Li.none())])}function XL(n,e){const t=Ys(n.firestore,mu),r=Cc(n),i=HL(n.converter,e);return Cv(t,[ML(_v(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Li.exists(!1))]).then(()=>r)}function Cv(n,e){return function(r,i){const o=new Hs;return r.asyncQueue.enqueueAndForget(async()=>mL(await AL(r),i,o)),o.promise}(mv(n),e)}function JL(n,e,t){const r=t.docs.get(e._key),i=new iI(n);return new nI(n,i,e._key,r,new rc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){cu=i})(uu),Hl(new Oa("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new mu(new FR(r.getProvider("auth-internal")),new qR(l,r.getProvider("app-check-internal")),function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(f.options.projectId,m)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),Go(Jw,Zw,e),Go(Jw,Zw,"esm2017")})();function Nv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function sI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZL=sI,oI=new $c("auth","Firebase",sI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=new By("@firebase/auth");function eO(n,...e){uf.logLevel<=rt.WARN&&uf.warn(`Auth (${uu}): ${n}`,...e)}function jh(n,...e){uf.logLevel<=rt.ERROR&&uf.error(`Auth (${uu}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(n,...e){throw Rv(n,...e)}function Oi(n,...e){return Rv(n,...e)}function Pv(n,e,t){const r=Object.assign(Object.assign({},ZL()),{[e]:t});return new $c("auth","Firebase",r).create(e,{appName:n.name})}function Ra(n){return Pv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tO(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&ys(n,"argument-error"),Pv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oI.create(n,...e)}function He(n,e,...t){if(!n)throw Rv(e,...t)}function qs(n){const e="INTERNAL ASSERTION FAILED: "+n;throw jh(e),new Error(e)}function Xs(n,e){n||qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nO(){return J_()==="http:"||J_()==="https:"}function J_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||pP()||"connection"in navigator)?navigator.onLine:!0}function iO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xs(t>e,"Short delay should be less than long delay!"),this.isMobile=dP()||mP()}get(){return rO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(n,e){Xs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aO=new Yc(3e4,6e4);function Lv(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function gu(n,e,t,r,i={}){return lI(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=zc(Object.assign({key:n.config.apiKey},l)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return fP()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&qc(n.emulatorConfig.host)&&(f.credentials="include"),aI.fetch()(await uI(n,n.config.apiHost,t,u),f)})}async function lI(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},sO),e);try{const i=new uO(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw fh(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw fh(n,"user-disabled",l);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Pv(n,m,f);ys(n,m)}}catch(i){if(i instanceof no)throw i;ys(n,"network-request-failed",{message:String(i)})}}async function lO(n,e,t,r,i={}){const o=await gu(n,e,t,r,i);return"mfaPendingCredential"in o&&ys(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function uI(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?kv(n.config,i):`${n.config.apiScheme}://${i}`;return oO.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}class uO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),aO.get())})}}function fh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Oi(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,e){return gu(n,"POST","/v1/accounts:delete",e)}async function cf(n,e){return gu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dO(n,e=!1){const t=Cn(n),r=await t.getIdToken(e),i=Ov(r);He(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:fc(zm(i.auth_time)),issuedAtTime:fc(zm(i.iat)),expirationTime:fc(zm(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zm(n){return Number(n)*1e3}function Ov(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=fS(t);return i?JSON.parse(i):(jh("Failed to decode base64 JWT payload"),null)}catch(i){return jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Z_(n){const e=Ov(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof no&&hO(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function hO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=fc(this.lastLoginAt),this.creationTime=fc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function df(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Nc(n,cf(t,{idToken:r}));He(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?cI(o.providerUserInfo):[],u=mO(n.providerData,l),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),m=d?f:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ey(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,v)}async function pO(n){const e=Cn(n);await df(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mO(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cI(n){return n.map(e=>{var{providerId:t}=e,r=Nv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gO(n,e){const t=await lI(n,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await uI(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",aI.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yO(n,e){return gu(n,"POST","/v2/accounts:revokeToken",Lv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Z_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=Z_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await gO(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Vl;return r&&(He(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(He(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(He(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Nv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ey(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Nc(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return dO(this,e)}reload(){return pO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await df(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(Ra(this.auth));const e=await this.getIdToken();return await Nc(this,cO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,d,f,m;const v=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,T=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=t.photoURL)!==null&&l!==void 0?l:void 0,P=(u=t.tenantId)!==null&&u!==void 0?u:void 0,N=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,k=(f=t.createdAt)!==null&&f!==void 0?f:void 0,R=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:Q,providerData:se,stsTokenManager:U}=t;He(M&&U,e,"internal-error");const L=Vl.fromJSON(this.name,U);He(typeof M=="string",e,"internal-error"),ko(v,e.name),ko(y,e.name),He(typeof z=="boolean",e,"internal-error"),He(typeof Q=="boolean",e,"internal-error"),ko(T,e.name),ko(S,e.name),ko(P,e.name),ko(N,e.name),ko(k,e.name),ko(R,e.name);const O=new ki({uid:M,auth:e,email:y,emailVerified:z,displayName:v,isAnonymous:Q,photoURL:S,phoneNumber:T,tenantId:P,stsTokenManager:L,createdAt:k,lastLoginAt:R});return se&&Array.isArray(se)&&(O.providerData=se.map(F=>Object.assign({},F))),N&&(O._redirectEventId=N),O}static async _fromIdTokenResponse(e,t,r=!1){const i=new Vl;i.updateFromServerResponse(t);const o=new ki({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await df(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];He(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?cI(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Vl;u.updateFromIdToken(r);const d=new ki({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ey(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function $s(n){Xs(n instanceof Function,"Expected a class definition");let e=eE.get(n);return e?(Xs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dI.type="NONE";const tE=dI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(n,e,t){return`firebase:${n}:${e}:${t}`}class Fl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Vh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Vh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await cf(this.auth,{idToken:e}).catch(()=>{});return t?ki._fromGetAccountInfoResponse(this.auth,t,e):null}return ki._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Fl($s(tE),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||$s(tE);const l=Vh(r,e.config.apiKey,e.name);let u=null;for(const f of t)try{const m=await f._get(l);if(m){let v;if(typeof m=="string"){const y=await cf(e,{idToken:m}).catch(()=>{});if(!y)break;v=await ki._fromGetAccountInfoResponse(e,y,m)}else v=ki._fromJSON(e,m);f!==o&&(u=v),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Fl(o,e,r):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Fl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yI(e))return"Blackberry";if(vI(e))return"Webos";if(fI(e))return"Safari";if((e.includes("chrome/")||pI(e))&&!e.includes("edge/"))return"Chrome";if(gI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hI(n=zn()){return/firefox\//i.test(n)}function fI(n=zn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pI(n=zn()){return/crios\//i.test(n)}function mI(n=zn()){return/iemobile/i.test(n)}function gI(n=zn()){return/android/i.test(n)}function yI(n=zn()){return/blackberry/i.test(n)}function vI(n=zn()){return/webos/i.test(n)}function Dv(n=zn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vO(n=zn()){var e;return Dv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wO(){return gP()&&document.documentMode===10}function wI(n=zn()){return Dv(n)||gI(n)||vI(n)||yI(n)||/windows phone/i.test(n)||mI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n,e=[]){let t;switch(n){case"Browser":t=nE(zn());break;case"Worker":t=`${nE(zn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${uu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const d=e(o);l(d)}catch(d){u(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EO(n,e={}){return gu(n,"GET","/v2/passwordPolicy",Lv(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class SO{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:TO,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new _O(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$s(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await cf(this,{idToken:e}),r=await ki._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===u)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await df(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ni(this.app))return Promise.reject(Ra(this));const t=e?Cn(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(Ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ni(this.app)?Promise.reject(Ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EO(this),t=new SO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await yO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$s(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[$s(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_I(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hf(n){return Cn(n)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=bP(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IO(n){Mv=n}function AO(n){return Mv.loadJS(n)}function xO(){return Mv.gapiScript}function CO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(n,e){const t=$y(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(La(o,e??{}))return i;ys(i,"already-initialized")}return t.initialize({options:e})}function PO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map($s);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RO(n,e,t){const r=Hf(n);He(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=EI(e),{host:l,port:u}=kO(e),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},m=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){He(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),He(La(f,r.config.emulator)&&La(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,qc(l)?(Nf("Auth",!0),yS(`${o}//${l}${d}`)):LO()}function EI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function kO(n){const e=EI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:iE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:iE(l)}}}function iE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function LO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qs("not implemented")}_getIdTokenResponse(e){return qs("not implemented")}_linkToIdToken(e,t){return qs("not implemented")}_getReauthenticationResolver(e){return qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(n,e){return lO(n,"POST","/v1/accounts:signInWithIdp",Lv(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="http://localhost";class ja extends TI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ja(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ys("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=Nv(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ja(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ul(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ul(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ul(e,t)}buildRequest(){const e={requestUri:OO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends jv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Xc{constructor(){super("facebook.com")}static credential(e){return ja._fromParams({providerId:Do.PROVIDER_ID,signInMethod:Do.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Do.credentialFromTaggedObject(e)}static credentialFromError(e){return Do.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Do.credential(e.oauthAccessToken)}catch{return null}}}Do.FACEBOOK_SIGN_IN_METHOD="facebook.com";Do.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ja._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Bs.credential(t,r)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Xc{constructor(){super("github.com")}static credential(e){return ja._fromParams({providerId:Mo.PROVIDER_ID,signInMethod:Mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mo.credentialFromTaggedObject(e)}static credentialFromError(e){return Mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mo.credential(e.oauthAccessToken)}catch{return null}}}Mo.GITHUB_SIGN_IN_METHOD="github.com";Mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Xc{constructor(){super("twitter.com")}static credential(e,t){return ja._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return jo.credential(t,r)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await ki._fromIdTokenResponse(e,r,i),l=sE(r);return new Zl({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new Zl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function sE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends no{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new hf(e,t,r,i)}}function SI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(n,o,e,r):o})}async function DO(n,e,t=!1){const r=await Nc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Zl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MO(n,e,t=!1){const{auth:r}=n;if(Ni(r.app))return Promise.reject(Ra(r));const i="reauthenticate";try{const o=await Nc(n,SI(r,i,e,n),t);He(o.idToken,r,"internal-error");const l=Ov(o.idToken);He(l,r,"internal-error");const{sub:u}=l;return He(n.uid===u,r,"user-mismatch"),Zl._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ys(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jO(n,e,t=!1){if(Ni(n.app))return Promise.reject(Ra(n));const r="signIn",i=await SI(n,r,e),o=await Zl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}function VO(n,e,t,r){return Cn(n).onIdTokenChanged(e,t,r)}function FO(n,e,t){return Cn(n).beforeAuthStateChanged(e,t)}function bI(n,e,t,r){return Cn(n).onAuthStateChanged(e,t,r)}function UO(n){return Cn(n).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,qO=10;class AI extends II{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);wO()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qO):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}AI.type="LOCAL";const $O=AI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI extends II{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}xI.type="SESSION";const CI=xI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Gf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async f=>f(t.origin,o)),d=await zO(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=Vv("",20);i.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const y=v;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(y.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(){return window}function GO(n){hs().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function WO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function QO(){return NI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebaseLocalStorageDb",YO=1,pf="firebaseLocalStorage",RI="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wf(n,e){return n.transaction([pf],e?"readwrite":"readonly").objectStore(pf)}function XO(){const n=indexedDB.deleteDatabase(PI);return new Jc(n).toPromise()}function ty(){const n=indexedDB.open(PI,YO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pf,{keyPath:RI})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pf)?e(r):(r.close(),await XO(),e(await ty()))})})}async function oE(n,e,t){const r=Wf(n,!0).put({[RI]:e,value:t});return new Jc(r).toPromise()}async function JO(n,e){const t=Wf(n,!1).get(e),r=await new Jc(t).toPromise();return r===void 0?null:r.value}function aE(n,e){const t=Wf(n,!0).delete(e);return new Jc(t).toPromise()}const ZO=800,e3=3;class kI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ty(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>e3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gf._getInstance(QO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await WO(),!this.activeServiceWorker)return;this.sender=new HO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ty();return await oE(e,ff,"1"),await aE(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>JO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Wf(i,!1).getAll();return new Jc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kI.type="LOCAL";const t3=kI;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){return e?$s(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends TI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ul(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ul(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function n3(n){return jO(n.auth,new Fv(n),n.bypassAuthState)}function r3(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),MO(t,new Fv(n),n.bypassAuthState)}async function i3(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),DO(t,new Fv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n3;case"linkViaPopup":case"linkViaRedirect":return i3;case"reauthViaPopup":case"reauthViaRedirect":return r3;default:ys(this.auth,"internal-error")}}resolve(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3=new Yc(2e3,1e4);async function o3(n,e,t){if(Ni(n.app))return Promise.reject(Oi(n,"operation-not-supported-in-this-environment"));const r=Hf(n);tO(n,e,jv);const i=LI(r,t);return new xa(r,"signInViaPopup",e,i).executeNotNull()}class xa extends OI{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Xs(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s3.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="pendingRedirect",Fh=new Map;class l3 extends OI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Fh.get(this.auth._key());if(!e){try{const r=await u3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Fh.set(this.auth._key(),e)}return this.bypassAuthState||Fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function u3(n,e){const t=h3(e),r=d3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function c3(n,e){Fh.set(n._key(),e)}function d3(n){return $s(n._redirectPersistence)}function h3(n){return Vh(a3,n.config.apiKey,n.name)}async function f3(n,e,t=!1){if(Ni(n.app))return Promise.reject(Ra(n));const r=Hf(n),i=LI(r,e),l=await new l3(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=10*60*1e3;class m3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!DI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Oi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=p3&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function DI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y3(n,e={}){return gu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,w3=/^https?/;async function _3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await y3(n);for(const t of e)try{if(E3(t))return}catch{}ys(n,"unauthorized-domain")}function E3(n){const e=Zg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!w3.test(t))return!1;if(v3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=new Yc(3e4,6e4);function uE(){const n=hs().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function S3(n){return new Promise((e,t)=>{var r,i,o;function l(){uE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uE(),t(Oi(n,"network-request-failed"))},timeout:T3.get()})}if(!((i=(r=hs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=hs().gapi)===null||o===void 0)&&o.load)l();else{const u=CO("iframefcb");return hs()[u]=()=>{gapi.load?l():t(Oi(n,"network-request-failed"))},AO(`${xO()}?onload=${u}`).catch(d=>t(d))}}).catch(e=>{throw Uh=null,e})}let Uh=null;function b3(n){return Uh=Uh||S3(n),Uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=new Yc(5e3,15e3),A3="__/auth/iframe",x3="emulator/auth/iframe",C3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},N3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P3(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?kv(e,x3):`https://${n.config.authDomain}/${A3}`,r={apiKey:e.apiKey,appName:n.name,v:uu},i=N3.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zc(r).slice(1)}`}async function R3(n){const e=await b3(n),t=hs().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:P3(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:C3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=Oi(n,"network-request-failed"),u=hs().setTimeout(()=>{o(l)},I3.get());function d(){hs().clearTimeout(u),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},L3=500,O3=600,D3="_blank",M3="http://localhost";class cE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function j3(n,e,t,r=L3,i=O3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const d=Object.assign(Object.assign({},k3),{width:r.toString(),height:i.toString(),top:o,left:l}),f=zn().toLowerCase();t&&(u=pI(f)?D3:t),hI(f)&&(e=e||M3,d.scrollbars="yes");const m=Object.entries(d).reduce((y,[T,S])=>`${y}${T}=${S},`,"");if(vO(f)&&u!=="_self")return V3(e||"",u),new cE(null);const v=window.open(e||"",u,m);He(v,n,"popup-blocked");try{v.focus()}catch{}return new cE(v)}function V3(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="__/auth/handler",U3="emulator/auth/handler",B3=encodeURIComponent("fac");async function dE(n,e,t,r,i,o){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:uu,eventId:i};if(e instanceof jv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",SP(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,v]of Object.entries({}))l[m]=v}if(e instanceof Xc){const m=e.getScopes().filter(v=>v!=="");m.length>0&&(l.scopes=m.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const d=await n._getAppCheckToken(),f=d?`#${B3}=${encodeURIComponent(d)}`:"";return`${q3(n)}?${zc(u).slice(1)}${f}`}function q3({config:n}){return n.emulator?kv(n,U3):`https://${n.authDomain}/${F3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class $3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CI,this._completeRedirectFn=f3,this._overrideRedirectResult=c3}async _openPopup(e,t,r,i){var o;Xs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await dE(e,t,r,Zg(),i);return j3(e,l,Vv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await dE(e,t,r,Zg(),i);return GO(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Xs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await R3(e),r=new m3(e);return t.register("authEvent",i=>(He(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hm,{type:Hm},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Hm];l!==void 0&&t(!!l),ys(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wI()||fI()||Dv()}}const z3=$3;var hE="@firebase/auth",fE="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W3(n){Hl(new Oa("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;He(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_I(n)},f=new bO(r,i,o,d);return PO(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new Oa("auth-internal",e=>{const t=Hf(e.getProvider("auth").getImmediate());return(r=>new H3(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Go(hE,fE,G3(n)),Go(hE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=5*60,Q3=gS("authIdTokenMaxAge")||K3;let pE=null;const Y3=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Q3)return;const i=t==null?void 0:t.token;pE!==i&&(pE=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function X3(n=ES()){const e=$y(n,"auth");if(e.isInitialized())return e.getImmediate();const t=NO(n,{popupRedirectResolver:z3,persistence:[t3,$O,CI]}),r=gS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=Y3(o.toString());FO(t,l,()=>l(t.currentUser)),VO(t,u=>l(u))}}const i=pS("auth");return i?RO(t,`http://${i}`):Nf("Auth",!1),t}function J3(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IO({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Oi("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",J3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W3("Browser");const Z3={apiKey:"AIzaSyCHNhYJJZuy1_1kPhh2dGQSC46gIrINYlk",authDomain:"bahagiadamas.firebaseapp.com",projectId:"bahagiadamas",storageBucket:"bahagiadamas.firebasestorage.app",messagingSenderId:"22737524500",appId:"1:22737524500:web:e9ab011c0790db4df4d401",measurementId:"G-D71F2HWTQ7"},MI=_S(Z3),Va=RL(MI),Zc=X3(MI),eD=new Bs,tD=()=>UO(Zc),nD=["Dz1UtNSZcRdE1GAHKhotC7Li4Al2","Ha55NDmzPRTjeSrx3vTd0pcsh9a2"];async function Kf(n,e=null){try{let t;return e?t=Q_(Xg(Va,n),$L(e,"asc")):t=Q_(Xg(Va,n)),(await KL(t)).docs.map(o=>({id:o.id,...o.data()}))}catch(t){return console.error(`Failed to fetch ${n}:`,t),[]}}function rD(){const[n,e]=G.useState(!1),[t,r]=G.useState(null),[i,o]=G.useState([]),[l,u]=G.useState(!1),d=$a(),f=()=>{d(l?"/admin":"/login")};G.useEffect(()=>{const T=Zc.onAuthStateChanged(S=>{u(!!S)});return()=>T()},[]),G.useEffect(()=>{Kf("projects","createdAt").then(o).catch(T=>{console.error("Error fetching data: ",T)})},[]);const m=()=>{const T=!n;e(T),T||r(null)},v=()=>{e(!1),r(null)},y=T=>{r(S=>S===T?null:T),n||e(!0)};return b.jsxs(b.Fragment,{children:[b.jsx("nav",{id:"sidebar",className:n?"open":"",children:b.jsxs("div",{className:"sidebar-wrapper",children:[b.jsx("ul",{className:"logo",children:b.jsxs("li",{children:[b.jsx("img",{loading:"lazy",className:"icon",src:Uy,alt:"Logo"}),b.jsx("span",{className:"text",children:"D B I CIPTA"}),b.jsx(lS,{className:"icon",onClick:m})]})}),b.jsxs("ul",{className:"navigations",children:[b.jsxs("li",{children:[b.jsxs("div",{className:`dropdown-btn ${t===0?"rotate":""}`,onClick:()=>y(0),children:[b.jsx(iS,{className:"icon"}),b.jsx("span",{className:"text",children:"Home"}),b.jsx(Cg,{className:"icon"})]}),b.jsx("ul",{className:`sub-menu ${t===0?"show":""}`,children:b.jsxs("div",{children:[b.jsx("li",{children:b.jsx("a",{href:"/#about",children:"About"})}),b.jsx("li",{children:b.jsx("a",{href:"/#project",children:"Projects"})}),b.jsx("li",{children:b.jsx("a",{href:"/#contact",children:"Connect"})})]})})]}),b.jsxs("li",{children:[b.jsxs("div",{className:`dropdown-btn ${t===1?"rotate":""}`,onClick:()=>y(1),children:[b.jsx(rS,{className:"icon"}),b.jsx("span",{className:"text",children:"Projects"}),b.jsx(Cg,{className:"icon"})]}),b.jsx("ul",{id:"navPlaceholder",className:`sub-menu ${t===1?"show":""}`,children:b.jsx("div",{children:i.length===0?b.jsx("li",{children:b.jsx("em",{children:"Loading..."})}):i.map(T=>b.jsx("li",{children:b.jsx("a",{href:`/projects/${T.id}`,children:T.title})},T.id))})})]})]}),b.jsxs("ul",{className:"settings",children:[b.jsx("li",{children:b.jsx("div",{className:"admin-nav",children:b.jsxs("a",{onClick:f,children:[b.jsx($N,{className:"icon"}),b.jsx("span",{className:"text",children:"Admin Panel"})]})})}),b.jsx("li",{children:b.jsxs("div",{className:"theme-toggler",children:[b.jsx(MN,{className:"icon"}),b.jsx("span",{className:"text",children:"Dark Mode"}),b.jsx(cS,{})]})})]})]})}),b.jsx("div",{id:"overlay",className:"sidebar-overlay",onClick:v})]})}function iD(){return b.jsxs("div",{className:"app-root side-layout",children:[b.jsx(rD,{}),b.jsx("main",{children:b.jsx(KT,{})})]})}function Rr({id:n,children:e}){return b.jsx("section",{id:n,children:e})}function yu(){return b.jsx(b.Fragment,{children:b.jsx("footer",{children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"footer-logo",children:[b.jsx("div",{className:"logo",children:"Let’s Build a Better Future Together"}),b.jsx("p",{children:"Building a better future by connecting people, technology, and sustainable solutions. Let’s collaborate for meaningful change."})]}),b.jsxs("div",{className:"footer-nav",children:[b.jsx("p",{children:"Links"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("a",{href:"/",children:[b.jsx(iS,{className:"icon"}),b.jsx("span",{className:"text",children:"Home"})]})}),b.jsx("li",{children:b.jsxs("a",{href:"/projects",children:[b.jsx(rS,{className:"icon"}),b.jsx("span",{className:"text",children:"Project"})]})})]})]}),b.jsxs("div",{className:"footer-links",children:[b.jsx("p",{children:"Connect with Me"}),b.jsxs("ul",{children:[b.jsx("li",{children:b.jsxs("a",{href:"mailto:bahagiadamas@gmail.com",target:"_blank",children:[b.jsx(aS,{className:"icon"}),b.jsx("span",{className:"text",children:"Email"})]})}),b.jsx("li",{children:b.jsxs("a",{href:"https://github.com/bahagiadamas",target:"_blank",children:[b.jsx(sS,{className:"icon"}),b.jsx("span",{className:"text",children:"GitHub"})]})}),b.jsx("li",{children:b.jsxs("a",{href:"https://www.linkedin.com/in/damas-bahagia-ika-cipta-958261220/",target:"_blank",children:[b.jsx(oS,{className:"icon"}),b.jsx("span",{className:"text",children:"LinkedIn"})]})})]})]}),b.jsx("div",{className:"footer-copyright",children:b.jsx("p",{children:"© 2025 D B I CIPTA. All rights reserved."})})]})})})}function sD({className:n,children:e}){return b.jsx("div",{className:n,id:"modal",children:e})}function oD(){const[n,e]=G.useState({"entry.1835579550":"","entry.605824708":"","entry.412088699":""}),[t,r]=G.useState(!1),[i,o]=G.useState(null),[l,u]=G.useState(!1),d="https://docs.google.com/forms/d/e/1FAIpQLSeSokqRoSC_3ohmiSDAoJR60k6gHRli2WwI9EHfF3gyAJ_51A/formResponse",f=T=>{const{name:S,value:P}=T.target;e(N=>({...N,[S]:P}))},m=()=>{u(!0)},v=()=>{u(!1),o(null)},y=async T=>{T.preventDefault(),r(!0),o(null);const S=new FormData;for(const P in n)S.append(P,n[P]);console.log("--- Data being sent to Google Forms ---");for(let P of S.entries())console.log(P[0]+": "+P[1]);console.log("---------------------------------------");try{await fetch(d,{method:"POST",body:S,mode:"no-cors"}),e({"entry.1835579550":"","entry.605824708":"","entry.412088699":""}),o("success"),m()}catch(P){console.error("Error submitting form:",P),o("error"),m()}finally{r(!1)}};return b.jsxs(Rr,{id:"contact",children:[b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading popup",children:[b.jsx("h2",{children:"Let's Conect"}),b.jsx("p",{children:"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Officiis, voluptatem optio accusantium recusandae iusto veritatis? Aperiam beatae pariatur eum expedita."})]}),b.jsxs("form",{className:"popup",onSubmit:y,id:"myForm",children:[b.jsxs("div",{className:"input-group",children:[b.jsx("input",{type:"text",name:"entry.1835579550",id:"name",placeholder:"",autoComplete:"off",value:n["entry.1835579550"],onChange:f,required:!0}),b.jsx("label",{htmlFor:"name",children:"Name: "})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("input",{type:"text",name:"entry.605824708",id:"email",placeholder:"",autoComplete:"off",value:n["entry.605824708"],onChange:f,required:!0}),b.jsx("label",{htmlFor:"email",children:"Email Address: "})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("textarea",{name:"entry.412088699",id:"msg",placeholder:"",autoComplete:"off",value:n["entry.412088699"],onChange:f,required:!0}),b.jsx("label",{htmlFor:"msg",children:"Message: "})]}),b.jsxs("button",{className:"button",type:"submit",disabled:t,children:[b.jsx("span",{children:t?"Sending...":"Send Message"}),b.jsx(zN,{className:"icon"})]})]})]}),b.jsxs(sD,{className:`${l?"open":""}`,children:[b.jsx("h4",{children:i==="success"?"Thank You For Getting in Touch!":"Something Went Wrong!"}),b.jsx("p",{children:i==="success"?"Your message has been successfully sent! I appreciate your interest and will get back to you as soon as possible. Please check your email inbox, including your spam/junk folder, in case my reply ends up there. Looking forward to connecting with you! This keeps it professional while ensuring the recipient doesn’t miss your response. Let me know if you’d like any refinements! 🚀":"Something went frong, please try again later."}),b.jsx("button",{className:"button",onClick:v,children:"Close"})]}),b.jsx(eS,{})]})}function jI(n={}){const e=G.useRef(null),t=G.useRef(null);return G.useEffect(()=>{const r=e.current,i=t.current,o=i?window.getComputedStyle(i).transform:null,l=()=>{requestAnimationFrame(()=>{const u=window.scrollY,d=1+u/2e3,m=Math.min(d,1.5),v=Math.max(2,Math.min(u/40,8));if(r&&(r.style.transform=`scale(${m})`,r.style.transformOrigin="center center",r.style.setProperty("--backdrop-blur-radius",`${v}px`)),i){const y=1/m;let T=o&&o!=="none"?o:"";n.transform&&(T=n.transform);const S=`${T} scale(${y})`;i.style.transform=S,i.style.transformOrigin="center center",Object.keys(n).forEach(P=>{P!=="transform"&&(i.style[P]=n[P])})}})};return l(),window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[n]),{targetRef:e,childRef:t}}/*! @license is-dom-node v1.0.4

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/function ny(n){return typeof window.Node=="object"?n instanceof window.Node:n!==null&&typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"}/*! @license is-dom-node-list v1.2.1

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/function aD(n){var e=Object.prototype.toString.call(n),t=/^\[object (HTMLCollection|NodeList|Object)\]$/;return typeof window.NodeList=="object"?n instanceof window.NodeList:n!==null&&typeof n=="object"&&typeof n.length=="number"&&t.test(e)&&(n.length===0||ny(n[0]))}/*! @license Tealight v0.3.6

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/function Pc(n,e){if(e===void 0&&(e=document),n instanceof Array)return n.filter(ny);if(ny(n))return[n];if(aD(n))return Array.prototype.slice.call(n);if(typeof n=="string")try{var t=e.querySelectorAll(n);return Array.prototype.slice.call(t)}catch{return[]}return[]}/*! @license Rematrix v0.3.0

	Copyright 2018 Julian Lloyd.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in
	all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	THE SOFTWARE.
*/function ry(n){if(n.constructor!==Array)throw new TypeError("Expected array.");if(n.length===16)return n;if(n.length===6){var e=sa();return e[0]=n[0],e[1]=n[1],e[4]=n[2],e[5]=n[3],e[12]=n[4],e[13]=n[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function sa(){for(var n=[],e=0;e<16;e++)e%5==0?n.push(1):n.push(0);return n}function lD(n,e){for(var t=ry(n),r=ry(e),i=[],o=0;o<4;o++)for(var l=[t[o],t[o+4],t[o+8],t[o+12]],u=0;u<4;u++){var d=u*4,f=[r[d],r[d+1],r[d+2],r[d+3]],m=l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3];i[o+d]=m}return i}function uD(n){if(typeof n=="string"){var e=n.match(/matrix(3d)?\(([^)]+)\)/);if(e){var t=e[2].split(", ").map(parseFloat);return ry(t)}}return sa()}function cD(n){var e=Math.PI/180*n,t=sa();return t[5]=t[10]=Math.cos(e),t[6]=t[9]=Math.sin(e),t[9]*=-1,t}function dD(n){var e=Math.PI/180*n,t=sa();return t[0]=t[10]=Math.cos(e),t[2]=t[8]=Math.sin(e),t[2]*=-1,t}function hD(n){var e=Math.PI/180*n,t=sa();return t[0]=t[5]=Math.cos(e),t[1]=t[4]=Math.sin(e),t[4]*=-1,t}function mE(n,e){var t=sa();return t[0]=n,t[5]=n,t}function fD(n){var e=sa();return e[12]=n,e}function pD(n){var e=sa();return e[13]=n,e}/*! @license miniraf v1.0.0

	Copyright 2018 Fisssion LLC.

	Permission is hereby granted, free of charge, to any person obtaining a copy
	of this software and associated documentation files (the "Software"), to deal
	in the Software without restriction, including without limitation the rights
	to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the Software is
	furnished to do so, subject to the following conditions:

	The above copyright notice and this permission notice shall be included in all
	copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	SOFTWARE.

*/var VI=function(){var n=Date.now();return function(e){var t=Date.now();t-n>16?(n=t,e(t)):setTimeout(function(){return VI(e)},0)}}(),mD=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||VI;/*! @license ScrollReveal v4.0.9

	Copyright 2021 Fisssion LLC.

	Licensed under the GNU General Public License 3.0 for
	compatible open source projects and non-commercial use.

	For commercial sites, themes, projects, and applications,
	keep your source code private/proprietary by purchasing
	a commercial license from https://scrollrevealjs.org/
*/var FI={delay:0,distance:"0",duration:600,easing:"cubic-bezier(0.5, 0, 0, 1)",interval:0,opacity:0,origin:"bottom",rotate:{x:0,y:0,z:0},scale:1,cleanup:!1,container:document.documentElement,desktop:!0,mobile:!0,reset:!1,useDelay:"always",viewFactor:0,viewOffset:{top:0,right:0,bottom:0,left:0},afterReset:function(){},afterReveal:function(){},beforeReset:function(){},beforeReveal:function(){}};function gD(){return document.documentElement.classList.remove("sr"),{clean:function(){},destroy:function(){},reveal:function(){},sync:function(){},get noop(){return!0}}}function yD(){document.documentElement.classList.add("sr"),document.body?document.body.style.height="100%":document.addEventListener("DOMContentLoaded",function(){document.body.style.height="100%"})}var Yu={success:yD,failure:gD};function Bh(n){return n!==null&&n instanceof Object&&(n.constructor===Object||Object.prototype.toString.call(n)==="[object Object]")}function Ct(n,e){if(Bh(n)){var t=Object.keys(n);return t.forEach(function(r){return e(n[r],r,n)})}if(n instanceof Array)return n.forEach(function(r,i){return e(r,i,n)});throw new TypeError("Expected either an array or object literal.")}function Ca(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];if(this.constructor.debug&&console){var r="%cScrollReveal: "+n;e.forEach(function(i){return r+=`
 — `+i}),console.log(r,"color: #ea654b;")}}function UI(){var n=this,e=function(){return{active:[],stale:[]}},t=e(),r=e(),i=e();try{Ct(Pc("[data-sr-id]"),function(o){var l=parseInt(o.getAttribute("data-sr-id"));t.active.push(l)})}catch(o){throw o}Ct(this.store.elements,function(o){t.active.indexOf(o.id)===-1&&t.stale.push(o.id)}),Ct(t.stale,function(o){return delete n.store.elements[o]}),Ct(this.store.elements,function(o){i.active.indexOf(o.containerId)===-1&&i.active.push(o.containerId),o.hasOwnProperty("sequence")&&r.active.indexOf(o.sequence.id)===-1&&r.active.push(o.sequence.id)}),Ct(this.store.containers,function(o){i.active.indexOf(o.id)===-1&&i.stale.push(o.id)}),Ct(i.stale,function(o){var l=n.store.containers[o].node;l.removeEventListener("scroll",n.delegate),l.removeEventListener("resize",n.delegate),delete n.store.containers[o]}),Ct(this.store.sequences,function(o){r.active.indexOf(o.id)===-1&&r.stale.push(o.id)}),Ct(r.stale,function(o){return delete n.store.sequences[o]})}var gE=function(){var n={},e=document.documentElement.style;function t(r,i){if(i===void 0&&(i=e),r&&typeof r=="string"){if(n[r])return n[r];if(typeof i[r]=="string")return n[r]=r;if(typeof i["-webkit-"+r]=="string")return n[r]="-webkit-"+r;throw new RangeError('Unable to find "'+r+'" style property.')}throw new TypeError("Expected a string.")}return t.clearCache=function(){return n={}},t}();function vD(n){var e=window.getComputedStyle(n.node),t=e.position,r=n.config,i={},o=n.node.getAttribute("style")||"",l=o.match(/[\w-]+\s*:\s*[^;]+\s*/gi)||[];i.computed=l?l.map(function(L){return L.trim()}).join("; ")+";":"",i.generated=l.some(function(L){return L.match(/visibility\s?:\s?visible/i)})?i.computed:l.concat(["visibility: visible"]).map(function(L){return L.trim()}).join("; ")+";";var u=parseFloat(e.opacity),d=isNaN(parseFloat(r.opacity))?parseFloat(e.opacity):parseFloat(r.opacity),f={computed:u!==d?"opacity: "+u+";":"",generated:u!==d?"opacity: "+d+";":""},m=[];if(parseFloat(r.distance)){var v=r.origin==="top"||r.origin==="bottom"?"Y":"X",y=r.distance;(r.origin==="top"||r.origin==="left")&&(y=/^-/.test(y)?y.substr(1):"-"+y);var T=y.match(/(^-?\d+\.?\d?)|(em$|px$|%$)/g),S=T[0],P=T[1];switch(P){case"em":y=parseInt(e.fontSize)*S;break;case"px":y=S;break;case"%":y=v==="Y"?n.node.getBoundingClientRect().height*S/100:n.node.getBoundingClientRect().width*S/100;break;default:throw new RangeError("Unrecognized or missing distance unit.")}v==="Y"?m.push(pD(y)):m.push(fD(y))}r.rotate.x&&m.push(cD(r.rotate.x)),r.rotate.y&&m.push(dD(r.rotate.y)),r.rotate.z&&m.push(hD(r.rotate.z)),r.scale!==1&&(r.scale===0?m.push(mE(2e-4)):m.push(mE(r.scale)));var N={};if(m.length){N.property=gE("transform"),N.computed={raw:e[N.property],matrix:uD(e[N.property])},m.unshift(N.computed.matrix);var k=m.reduce(lD);N.generated={initial:N.property+": matrix3d("+k.join(", ")+");",final:N.property+": matrix3d("+N.computed.matrix.join(", ")+");"}}else N.generated={initial:"",final:""};var R={};if(f.generated||N.generated.initial){R.property=gE("transition"),R.computed=e[R.property],R.fragments=[];var M=r.delay,z=r.duration,Q=r.easing;f.generated&&R.fragments.push({delayed:"opacity "+z/1e3+"s "+Q+" "+M/1e3+"s",instant:"opacity "+z/1e3+"s "+Q+" 0s"}),N.generated.initial&&R.fragments.push({delayed:N.property+" "+z/1e3+"s "+Q+" "+M/1e3+"s",instant:N.property+" "+z/1e3+"s "+Q+" 0s"});var se=R.computed&&!R.computed.match(/all 0s|none 0s/);se&&R.fragments.unshift({delayed:R.computed,instant:R.computed});var U=R.fragments.reduce(function(L,O,F){return L.delayed+=F===0?O.delayed:", "+O.delayed,L.instant+=F===0?O.instant:", "+O.instant,L},{delayed:"",instant:""});R.generated={delayed:R.property+": "+U.delayed+";",instant:R.property+": "+U.instant+";"}}else R.generated={delayed:"",instant:""};return{inline:i,opacity:f,position:t,transform:N,transition:R}}function vu(n,e){e.split(";").forEach(function(t){var r=t.split(":"),i=r[0],o=r.slice(1);i&&o&&(n.style[i.trim()]=o.join(":"))})}function Uv(n){var e=this,t;try{Ct(Pc(n),function(r){var i=r.getAttribute("data-sr-id");if(i!==null){t=!0;var o=e.store.elements[i];o.callbackTimer&&window.clearTimeout(o.callbackTimer.clock),vu(o.node,o.styles.inline.generated),r.removeAttribute("data-sr-id"),delete e.store.elements[i]}})}catch(r){return Ca.call(this,"Clean failed.",r.message)}if(t)try{UI.call(this)}catch(r){return Ca.call(this,"Clean failed.",r.message)}}function wD(){var n=this;Ct(this.store.elements,function(e){vu(e.node,e.styles.inline.generated),e.node.removeAttribute("data-sr-id")}),Ct(this.store.containers,function(e){var t=e.node===document.documentElement?window:e.node;t.removeEventListener("scroll",n.delegate),t.removeEventListener("resize",n.delegate)}),this.store={containers:{},elements:{},history:[],sequences:{}}}function Rc(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];if(Bh(n))return Ct(e,function(r){Ct(r,function(i,o){Bh(i)?((!n[o]||!Bh(n[o]))&&(n[o]={}),Rc(n[o],i)):n[o]=i})}),n;throw new TypeError("Target must be an object literal.")}function mf(n){return n===void 0&&(n=navigator.userAgent),/Android|iPhone|iPad|iPod/i.test(n)}var iy=function(){var n=0;return function(){return n++}}();function BI(){var n=this;UI.call(this),Ct(this.store.elements,function(e){var t=[e.styles.inline.generated];e.visible?(t.push(e.styles.opacity.computed),t.push(e.styles.transform.generated.final),e.revealed=!0):(t.push(e.styles.opacity.generated),t.push(e.styles.transform.generated.initial),e.revealed=!1),vu(e.node,t.filter(function(r){return r!==""}).join(" "))}),Ct(this.store.containers,function(e){var t=e.node===document.documentElement?window:e.node;t.addEventListener("scroll",n.delegate),t.addEventListener("resize",n.delegate)}),this.delegate(),this.initTimeout=null}function ic(n,e){e===void 0&&(e={});var t=e.pristine||this.pristine,r=n.config.useDelay==="always"||n.config.useDelay==="onload"&&t||n.config.useDelay==="once"&&!n.seen,i=n.visible&&!n.revealed,o=!n.visible&&n.revealed&&n.config.reset;if(e.reveal||i)return _D.call(this,n,r);if(e.reset||o)return ED.call(this,n)}function _D(n,e){var t=[n.styles.inline.generated,n.styles.opacity.computed,n.styles.transform.generated.final];e?t.push(n.styles.transition.generated.delayed):t.push(n.styles.transition.generated.instant),n.revealed=n.seen=!0,vu(n.node,t.filter(function(r){return r!==""}).join(" ")),qI.call(this,n,e)}function ED(n){var e=[n.styles.inline.generated,n.styles.opacity.generated,n.styles.transform.generated.initial,n.styles.transition.generated.instant];n.revealed=!1,vu(n.node,e.filter(function(t){return t!==""}).join(" ")),qI.call(this,n)}function qI(n,e){var t=this,r=e?n.config.duration+n.config.delay:n.config.duration,i=n.revealed?n.config.beforeReveal:n.config.beforeReset,o=n.revealed?n.config.afterReveal:n.config.afterReset,l=0;n.callbackTimer&&(l=Date.now()-n.callbackTimer.start,window.clearTimeout(n.callbackTimer.clock)),i(n.node),n.callbackTimer={start:Date.now(),clock:window.setTimeout(function(){o(n.node),n.callbackTimer=null,n.revealed&&!n.config.reset&&n.config.cleanup&&Uv.call(t,n.node)},r-l)}}function $I(n,e){if(e===void 0&&(e=this.pristine),!n.visible&&n.revealed&&n.config.reset)return ic.call(this,n,{reset:!0});var t=this.store.sequences[n.sequence.id],r=n.sequence.index;if(t){var i=new yE(t,"visible",this.store),o=new yE(t,"revealed",this.store);if(t.models={visible:i,revealed:o},!o.body.length){var l=t.members[i.body[0]],u=this.store.elements[l];if(u)return ph.call(this,t,i.body[0],-1,e),ph.call(this,t,i.body[0],1,e),ic.call(this,u,{reveal:!0,pristine:e})}if(!t.blocked.head&&r===[].concat(o.head).pop()&&r>=[].concat(i.body).shift())return ph.call(this,t,r,-1,e),ic.call(this,n,{reveal:!0,pristine:e});if(!t.blocked.foot&&r===[].concat(o.foot).shift()&&r<=[].concat(i.body).pop())return ph.call(this,t,r,1,e),ic.call(this,n,{reveal:!0,pristine:e})}}function TD(n){var e=Math.abs(n);if(!isNaN(e))this.id=iy(),this.interval=Math.max(e,16),this.members=[],this.models={},this.blocked={head:!1,foot:!1};else throw new RangeError("Invalid sequence interval.")}function yE(n,e,t){var r=this;this.head=[],this.body=[],this.foot=[],Ct(n.members,function(i,o){var l=t.elements[i];l&&l[e]&&r.body.push(o)}),this.body.length&&Ct(n.members,function(i,o){var l=t.elements[i];l&&!l[e]&&(o<r.body[0]?r.head.push(o):r.foot.push(o))})}function ph(n,e,t,r){var i=this,o=["head",null,"foot"][1+t],l=n.members[e+t],u=this.store.elements[l];n.blocked[o]=!0,setTimeout(function(){n.blocked[o]=!1,u&&$I.call(i,u,r)},n.interval)}function zI(n,e,t){var r=this;e===void 0&&(e={}),t===void 0&&(t=!1);var i=[],o,l=e.interval||FI.interval;try{l&&(o=new TD(l));var u=Pc(n);if(!u.length)throw new Error("Invalid reveal target.");var d=u.reduce(function(f,m){var v={},y=m.getAttribute("data-sr-id");y?(Rc(v,r.store.elements[y]),vu(v.node,v.styles.inline.computed)):(v.id=iy(),v.node=m,v.seen=!1,v.revealed=!1,v.visible=!1);var T=Rc({},v.config||r.defaults,e);if(!T.mobile&&mf()||!T.desktop&&!mf())return y&&Uv.call(r,v),f;var S=Pc(T.container)[0];if(!S)throw new Error("Invalid container.");if(!S.contains(m))return f;var P;return P=SD(S,i,r.store.containers),P===null&&(P=iy(),i.push({id:P,node:S})),v.config=T,v.containerId=P,v.styles=vD(v),o&&(v.sequence={id:o.id,index:o.members.length},o.members.push(v.id)),f.push(v),f},[]);Ct(d,function(f){r.store.elements[f.id]=f,f.node.setAttribute("data-sr-id",f.id)})}catch(f){return Ca.call(this,"Reveal failed.",f.message)}Ct(i,function(f){r.store.containers[f.id]={id:f.id,node:f.node}}),o&&(this.store.sequences[o.id]=o),t!==!0&&(this.store.history.push({target:n,options:e}),this.initTimeout&&window.clearTimeout(this.initTimeout),this.initTimeout=window.setTimeout(BI.bind(this),0))}function SD(n){for(var e=[],t=arguments.length-1;t-- >0;)e[t]=arguments[t+1];var r=null;return Ct(e,function(i){Ct(i,function(o){r===null&&o.node===n&&(r=o.id)})}),r}function bD(){var n=this;Ct(this.store.history,function(e){zI.call(n,e.target,e.options,!0)}),BI.call(this)}var ID=function(n){return(n>0)-(n<0)||+n},vE=Math.sign||ID;function wE(n,e){var t=e?n.node.clientHeight:n.node.offsetHeight,r=e?n.node.clientWidth:n.node.offsetWidth,i=0,o=0,l=n.node;do isNaN(l.offsetTop)||(i+=l.offsetTop),isNaN(l.offsetLeft)||(o+=l.offsetLeft),l=l.offsetParent;while(l);return{bounds:{top:i,right:o+r,bottom:i+t,left:o},height:t,width:r}}function AD(n){var e,t;return n.node===document.documentElement?(e=window.pageYOffset,t=window.pageXOffset):(e=n.node.scrollTop,t=n.node.scrollLeft),{top:e,left:t}}function xD(n){n===void 0&&(n={});var e=this.store.containers[n.containerId];if(e){var t=Math.max(0,Math.min(1,n.config.viewFactor)),r=n.config.viewOffset,i={top:n.geometry.bounds.top+n.geometry.height*t,right:n.geometry.bounds.right-n.geometry.width*t,bottom:n.geometry.bounds.bottom-n.geometry.height*t,left:n.geometry.bounds.left+n.geometry.width*t},o={top:e.geometry.bounds.top+e.scroll.top+r.top,right:e.geometry.bounds.right+e.scroll.left-r.right,bottom:e.geometry.bounds.bottom+e.scroll.top-r.bottom,left:e.geometry.bounds.left+e.scroll.left+r.left};return i.top<o.bottom&&i.right>o.left&&i.bottom>o.top&&i.left<o.right||n.styles.position==="fixed"}}function CD(n,e){var t=this;n===void 0&&(n={type:"init"}),e===void 0&&(e=this.store.elements),mD(function(){var r=n.type==="init"||n.type==="resize";Ct(t.store.containers,function(i){r&&(i.geometry=wE.call(t,i,!0));var o=AD.call(t,i);i.scroll&&(i.direction={x:vE(o.left-i.scroll.left),y:vE(o.top-i.scroll.top)}),i.scroll=o}),Ct(e,function(i){(r||i.geometry===void 0)&&(i.geometry=wE.call(t,i)),i.visible=xD.call(t,i)}),Ct(e,function(i){i.sequence?$I.call(t,i):ic.call(t,i)}),t.pristine=!1})}function ND(){var n=document.documentElement.style;return"transform"in n||"WebkitTransform"in n}function PD(){var n=document.documentElement.style;return"transition"in n||"WebkitTransition"in n}var RD="4.0.9",Gm,Wm,Km,Qm,Ym,Lo,Xm,Jm;function ka(n){n===void 0&&(n={});var e=typeof this>"u"||Object.getPrototypeOf(this)!==ka.prototype;if(e)return new ka(n);if(!ka.isSupported())return Ca.call(this,"Instantiation failed.","This browser is not supported."),Yu.failure();var t;try{t=Lo?Rc({},Lo,n):Rc({},FI,n)}catch(i){return Ca.call(this,"Invalid configuration.",i.message),Yu.failure()}try{var r=Pc(t.container)[0];if(!r)throw new Error("Invalid container.")}catch(i){return Ca.call(this,i.message),Yu.failure()}return Lo=t,!Lo.mobile&&mf()||!Lo.desktop&&!mf()?(Ca.call(this,"This device is disabled.","desktop: "+Lo.desktop,"mobile: "+Lo.mobile),Yu.failure()):(Yu.success(),this.store={containers:{},elements:{},history:[],sequences:{}},this.pristine=!0,Gm=Gm||CD.bind(this),Wm=Wm||wD.bind(this),Km=Km||zI.bind(this),Qm=Qm||Uv.bind(this),Ym=Ym||bD.bind(this),Object.defineProperty(this,"delegate",{get:function(){return Gm}}),Object.defineProperty(this,"destroy",{get:function(){return Wm}}),Object.defineProperty(this,"reveal",{get:function(){return Km}}),Object.defineProperty(this,"clean",{get:function(){return Qm}}),Object.defineProperty(this,"sync",{get:function(){return Ym}}),Object.defineProperty(this,"defaults",{get:function(){return Lo}}),Object.defineProperty(this,"version",{get:function(){return RD}}),Object.defineProperty(this,"noop",{get:function(){return!1}}),Jm||(Jm=this))}ka.isSupported=function(){return ND()&&PD()};Object.defineProperty(ka,"debug",{get:function(){return Xm||!1},set:function(n){return Xm=typeof n=="boolean"?n:Xm}});ka();function Bv(n=".popup",e){G.useEffect(()=>{const t=ka(),r=document.querySelectorAll(n);return t.reveal(".popup-int",{scale:.8,opacity:0,duration:500,easing:"ease-in-out",reset:!0,interval:100}),r.forEach(i=>{let o={scale:.8,opacity:0,duration:500,easing:"ease-in-out",reset:!0};i.classList.contains("popup-left")?(o.origin="left",o.distance="40px"):i.classList.contains("popup-right")?(o.origin="right",o.distance="40px"):i.classList.contains("popup-up")?(o.origin="bottom",o.distance="40px"):i.classList.contains("popup-down")?(o.origin="top",o.distance="40px"):i.classList.contains("popup-fade")&&(o={opacity:0,duration:1200,reset:!1}),t.reveal(i,o)}),()=>{r.forEach(i=>t.clean(i))}},[n,e])}function _E(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function qv(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:_E(e[r])&&_E(n[r])&&Object.keys(e[r]).length>0&&qv(n[r],e[r])})}const HI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function fs(){const n=typeof document<"u"?document:{};return qv(n,HI),n}const kD={document:HI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ir(){const n=typeof window<"u"?window:{};return qv(n,kD),n}function LD(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function OD(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function sy(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function gf(){return Date.now()}function DD(n){const e=ir();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function MD(n,e){e===void 0&&(e="x");const t=ir();let r,i,o;const l=DD(n);return t.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(u=>u.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(i==="none"?"":i)):(o=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=o.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=o.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function mh(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function jD(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Pr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!jD(r)){const i=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,l=i.length;o<l;o+=1){const u=i[o],d=Object.getOwnPropertyDescriptor(r,u);d!==void 0&&d.enumerable&&(mh(n[u])&&mh(r[u])?r[u].__swiper__?n[u]=r[u]:Pr(n[u],r[u]):!mh(n[u])&&mh(r[u])?(n[u]={},r[u].__swiper__?n[u]=r[u]:Pr(n[u],r[u])):n[u]=r[u])}}}return n}function gh(n,e,t){n.style.setProperty(e,t)}function GI(n){let{swiper:e,targetPosition:t,side:r}=n;const i=ir(),o=-e.translate;let l=null,u;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const f=t>o?"next":"prev",m=(y,T)=>f==="next"&&y>=T||f==="prev"&&y<=T,v=()=>{u=new Date().getTime(),l===null&&(l=u);const y=Math.max(Math.min((u-l)/d,1),0),T=.5-Math.cos(y*Math.PI)/2;let S=o+T*(t-o);if(m(S,t)&&(S=t),e.wrapperEl.scrollTo({[r]:S}),m(S,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:S})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(v)};v()}function us(n,e){e===void 0&&(e="");const t=ir(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(i=>i.matches(e)):r}function VD(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function FD(n,e){const t=ir();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=VD(n,e))),r}function yf(n){try{console.warn(n);return}catch{}}function vf(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:LD(e)),t}function UD(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function BD(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Bo(n,e){return ir().getComputedStyle(n,null).getPropertyValue(e)}function wf(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function WI(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function oy(n,e,t){const r=ir();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Vs(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function _f(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Zm;function qD(){const n=ir(),e=fs();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function KI(){return Zm||(Zm=qD()),Zm}let eg;function $D(n){let{userAgent:e}=n===void 0?{}:n;const t=KI(),r=ir(),i=r.navigator.platform,o=e||r.navigator.userAgent,l={ios:!1,android:!1},u=r.screen.width,d=r.screen.height,f=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const v=o.match(/(iPod)(.*OS\s([\d_]+))?/),y=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=i==="Win32";let S=i==="MacIntel";const P=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&S&&t.touch&&P.indexOf(`${u}x${d}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),S=!1),f&&!T&&(l.os="android",l.android=!0),(m||y||v)&&(l.os="ios",l.ios=!0),l}function QI(n){return n===void 0&&(n={}),eg||(eg=$D(n)),eg}let tg;function zD(){const n=ir(),e=QI();let t=!1;function r(){const u=n.navigator.userAgent.toLowerCase();return u.indexOf("safari")>=0&&u.indexOf("chrome")<0&&u.indexOf("android")<0}if(r()){const u=String(n.navigator.userAgent);if(u.includes("Version/")){const[d,f]=u.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=d<16||d===16&&f<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),l=o||i&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:l,isWebView:i}}function YI(){return tg||(tg=zD()),tg}function HD(n){let{swiper:e,on:t,emit:r}=n;const i=ir();let o=null,l=null;const u=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(v=>{l=i.requestAnimationFrame(()=>{const{width:y,height:T}=e;let S=y,P=T;v.forEach(N=>{let{contentBoxSize:k,contentRect:R,target:M}=N;M&&M!==e.el||(S=R?R.width:(k[0]||k).inlineSize,P=R?R.height:(k[0]||k).blockSize)}),(S!==y||P!==T)&&u()})}),o.observe(e.el))},f=()=>{l&&i.cancelAnimationFrame(l),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",u),i.addEventListener("orientationchange",m)}),t("destroy",()=>{f(),i.removeEventListener("resize",u),i.removeEventListener("orientationchange",m)})}function GD(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const o=[],l=ir(),u=function(m,v){v===void 0&&(v={});const y=l.MutationObserver||l.WebkitMutationObserver,T=new y(S=>{if(e.__preventObserver__)return;if(S.length===1){i("observerUpdate",S[0]);return}const P=function(){i("observerUpdate",S[0])};l.requestAnimationFrame?l.requestAnimationFrame(P):l.setTimeout(P,0)});T.observe(m,{attributes:typeof v.attributes>"u"?!0:v.attributes,childList:e.isElement||(typeof v.childList>"u"?!0:v).childList,characterData:typeof v.characterData>"u"?!0:v.characterData}),o.push(T)},d=()=>{if(e.params.observer){if(e.params.observeParents){const m=WI(e.hostEl);for(let v=0;v<m.length;v+=1)u(m[v])}u(e.hostEl,{childList:e.params.observeSlideChildren}),u(e.wrapperEl,{attributes:!1})}},f=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",d),r("destroy",f)}var WD={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];e.apply(r,l)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,o)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(d=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(f=>{f.apply(r,[d,...t])}),n.eventsListeners&&n.eventsListeners[d]&&n.eventsListeners[d].forEach(f=>{f.apply(r,t)})}),n}};function KD(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Bo(r,"padding-left")||0,10)-parseInt(Bo(r,"padding-right")||0,10),t=t-parseInt(Bo(r,"padding-top")||0,10)-parseInt(Bo(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function QD(){const n=this;function e(F,A){return parseFloat(F.getPropertyValue(n.getDirectionLabel(A))||0)}const t=n.params,{wrapperEl:r,slidesEl:i,size:o,rtlTranslate:l,wrongRTL:u}=n,d=n.virtual&&t.virtual.enabled,f=d?n.virtual.slides.length:n.slides.length,m=us(i,`.${n.params.slideClass}, swiper-slide`),v=d?n.virtual.slides.length:m.length;let y=[];const T=[],S=[];let P=t.slidesOffsetBefore;typeof P=="function"&&(P=t.slidesOffsetBefore.call(n));let N=t.slidesOffsetAfter;typeof N=="function"&&(N=t.slidesOffsetAfter.call(n));const k=n.snapGrid.length,R=n.slidesGrid.length;let M=t.spaceBetween,z=-P,Q=0,se=0;if(typeof o>"u")return;typeof M=="string"&&M.indexOf("%")>=0?M=parseFloat(M.replace("%",""))/100*o:typeof M=="string"&&(M=parseFloat(M)),n.virtualSize=-M,m.forEach(F=>{l?F.style.marginLeft="":F.style.marginRight="",F.style.marginBottom="",F.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(gh(r,"--swiper-centered-offset-before",""),gh(r,"--swiper-centered-offset-after",""));const U=t.grid&&t.grid.rows>1&&n.grid;U?n.grid.initSlides(m):n.grid&&n.grid.unsetSlides();let L;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(F=>typeof t.breakpoints[F].slidesPerView<"u").length>0;for(let F=0;F<v;F+=1){L=0;let A;if(m[F]&&(A=m[F]),U&&n.grid.updateSlide(F,A,m),!(m[F]&&Bo(A,"display")==="none")){if(t.slidesPerView==="auto"){O&&(m[F].style[n.getDirectionLabel("width")]="");const V=getComputedStyle(A),x=A.style.transform,le=A.style.webkitTransform;if(x&&(A.style.transform="none"),le&&(A.style.webkitTransform="none"),t.roundLengths)L=n.isHorizontal()?oy(A,"width"):oy(A,"height");else{const ue=e(V,"width"),X=e(V,"padding-left"),oe=e(V,"padding-right"),K=e(V,"margin-left"),re=e(V,"margin-right"),Z=V.getPropertyValue("box-sizing");if(Z&&Z==="border-box")L=ue+K+re;else{const{clientWidth:$,offsetWidth:ee}=A;L=ue+X+oe+K+re+(ee-$)}}x&&(A.style.transform=x),le&&(A.style.webkitTransform=le),t.roundLengths&&(L=Math.floor(L))}else L=(o-(t.slidesPerView-1)*M)/t.slidesPerView,t.roundLengths&&(L=Math.floor(L)),m[F]&&(m[F].style[n.getDirectionLabel("width")]=`${L}px`);m[F]&&(m[F].swiperSlideSize=L),S.push(L),t.centeredSlides?(z=z+L/2+Q/2+M,Q===0&&F!==0&&(z=z-o/2-M),F===0&&(z=z-o/2-M),Math.abs(z)<1/1e3&&(z=0),t.roundLengths&&(z=Math.floor(z)),se%t.slidesPerGroup===0&&y.push(z),T.push(z)):(t.roundLengths&&(z=Math.floor(z)),(se-Math.min(n.params.slidesPerGroupSkip,se))%n.params.slidesPerGroup===0&&y.push(z),T.push(z),z=z+L+M),n.virtualSize+=L+M,Q=L,se+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+N,l&&u&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+M}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+M}px`),U&&n.grid.updateWrapperSize(L,y),!t.centeredSlides){const F=[];for(let A=0;A<y.length;A+=1){let V=y[A];t.roundLengths&&(V=Math.floor(V)),y[A]<=n.virtualSize-o&&F.push(V)}y=F,Math.floor(n.virtualSize-o)-Math.floor(y[y.length-1])>1&&y.push(n.virtualSize-o)}if(d&&t.loop){const F=S[0]+M;if(t.slidesPerGroup>1){const A=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),V=F*t.slidesPerGroup;for(let x=0;x<A;x+=1)y.push(y[y.length-1]+V)}for(let A=0;A<n.virtual.slidesBefore+n.virtual.slidesAfter;A+=1)t.slidesPerGroup===1&&y.push(y[y.length-1]+F),T.push(T[T.length-1]+F),n.virtualSize+=F}if(y.length===0&&(y=[0]),M!==0){const F=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");m.filter((A,V)=>!t.cssMode||t.loop?!0:V!==m.length-1).forEach(A=>{A.style[F]=`${M}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let F=0;S.forEach(V=>{F+=V+(M||0)}),F-=M;const A=F>o?F-o:0;y=y.map(V=>V<=0?-P:V>A?A+N:V)}if(t.centerInsufficientSlides){let F=0;S.forEach(V=>{F+=V+(M||0)}),F-=M;const A=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(F+A<o){const V=(o-F-A)/2;y.forEach((x,le)=>{y[le]=x-V}),T.forEach((x,le)=>{T[le]=x+V})}}if(Object.assign(n,{slides:m,snapGrid:y,slidesGrid:T,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){gh(r,"--swiper-centered-offset-before",`${-y[0]}px`),gh(r,"--swiper-centered-offset-after",`${n.size/2-S[S.length-1]/2}px`);const F=-n.snapGrid[0],A=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(V=>V+F),n.slidesGrid=n.slidesGrid.map(V=>V+A)}if(v!==f&&n.emit("slidesLengthChange"),y.length!==k&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),T.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!d&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const F=`${t.containerModifierClass}backface-hidden`,A=n.el.classList.contains(F);v<=t.maxBackfaceHiddenSlides?A||n.el.classList.add(F):A&&n.el.classList.remove(F)}}function YD(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const l=u=>r?e.slides[e.getSlideIndexByData(u)]:e.slides[u];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(u=>{t.push(u)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const u=e.activeIndex+o;if(u>e.slides.length&&!r)break;t.push(l(u))}else t.push(l(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const u=t[o].offsetHeight;i=u>i?u:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function XD(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const EE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function JD(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-n;i&&(l=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let u=t.spaceBetween;typeof u=="string"&&u.indexOf("%")>=0?u=parseFloat(u.replace("%",""))/100*e.size:typeof u=="string"&&(u=parseFloat(u));for(let d=0;d<r.length;d+=1){const f=r[d];let m=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(m-=r[0].swiperSlideOffset);const v=(l+(t.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),y=(l-o[0]+(t.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+u),T=-(l-m),S=T+e.slidesSizesGrid[d],P=T>=0&&T<=e.size-e.slidesSizesGrid[d],N=T>=0&&T<e.size-1||S>1&&S<=e.size||T<=0&&S>=e.size;N&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(d)),EE(f,N,t.slideVisibleClass),EE(f,P,t.slideFullyVisibleClass),f.progress=i?-v:v,f.originalProgress=i?-y:y}}function ZD(n){const e=this;if(typeof n>"u"){const m=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*m||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:o,isEnd:l,progressLoop:u}=e;const d=o,f=l;if(r===0)i=0,o=!0,l=!0;else{i=(n-e.minTranslate())/r;const m=Math.abs(n-e.minTranslate())<1,v=Math.abs(n-e.maxTranslate())<1;o=m||i<=0,l=v||i>=1,m&&(i=0),v&&(i=1)}if(t.loop){const m=e.getSlideIndexByData(0),v=e.getSlideIndexByData(e.slides.length-1),y=e.slidesGrid[m],T=e.slidesGrid[v],S=e.slidesGrid[e.slidesGrid.length-1],P=Math.abs(n);P>=y?u=(P-y)/S:u=(P+S-T)/S,u>1&&(u-=1)}Object.assign(e,{progress:i,progressLoop:u,isBeginning:o,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!d&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(d&&!o||f&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}const ng=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function eM(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,o=n.virtual&&t.virtual.enabled,l=n.grid&&t.grid&&t.grid.rows>1,u=v=>us(r,`.${t.slideClass}${v}, swiper-slide${v}`)[0];let d,f,m;if(o)if(t.loop){let v=i-n.virtual.slidesBefore;v<0&&(v=n.virtual.slides.length+v),v>=n.virtual.slides.length&&(v-=n.virtual.slides.length),d=u(`[data-swiper-slide-index="${v}"]`)}else d=u(`[data-swiper-slide-index="${i}"]`);else l?(d=e.find(v=>v.column===i),m=e.find(v=>v.column===i+1),f=e.find(v=>v.column===i-1)):d=e[i];d&&(l||(m=BD(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m&&(m=e[0]),f=UD(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(v=>{ng(v,v===d,t.slideActiveClass),ng(v,v===m,t.slideNextClass),ng(v,v===f,t.slidePrevClass)}),n.emitSlidesClasses()}const qh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},rg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ay=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const l=i,u=[l-e];u.push(...Array.from({length:e}).map((d,f)=>l+r+f)),n.slides.forEach((d,f)=>{u.includes(d.column)&&rg(n,f)});return}const o=i+r-1;if(n.params.rewind||n.params.loop)for(let l=i-e;l<=o+e;l+=1){const u=(l%t+t)%t;(u<i||u>o)&&rg(n,u)}else for(let l=Math.max(i-e,0);l<=Math.min(o+e,t-1);l+=1)l!==i&&(l>o||l<i)&&rg(n,l)};function tM(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?i=o:r>=e[o]&&r<e[o+1]&&(i=o+1):r>=e[o]&&(i=o);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function nM(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:o,realIndex:l,snapIndex:u}=e;let d=n,f;const m=T=>{let S=T-e.virtual.slidesBefore;return S<0&&(S=e.virtual.slides.length+S),S>=e.virtual.slides.length&&(S-=e.virtual.slides.length),S};if(typeof d>"u"&&(d=tM(e)),r.indexOf(t)>=0)f=r.indexOf(t);else{const T=Math.min(i.slidesPerGroupSkip,d);f=T+Math.floor((d-T)/i.slidesPerGroup)}if(f>=r.length&&(f=r.length-1),d===o&&!e.params.loop){f!==u&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(d===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(d);return}const v=e.grid&&i.grid&&i.grid.rows>1;let y;if(e.virtual&&i.virtual.enabled&&i.loop)y=m(d);else if(v){const T=e.slides.find(P=>P.column===d);let S=parseInt(T.getAttribute("data-swiper-slide-index"),10);Number.isNaN(S)&&(S=Math.max(e.slides.indexOf(T),0)),y=Math.floor(S/i.grid.rows)}else if(e.slides[d]){const T=e.slides[d].getAttribute("data-swiper-slide-index");T?y=parseInt(T,10):y=d}else y=d;Object.assign(e,{previousSnapIndex:u,snapIndex:f,previousRealIndex:l,realIndex:y,previousIndex:o,activeIndex:d}),e.initialized&&ay(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==y&&e.emit("realIndexChange"),e.emit("slideChange"))}function rM(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(u=>{!i&&u.matches&&u.matches(`.${r.slideClass}, swiper-slide`)&&(i=u)});let o=!1,l;if(i){for(let u=0;u<t.slides.length;u+=1)if(t.slides[u]===i){o=!0,l=u;break}}if(i&&o)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var iM={updateSize:KD,updateSlides:QD,updateAutoHeight:YD,updateSlidesOffset:XD,updateSlidesProgress:JD,updateProgress:ZD,updateSlidesClasses:eM,updateActiveIndex:nM,updateClickedSlide:rM};function sM(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:o}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let l=MD(o,n);return l+=e.cssOverflowAdjustment(),r&&(l=-l),l||0}function oM(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:o,progress:l}=t;let u=0,d=0;const f=0;t.isHorizontal()?u=r?-n:n:d=n,i.roundLengths&&(u=Math.floor(u),d=Math.floor(d)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?u:d,i.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-u:-d:i.virtualTranslate||(t.isHorizontal()?u-=t.cssOverflowAdjustment():d-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${u}px, ${d}px, ${f}px)`);let m;const v=t.maxTranslate()-t.minTranslate();v===0?m=0:m=(n-t.minTranslate())/v,m!==l&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function aM(){return-this.snapGrid[0]}function lM(){return-this.snapGrid[this.snapGrid.length-1]}function uM(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:l,wrapperEl:u}=o;if(o.animating&&l.preventInteractionOnTransition)return!1;const d=o.minTranslate(),f=o.maxTranslate();let m;if(r&&n>d?m=d:r&&n<f?m=f:m=n,o.updateProgress(m),l.cssMode){const v=o.isHorizontal();if(e===0)u[v?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return GI({swiper:o,targetPosition:-m,side:v?"left":"top"}),!0;u.scrollTo({[v?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,i),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(y){!o||o.destroyed||y.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var cM={getTranslate:sM,setTranslate:oM,minTranslate:aM,maxTranslate:lM,translateTo:uM};function dM(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function XI(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:o,previousIndex:l}=e;let u=r;u||(o>l?u="next":o<l?u="prev":u="reset"),e.emit(`transition${i}`),t&&u==="reset"?e.emit(`slideResetTransition${i}`):t&&o!==l&&(e.emit(`slideChangeTransition${i}`),u==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function hM(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),XI({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function fM(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),XI({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var pM={setTransition:dM,transitionStart:hM,transitionEnd:fM};function mM(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let l=n;l<0&&(l=0);const{params:u,snapGrid:d,slidesGrid:f,previousIndex:m,activeIndex:v,rtlTranslate:y,wrapperEl:T,enabled:S}=o;if(!S&&!r&&!i||o.destroyed||o.animating&&u.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const P=Math.min(o.params.slidesPerGroupSkip,l);let N=P+Math.floor((l-P)/o.params.slidesPerGroup);N>=d.length&&(N=d.length-1);const k=-d[N];if(u.normalizeSlideIndex)for(let U=0;U<f.length;U+=1){const L=-Math.floor(k*100),O=Math.floor(f[U]*100),F=Math.floor(f[U+1]*100);typeof f[U+1]<"u"?L>=O&&L<F-(F-O)/2?l=U:L>=O&&L<F&&(l=U+1):L>=O&&(l=U)}if(o.initialized&&l!==v&&(!o.allowSlideNext&&(y?k>o.translate&&k>o.minTranslate():k<o.translate&&k<o.minTranslate())||!o.allowSlidePrev&&k>o.translate&&k>o.maxTranslate()&&(v||0)!==l))return!1;l!==(m||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(k);let R;l>v?R="next":l<v?R="prev":R="reset";const M=o.virtual&&o.params.virtual.enabled;if(!(M&&i)&&(y&&-k===o.translate||!y&&k===o.translate))return o.updateActiveIndex(l),u.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),u.effect!=="slide"&&o.setTranslate(k),R!=="reset"&&(o.transitionStart(t,R),o.transitionEnd(t,R)),!1;if(u.cssMode){const U=o.isHorizontal(),L=y?k:-k;if(e===0)M&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),M&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{T[U?"scrollLeft":"scrollTop"]=L})):T[U?"scrollLeft":"scrollTop"]=L,M&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return GI({swiper:o,targetPosition:L,side:U?"left":"top"}),!0;T.scrollTo({[U?"left":"top"]:L,behavior:"smooth"})}return!0}const se=YI().isSafari;return M&&!i&&se&&o.isElement&&o.virtual.update(!1,!1,l),o.setTransition(e),o.setTranslate(k),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,R),e===0?o.transitionEnd(t,R):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(L){!o||o.destroyed||L.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,R))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function gM(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const o=i.grid&&i.params.grid&&i.params.grid.rows>1;let l=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)l=l+i.virtual.slidesBefore;else{let u;if(o){const y=l*i.params.grid.rows;u=i.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===y).column}else u=i.getSlideIndexByData(l);const d=o?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:f}=i.params;let m=i.params.slidesPerView;m==="auto"?m=i.slidesPerViewDynamic():(m=Math.ceil(parseFloat(i.params.slidesPerView,10)),f&&m%2===0&&(m=m+1));let v=d-u<m;if(f&&(v=v||u<Math.ceil(m/2)),r&&f&&i.params.slidesPerView!=="auto"&&!o&&(v=!1),v){const y=f?u<i.activeIndex?"prev":"next":u-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:y,slideTo:!0,activeSlideIndex:y==="next"?u+1:u-d+1,slideRealIndex:y==="next"?i.realIndex:void 0})}if(o){const y=l*i.params.grid.rows;l=i.slides.find(T=>T.getAttribute("data-swiper-slide-index")*1===y).column}else l=i.getSlideIndexByData(l)}return requestAnimationFrame(()=>{i.slideTo(l,e,t,r)}),i}function yM(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:i,params:o,animating:l}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let u=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(u=Math.max(r.slidesPerViewDynamic("current",!0),1));const d=r.activeIndex<o.slidesPerGroupSkip?1:u,f=r.virtual&&o.virtual.enabled;if(o.loop){if(l&&!f&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+d,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+d,n,e,t)}function vM(n,e,t){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:o,slidesGrid:l,rtlTranslate:u,enabled:d,animating:f}=r;if(!d||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const m=r.virtual&&i.virtual.enabled;if(i.loop){if(f&&!m&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const v=u?r.translate:-r.translate;function y(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const T=y(v),S=o.map(R=>y(R)),P=i.freeMode&&i.freeMode.enabled;let N=o[S.indexOf(T)-1];if(typeof N>"u"&&(i.cssMode||P)){let R;o.forEach((M,z)=>{T>=M&&(R=z)}),typeof R<"u"&&(N=P?o[R]:o[R>0?R-1:R])}let k=0;if(typeof N<"u"&&(k=l.indexOf(N),k<0&&(k=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(k=k-r.slidesPerViewDynamic("previous",!0)+1,k=Math.max(k,0))),i.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(k,n,e,t)}),!0;return r.slideTo(k,n,e,t)}function wM(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function _M(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let o=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,o),u=l+Math.floor((o-l)/i.params.slidesPerGroup),d=i.rtlTranslate?i.translate:-i.translate;if(d>=i.snapGrid[u]){const f=i.snapGrid[u],m=i.snapGrid[u+1];d-f>(m-f)*r&&(o+=i.params.slidesPerGroup)}else{const f=i.snapGrid[u-1],m=i.snapGrid[u];d-f<=(m-f)*r&&(o-=i.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,i.slidesGrid.length-1),i.slideTo(o,n,e,t)}function EM(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.clickedIndex,o;const l=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<n.loopedSlides-r/2||i>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),i=n.getSlideIndex(us(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),sy(()=>{n.slideTo(i)})):n.slideTo(i):i>n.slides.length-r?(n.loopFix(),i=n.getSlideIndex(us(t,`${l}[data-swiper-slide-index="${o}"]`)[0]),sy(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var TM={slideTo:mM,slideToLoop:gM,slideNext:yM,slidePrev:vM,slideReset:wM,slideToClosest:_M,slideToClickedSlide:EM};function SM(n,e){const t=this,{params:r,slidesEl:i}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{us(i,`.${r.slideClass}, swiper-slide`).forEach((y,T)=>{y.setAttribute("data-swiper-slide-index",T)})},l=t.grid&&r.grid&&r.grid.rows>1,u=r.slidesPerGroup*(l?r.grid.rows:1),d=t.slides.length%u!==0,f=l&&t.slides.length%r.grid.rows!==0,m=v=>{for(let y=0;y<v;y+=1){const T=t.isElement?vf("swiper-slide",[r.slideBlankClass]):vf("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(T)}};if(d){if(r.loopAddBlankSlides){const v=u-t.slides.length%u;m(v),t.recalcSlides(),t.updateSlides()}else yf("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(f){if(r.loopAddBlankSlides){const v=r.grid.rows-t.slides.length%r.grid.rows;m(v),t.recalcSlides(),t.updateSlides()}else yf("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function bM(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:o,initial:l,byController:u,byMousewheel:d}=n===void 0?{}:n;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:m,allowSlidePrev:v,allowSlideNext:y,slidesEl:T,params:S}=f,{centeredSlides:P,initialSlide:N}=S;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&S.virtual.enabled){t&&(!S.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):S.centeredSlides&&f.snapIndex<S.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=v,f.allowSlideNext=y,f.emit("loopFix");return}let k=S.slidesPerView;k==="auto"?k=f.slidesPerViewDynamic():(k=Math.ceil(parseFloat(S.slidesPerView,10)),P&&k%2===0&&(k=k+1));const R=S.slidesPerGroupAuto?k:S.slidesPerGroup;let M=R;M%R!==0&&(M+=R-M%R),M+=S.loopAdditionalSlides,f.loopedSlides=M;const z=f.grid&&S.grid&&S.grid.rows>1;m.length<k+M||f.params.effect==="cards"&&m.length<k+M*2?yf("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):z&&S.grid.fill==="row"&&yf("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const Q=[],se=[],U=z?Math.ceil(m.length/S.grid.rows):m.length,L=l&&U-N<k&&!P;let O=L?N:f.activeIndex;typeof o>"u"?o=f.getSlideIndex(m.find(X=>X.classList.contains(S.slideActiveClass))):O=o;const F=r==="next"||!r,A=r==="prev"||!r;let V=0,x=0;const ue=(z?m[o].column:o)+(P&&typeof i>"u"?-k/2+.5:0);if(ue<M){V=Math.max(M-ue,R);for(let X=0;X<M-ue;X+=1){const oe=X-Math.floor(X/U)*U;if(z){const K=U-oe-1;for(let re=m.length-1;re>=0;re-=1)m[re].column===K&&Q.push(re)}else Q.push(U-oe-1)}}else if(ue+k>U-M){x=Math.max(ue-(U-M*2),R),L&&(x=Math.max(x,k-U+N+1));for(let X=0;X<x;X+=1){const oe=X-Math.floor(X/U)*U;z?m.forEach((K,re)=>{K.column===oe&&se.push(re)}):se.push(oe)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&m.length<k+M*2&&(se.includes(o)&&se.splice(se.indexOf(o),1),Q.includes(o)&&Q.splice(Q.indexOf(o),1)),A&&Q.forEach(X=>{m[X].swiperLoopMoveDOM=!0,T.prepend(m[X]),m[X].swiperLoopMoveDOM=!1}),F&&se.forEach(X=>{m[X].swiperLoopMoveDOM=!0,T.append(m[X]),m[X].swiperLoopMoveDOM=!1}),f.recalcSlides(),S.slidesPerView==="auto"?f.updateSlides():z&&(Q.length>0&&A||se.length>0&&F)&&f.slides.forEach((X,oe)=>{f.grid.updateSlide(oe,X,f.slides)}),S.watchSlidesProgress&&f.updateSlidesOffset(),t){if(Q.length>0&&A){if(typeof e>"u"){const X=f.slidesGrid[O],K=f.slidesGrid[O+V]-X;d?f.setTranslate(f.translate-K):(f.slideTo(O+Math.ceil(V),0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-K,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-K))}else if(i){const X=z?Q.length/S.grid.rows:Q.length;f.slideTo(f.activeIndex+X,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(se.length>0&&F)if(typeof e>"u"){const X=f.slidesGrid[O],K=f.slidesGrid[O-x]-X;d?f.setTranslate(f.translate-K):(f.slideTo(O-x,0,!1,!0),i&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-K,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-K))}else{const X=z?se.length/S.grid.rows:se.length;f.slideTo(f.activeIndex-X,0,!1,!0)}}if(f.allowSlidePrev=v,f.allowSlideNext=y,f.controller&&f.controller.control&&!u){const X={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:o,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...X,slideTo:oe.params.slidesPerView===S.slidesPerView?t:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...X,slideTo:f.controller.control.params.slidesPerView===S.slidesPerView?t:!1})}f.emit("loopFix")}function IM(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const o=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[o]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var AM={loopCreate:SM,loopFix:bM,loopDestroy:IM};function xM(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function CM(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var NM={setGrabCursor:xM,unsetGrabCursor:CM};function PM(n,e){e===void 0&&(e=this);function t(r){if(!r||r===fs()||r===ir())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function TE(n,e,t){const r=ir(),{params:i}=n,o=i.edgeSwipeDetection,l=i.edgeSwipeThreshold;return o&&(t<=l||t>=r.innerWidth-l)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function RM(n){const e=this,t=fs();let r=n;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){TE(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:l,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let d=r.target;if(o.touchEventsTarget==="wrapper"&&!FD(d,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const f=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;f&&r.target&&r.target.shadowRoot&&m&&(d=m[0]);const v=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,y=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(y?PM(v,d):d.closest(v))){e.allowClick=!0;return}if(o.swipeHandler&&!d.closest(o.swipeHandler))return;l.currentX=r.pageX,l.currentY=r.pageY;const T=l.currentX,S=l.currentY;if(!TE(e,r,T))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=T,l.startY=S,i.touchStartTime=gf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(i.allowThresholdMove=!1);let P=!0;d.matches(i.focusableElements)&&(P=!1,d.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==d&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!d.matches(i.focusableElements))&&t.activeElement.blur();const N=P&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||N)&&!d.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function kM(n){const e=fs(),t=this,r=t.touchEventsData,{params:i,touches:o,rtlTranslate:l,enabled:u}=t;if(!u||!i.simulateTouch&&n.pointerType==="mouse")return;let d=n;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(r.touchId!==null||d.pointerId!==r.pointerId))return;let f;if(d.type==="touchmove"){if(f=[...d.changedTouches].find(Q=>Q.identifier===r.touchId),!f||f.identifier!==r.touchId)return}else f=d;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",d);return}const m=f.pageX,v=f.pageY;if(d.preventedByNestedSwiper){o.startX=m,o.startY=v;return}if(!t.allowTouchMove){d.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:v,currentX:m,currentY:v}),r.touchStartTime=gf());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(v<o.startY&&t.translate<=t.maxTranslate()||v>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(l&&(m>o.startX&&-t.translate<=t.maxTranslate()||m<o.startX&&-t.translate>=t.minTranslate()))return;if(!l&&(m<o.startX&&t.translate<=t.maxTranslate()||m>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==d.target&&d.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&d.target===e.activeElement&&d.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",d),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=v;const y=o.currentX-o.startX,T=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(y**2+T**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let Q;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:y*y+T*T>=25&&(Q=Math.atan2(Math.abs(T),Math.abs(y))*180/Math.PI,r.isScrolling=t.isHorizontal()?Q>i.touchAngle:90-Q>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",d),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||d.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&d.cancelable&&d.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&d.stopPropagation();let S=t.isHorizontal()?y:T,P=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;i.oneWayMovement&&(S=Math.abs(S)*(l?1:-1),P=Math.abs(P)*(l?1:-1)),o.diff=S,S*=i.touchRatio,l&&(S=-S,P=-P);const N=t.touchesDirection;t.swipeDirection=S>0?"prev":"next",t.touchesDirection=P>0?"prev":"next";const k=t.params.loop&&!i.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(k&&R&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const Q=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(Q)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",d)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&N!==t.touchesDirection&&k&&R&&Math.abs(S)>=1){Object.assign(o,{startX:m,startY:v,currentX:m,currentY:v,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",d),r.isMoved=!0,r.currentTranslate=S+r.startTranslate;let M=!0,z=i.resistanceRatio;if(i.touchReleaseOnEdges&&(z=0),S>0?(k&&R&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(M=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+S)**z))):S<0&&(k&&R&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(M=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-S)**z))),M&&(d.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(S)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function LM(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(Q=>Q.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:l,touches:u,rtlTranslate:d,slidesGrid:f,enabled:m}=e;if(!m||!l.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=gf(),y=v-t.touchStartTime;if(e.allowClick){const Q=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(Q&&Q[0]||r.target,Q),e.emit("tap click",r),y<300&&v-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=gf(),sy(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||u.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let T;if(l.followFinger?T=d?e.translate:-e.translate:T=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}const S=T>=-e.maxTranslate()&&!e.params.loop;let P=0,N=e.slidesSizesGrid[0];for(let Q=0;Q<f.length;Q+=Q<l.slidesPerGroupSkip?1:l.slidesPerGroup){const se=Q<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[Q+se]<"u"?(S||T>=f[Q]&&T<f[Q+se])&&(P=Q,N=f[Q+se]-f[Q]):(S||T>=f[Q])&&(P=Q,N=f[f.length-1]-f[f.length-2])}let k=null,R=null;l.rewind&&(e.isBeginning?R=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(k=0));const M=(T-f[P])/N,z=P<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(y>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(M>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?k:P+z):e.slideTo(P)),e.swipeDirection==="prev"&&(M>1-l.longSwipesRatio?e.slideTo(P+z):R!==null&&M<0&&Math.abs(M)>l.longSwipesRatio?e.slideTo(R):e.slideTo(P))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(P+z):e.slideTo(P):(e.swipeDirection==="next"&&e.slideTo(k!==null?k:P+z),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:P))}}function SE(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:o}=n,l=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const u=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!u?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!l?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function OM(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function DM(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const o=n.maxTranslate()-n.minTranslate();o===0?i=0:i=(n.translate-n.minTranslate())/o,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function MM(n){const e=this;qh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function jM(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const JI=(n,e)=>{const t=fs(),{params:r,el:i,wrapperEl:o,device:l}=n,u=!!r.nested,d=e==="on"?"addEventListener":"removeEventListener",f=e;!i||typeof i=="string"||(t[d]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:u}),i[d]("touchstart",n.onTouchStart,{passive:!1}),i[d]("pointerdown",n.onTouchStart,{passive:!1}),t[d]("touchmove",n.onTouchMove,{passive:!1,capture:u}),t[d]("pointermove",n.onTouchMove,{passive:!1,capture:u}),t[d]("touchend",n.onTouchEnd,{passive:!0}),t[d]("pointerup",n.onTouchEnd,{passive:!0}),t[d]("pointercancel",n.onTouchEnd,{passive:!0}),t[d]("touchcancel",n.onTouchEnd,{passive:!0}),t[d]("pointerout",n.onTouchEnd,{passive:!0}),t[d]("pointerleave",n.onTouchEnd,{passive:!0}),t[d]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[d]("click",n.onClick,!0),r.cssMode&&o[d]("scroll",n.onScroll),r.updateOnWindowResize?n[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",SE,!0):n[f]("observerUpdate",SE,!0),i[d]("load",n.onLoad,{capture:!0}))};function VM(){const n=this,{params:e}=n;n.onTouchStart=RM.bind(n),n.onTouchMove=kM.bind(n),n.onTouchEnd=LM.bind(n),n.onDocumentTouchStart=jM.bind(n),e.cssMode&&(n.onScroll=DM.bind(n)),n.onClick=OM.bind(n),n.onLoad=MM.bind(n),JI(n,"on")}function FM(){JI(this,"off")}var UM={attachEvents:VM,detachEvents:FM};const bE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function BM(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const l=fs(),u=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",d=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:l.querySelector(r.breakpointsBase),f=n.getBreakpoint(o,u,d);if(!f||n.currentBreakpoint===f)return;const v=(f in o?o[f]:void 0)||n.originalParams,y=bE(n,r),T=bE(n,v),S=n.params.grabCursor,P=v.grabCursor,N=r.enabled;y&&!T?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!y&&T&&(i.classList.add(`${r.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),S&&!P?n.unsetGrabCursor():!S&&P&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(se=>{if(typeof v[se]>"u")return;const U=r[se]&&r[se].enabled,L=v[se]&&v[se].enabled;U&&!L&&n[se].disable(),!U&&L&&n[se].enable()});const k=v.direction&&v.direction!==r.direction,R=r.loop&&(v.slidesPerView!==r.slidesPerView||k),M=r.loop;k&&t&&n.changeDirection(),Pr(n.params,v);const z=n.params.enabled,Q=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),N&&!z?n.disable():!N&&z&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",v),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!M&&Q?(n.loopCreate(e),n.updateSlides()):M&&!Q&&n.loopDestroy()),n.emit("breakpoint",v)}function qM(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=ir(),o=e==="window"?i.innerHeight:t.clientHeight,l=Object.keys(n).map(u=>{if(typeof u=="string"&&u.indexOf("@")===0){const d=parseFloat(u.substr(1));return{value:o*d,point:u}}return{value:u,point:u}});l.sort((u,d)=>parseInt(u.value,10)-parseInt(d.value,10));for(let u=0;u<l.length;u+=1){const{point:d,value:f}=l[u];e==="window"?i.matchMedia(`(min-width: ${f}px)`).matches&&(r=d):f<=t.clientWidth&&(r=d)}return r||"max"}var $M={setBreakpoint:BM,getBreakpoint:qM};function zM(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function HM(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:o}=n,l=zM(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),i.classList.add(...e),n.emitContainerClasses()}function GM(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var WM={addClasses:HM,removeClasses:GM};function KM(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,o=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var QM={checkOverflow:KM},ly={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function YM(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],o=r[i];if(typeof o!="object"||o===null){Pr(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in o)){Pr(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),Pr(e,r)}}const ig={eventsEmitter:WD,update:iM,translate:cM,transition:pM,slide:TM,loop:AM,grabCursor:NM,events:UM,breakpoints:$M,checkOverflow:QM,classes:WM},sg={};let $v=class Us{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=Pr({},t),e&&!t.el&&(t.el=e);const l=fs();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){const m=[];return l.querySelectorAll(t.el).forEach(v=>{const y=Pr({},t,{el:v});m.push(new Us(y))}),m}const u=this;u.__swiper__=!0,u.support=KI(),u.device=QI({userAgent:t.userAgent}),u.browser=YI(),u.eventsListeners={},u.eventsAnyListeners=[],u.modules=[...u.__modules__],t.modules&&Array.isArray(t.modules)&&u.modules.push(...t.modules);const d={};u.modules.forEach(m=>{m({params:t,swiper:u,extendParams:YM(t,d),on:u.on.bind(u),once:u.once.bind(u),off:u.off.bind(u),emit:u.emit.bind(u)})});const f=Pr({},ly,d);return u.params=Pr({},f,sg,t),u.originalParams=Pr({},u.params),u.passedParams=Pr({},t),u.params&&u.params.on&&Object.keys(u.params.on).forEach(m=>{u.on(m,u.params.on[m])}),u.params&&u.params.onAny&&u.onAny(u.params.onAny),Object.assign(u,{enabled:u.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return u.params.direction==="horizontal"},isVertical(){return u.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:u.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:u.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),u.emit("_swiper"),u.params.init&&u.init(),u}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=us(t,`.${r.slideClass}, swiper-slide`),o=wf(i[0]);return wf(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=us(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:o,slidesGrid:l,slidesSizesGrid:u,size:d,activeIndex:f}=r;let m=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let v=o[f]?Math.ceil(o[f].swiperSlideSize):0,y;for(let T=f+1;T<o.length;T+=1)o[T]&&!y&&(v+=Math.ceil(o[T].swiperSlideSize),m+=1,v>d&&(y=!0));for(let T=f-1;T>=0;T-=1)o[T]&&!y&&(v+=o[T].swiperSlideSize,m+=1,v>d&&(y=!0))}else if(e==="current")for(let v=f+1;v<o.length;v+=1)(t?l[v]+u[v]-l[f]<d:l[v]-l[f]<d)&&(m+=1);else for(let v=f-1;v>=0;v-=1)l[f]-l[v]<d&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&qh(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,u=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(u),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const l=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(l.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):us(r,i())[0];return!l&&t.params.createElements&&(l=vf("div",t.params.wrapperClass),r.append(l),us(r,`.${t.params.slideClass}`).forEach(u=>{l.append(u)})),Object.assign(t,{el:r,wrapperEl:l,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:l,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Bo(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Bo(r,"direction")==="rtl"),wrongRTL:Bo(l,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(o=>{o.complete?qh(t,o):o.addEventListener("load",l=>{qh(t,l.target)})}),ay(t),t.initialized=!0,ay(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:o,wrapperEl:l,slides:u}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),l&&l.removeAttribute("style"),u&&u.length&&u.forEach(d=>{d.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(d=>{r.off(d)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),OD(r)),r.destroyed=!0),null}static extendDefaults(e){Pr(sg,e)}static get extendedDefaults(){return sg}static get defaults(){return ly}static installModule(e){Us.prototype.__modules__||(Us.prototype.__modules__=[]);const t=Us.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Us.installModule(t)),Us):(Us.installModule(e),Us)}};Object.keys(ig).forEach(n=>{Object.keys(ig[n]).forEach(e=>{$v.prototype[e]=ig[n][e]})});$v.use([HD,GD]);const ZI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Fa(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Bl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Fa(e[r])&&Fa(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Bl(n[r],e[r]):n[r]=e[r]})}function eA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function tA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function nA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function rA(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function XM(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function JM(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:o,prevEl:l,scrollbarEl:u,paginationEl:d}=n;const f=i.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:m,pagination:v,navigation:y,scrollbar:T,virtual:S,thumbs:P}=e;let N,k,R,M,z,Q,se,U;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(N=!0),i.includes("controller")&&r.controller&&r.controller.control&&m.controller&&!m.controller.control&&(k=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||d)&&(m.pagination||m.pagination===!1)&&v&&!v.el&&(R=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||u)&&(m.scrollbar||m.scrollbar===!1)&&T&&!T.el&&(M=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||l)&&(r.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&y&&!y.prevEl&&!y.nextEl&&(z=!0);const L=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),m[O].prevEl=void 0,m[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),m[O].el=void 0,e[O].el=void 0))};i.includes("loop")&&e.isElement&&(m.loop&&!r.loop?Q=!0:!m.loop&&r.loop?se=!0:U=!0),f.forEach(O=>{if(Fa(m[O])&&Fa(r[O]))Object.assign(m[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&L(O);else{const F=r[O];(F===!0||F===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?F===!1&&L(O):m[O]=r[O]}}),f.includes("controller")&&!k&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),i.includes("children")&&t&&S&&m.virtual.enabled?(S.slides=t,S.update(!0)):i.includes("virtual")&&S&&m.virtual.enabled&&(t&&(S.slides=t),S.update(!0)),i.includes("children")&&t&&m.loop&&(U=!0),N&&P.init()&&P.update(!0),k&&(e.controller.control=m.controller.control),R&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(m.pagination.el=d),v.init(),v.render(),v.update()),M&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-scrollbar"),u.part.add("scrollbar"),e.el.appendChild(u)),u&&(m.scrollbar.el=u),T.init(),T.updateSize(),T.setTranslate()),z&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),_f(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),_f(l,e.hostEl.constructor.prevButtonSvg),l.part.add("button-prev"),e.el.appendChild(l))),o&&(m.navigation.nextEl=o),l&&(m.navigation.prevEl=l),y.init(),y.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(Q||U)&&e.loopDestroy(),(se||U)&&e.loopCreate(),e.update()}function ZM(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};Bl(t,ly),t._emitClasses=!0,t.init=!1;const o={},l=ZI.map(d=>d.replace(/_/,"")),u=Object.assign({},n);return Object.keys(u).forEach(d=>{typeof n[d]>"u"||(l.indexOf(d)>=0?Fa(n[d])?(t[d]={},i[d]={},Bl(t[d],n[d]),Bl(i[d],n[d])):(t[d]=n[d],i[d]=n[d]):d.search(/on[A-Z]/)===0&&typeof n[d]=="function"?e?r[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:t.on[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:o[d]=n[d])}),["navigation","pagination","scrollbar"].forEach(d=>{t[d]===!0&&(t[d]={}),t[d]===!1&&delete t[d]}),{params:t,passedParams:i,rest:o,events:r}}function e5(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:o,scrollbarEl:l,swiper:u}=n;eA(e)&&r&&i&&(u.params.navigation.nextEl=r,u.originalParams.navigation.nextEl=r,u.params.navigation.prevEl=i,u.originalParams.navigation.prevEl=i),tA(e)&&o&&(u.params.pagination.el=o,u.originalParams.pagination.el=o),nA(e)&&l&&(u.params.scrollbar.el=l,u.originalParams.scrollbar.el=l),u.init(t)}function t5(n,e,t,r,i){const o=[];if(!e)return o;const l=d=>{o.indexOf(d)<0&&o.push(d)};if(t&&r){const d=r.map(i),f=t.map(i);d.join("")!==f.join("")&&l("children"),r.length!==t.length&&l("children")}return ZI.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in n&&d in e)if(Fa(n[d])&&Fa(e[d])){const f=Object.keys(n[d]),m=Object.keys(e[d]);f.length!==m.length?l(d):(f.forEach(v=>{n[d][v]!==e[d][v]&&l(d)}),m.forEach(v=>{n[d][v]!==e[d][v]&&l(d)}))}else n[d]!==e[d]&&l(d)}),o}const n5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Ef(){return Ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ef.apply(this,arguments)}function iA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function sA(n){const e=[];return We.Children.toArray(n).forEach(t=>{iA(t)?e.push(t):t.props&&t.props.children&&sA(t.props.children).forEach(r=>e.push(r))}),e}function r5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return We.Children.toArray(n).forEach(r=>{if(iA(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const i=sA(r.props.children);i.length>0?i.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function i5(n,e,t){if(!t)return null;const r=m=>{let v=m;return m<0?v=e.length+m:v>=e.length&&(v=v-e.length),v},i=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:l}=t,u=n.params.loop?-e.length:0,d=n.params.loop?e.length*2:e.length,f=[];for(let m=u;m<d;m+=1)m>=o&&m<=l&&f.push(e[r(m)]);return f.map((m,v)=>We.cloneElement(m,{swiper:n,style:i,key:m.props.virtualIndex||m.key||`slide-${v}`}))}function pc(n,e){return typeof window>"u"?G.useEffect(n,e):G.useLayoutEffect(n,e)}const IE=G.createContext(null),s5=G.createContext(null),oA=G.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:i="div",children:o,onSwiper:l,...u}=n===void 0?{}:n,d=!1;const[f,m]=G.useState("swiper"),[v,y]=G.useState(null),[T,S]=G.useState(!1),P=G.useRef(!1),N=G.useRef(null),k=G.useRef(null),R=G.useRef(null),M=G.useRef(null),z=G.useRef(null),Q=G.useRef(null),se=G.useRef(null),U=G.useRef(null),{params:L,passedParams:O,rest:F,events:A}=ZM(u),{slides:V,slots:x}=r5(o),le=()=>{S(!T)};Object.assign(L.on,{_containerClasses(re,Z){m(Z)}});const ue=()=>{Object.assign(L.on,A),d=!0;const re={...L};if(delete re.wrapperClass,k.current=new $v(re),k.current.virtual&&k.current.params.virtual.enabled){k.current.virtual.slides=V;const Z={cache:!1,slides:V,renderExternal:y,renderExternalUpdate:!1};Bl(k.current.params.virtual,Z),Bl(k.current.originalParams.virtual,Z)}};N.current||ue(),k.current&&k.current.on("_beforeBreakpoint",le);const X=()=>{d||!A||!k.current||Object.keys(A).forEach(re=>{k.current.on(re,A[re])})},oe=()=>{!A||!k.current||Object.keys(A).forEach(re=>{k.current.off(re,A[re])})};G.useEffect(()=>()=>{k.current&&k.current.off("_beforeBreakpoint",le)}),G.useEffect(()=>{!P.current&&k.current&&(k.current.emitSlidesClasses(),P.current=!0)}),pc(()=>{if(e&&(e.current=N.current),!!N.current)return k.current.destroyed&&ue(),e5({el:N.current,nextEl:z.current,prevEl:Q.current,paginationEl:se.current,scrollbarEl:U.current,swiper:k.current},L),l&&!k.current.destroyed&&l(k.current),()=>{k.current&&!k.current.destroyed&&k.current.destroy(!0,!1)}},[]),pc(()=>{X();const re=t5(O,R.current,V,M.current,Z=>Z.key);return R.current=O,M.current=V,re.length&&k.current&&!k.current.destroyed&&JM({swiper:k.current,slides:V,passedParams:O,changedParams:re,nextEl:z.current,prevEl:Q.current,scrollbarEl:U.current,paginationEl:se.current}),()=>{oe()}}),pc(()=>{n5(k.current)},[v]);function K(){return L.virtual?i5(k.current,V,v):V.map((re,Z)=>We.cloneElement(re,{swiper:k.current,swiperSlideIndex:Z}))}return We.createElement(r,Ef({ref:N,className:rA(`${f}${t?` ${t}`:""}`)},F),We.createElement(s5.Provider,{value:k.current},x["container-start"],We.createElement(i,{className:XM(L.wrapperClass)},x["wrapper-start"],K(),x["wrapper-end"]),eA(L)&&We.createElement(We.Fragment,null,We.createElement("div",{ref:Q,className:"swiper-button-prev"}),We.createElement("div",{ref:z,className:"swiper-button-next"})),nA(L)&&We.createElement("div",{ref:U,className:"swiper-scrollbar"}),tA(L)&&We.createElement("div",{ref:se,className:"swiper-pagination"}),x["container-end"]))});oA.displayName="Swiper";const aA=G.forwardRef(function(n,e){let{tag:t="div",children:r,className:i="",swiper:o,zoom:l,lazy:u,virtualIndex:d,swiperSlideIndex:f,...m}=n===void 0?{}:n;const v=G.useRef(null),[y,T]=G.useState("swiper-slide"),[S,P]=G.useState(!1);function N(z,Q,se){Q===v.current&&T(se)}pc(()=>{if(typeof f<"u"&&(v.current.swiperSlideIndex=f),e&&(e.current=v.current),!(!v.current||!o)){if(o.destroyed){y!=="swiper-slide"&&T("swiper-slide");return}return o.on("_slideClass",N),()=>{o&&o.off("_slideClass",N)}}}),pc(()=>{o&&v.current&&!o.destroyed&&T(o.getSlideClasses(v.current))},[o]);const k={isActive:y.indexOf("swiper-slide-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0},R=()=>typeof r=="function"?r(k):r,M=()=>{P(!0)};return We.createElement(t,Ef({ref:v,className:rA(`${y}${i?` ${i}`:""}`),"data-swiper-slide-index":d,onLoad:M},m),l&&We.createElement(IE.Provider,{value:k},We.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},R(),u&&!S&&We.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&We.createElement(IE.Provider,{value:k},R(),u&&!S&&We.createElement("div",{className:"swiper-lazy-preloader"})))});aA.displayName="SwiperSlide";function o5(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let o=us(n.el,`.${r[i]}`)[0];o||(o=vf("div",r[i]),o.className=r[i],n.el.append(o)),t[i]=o,e[i]=o}}),t}function Xu(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function a5(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let l,u=0;function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(R,M){const{bulletActiveClass:z}=e.params.pagination;R&&(R=R[`${M==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${z}-${M}`),R=R[`${M==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${z}-${M}-${M}`)))}function m(R,M,z){if(R=R%z,M=M%z,M===R+1)return"next";if(M===R-1)return"previous"}function v(R){const M=R.target.closest(Xu(e.params.pagination.bulletClass));if(!M)return;R.preventDefault();const z=wf(M)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===z)return;const Q=m(e.realIndex,z,e.slides.length);Q==="next"?e.slideNext():Q==="previous"?e.slidePrev():e.slideToLoop(z)}else e.slideTo(z)}function y(){const R=e.rtl,M=e.params.pagination;if(d())return;let z=e.pagination.el;z=Vs(z);let Q,se;const U=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,L=e.params.loop?Math.ceil(U/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(se=e.previousRealIndex||0,Q=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(Q=e.snapIndex,se=e.previousSnapIndex):(se=e.previousIndex||0,Q=e.activeIndex||0),M.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let F,A,V;if(M.dynamicBullets&&(l=oy(O[0],e.isHorizontal()?"width":"height"),z.forEach(x=>{x.style[e.isHorizontal()?"width":"height"]=`${l*(M.dynamicMainBullets+4)}px`}),M.dynamicMainBullets>1&&se!==void 0&&(u+=Q-(se||0),u>M.dynamicMainBullets-1?u=M.dynamicMainBullets-1:u<0&&(u=0)),F=Math.max(Q-u,0),A=F+(Math.min(O.length,M.dynamicMainBullets)-1),V=(A+F)/2),O.forEach(x=>{const le=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ue=>`${M.bulletActiveClass}${ue}`)].map(ue=>typeof ue=="string"&&ue.includes(" ")?ue.split(" "):ue).flat();x.classList.remove(...le)}),z.length>1)O.forEach(x=>{const le=wf(x);le===Q?x.classList.add(...M.bulletActiveClass.split(" ")):e.isElement&&x.setAttribute("part","bullet"),M.dynamicBullets&&(le>=F&&le<=A&&x.classList.add(...`${M.bulletActiveClass}-main`.split(" ")),le===F&&f(x,"prev"),le===A&&f(x,"next"))});else{const x=O[Q];if(x&&x.classList.add(...M.bulletActiveClass.split(" ")),e.isElement&&O.forEach((le,ue)=>{le.setAttribute("part",ue===Q?"bullet-active":"bullet")}),M.dynamicBullets){const le=O[F],ue=O[A];for(let X=F;X<=A;X+=1)O[X]&&O[X].classList.add(...`${M.bulletActiveClass}-main`.split(" "));f(le,"prev"),f(ue,"next")}}if(M.dynamicBullets){const x=Math.min(O.length,M.dynamicMainBullets+4),le=(l*x-l)/2-V*l,ue=R?"right":"left";O.forEach(X=>{X.style[e.isHorizontal()?ue:"top"]=`${le}px`})}}z.forEach((O,F)=>{if(M.type==="fraction"&&(O.querySelectorAll(Xu(M.currentClass)).forEach(A=>{A.textContent=M.formatFractionCurrent(Q+1)}),O.querySelectorAll(Xu(M.totalClass)).forEach(A=>{A.textContent=M.formatFractionTotal(L)})),M.type==="progressbar"){let A;M.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const V=(Q+1)/L;let x=1,le=1;A==="horizontal"?x=V:le=V,O.querySelectorAll(Xu(M.progressbarFillClass)).forEach(ue=>{ue.style.transform=`translate3d(0,0,0) scaleX(${x}) scaleY(${le})`,ue.style.transitionDuration=`${e.params.speed}ms`})}M.type==="custom"&&M.renderCustom?(_f(O,M.renderCustom(e,Q+1,L)),F===0&&i("paginationRender",O)):(F===0&&i("paginationRender",O),i("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](M.lockClass)})}function T(){const R=e.params.pagination;if(d())return;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let z=e.pagination.el;z=Vs(z);let Q="";if(R.type==="bullets"){let se=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&se>M&&(se=M);for(let U=0;U<se;U+=1)R.renderBullet?Q+=R.renderBullet.call(e,U,R.bulletClass):Q+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?Q=R.renderFraction.call(e,R.currentClass,R.totalClass):Q=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?Q=R.renderProgressbar.call(e,R.progressbarFillClass):Q=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],z.forEach(se=>{R.type!=="custom"&&_f(se,Q||""),R.type==="bullets"&&e.pagination.bullets.push(...se.querySelectorAll(Xu(R.bulletClass)))}),R.type!=="custom"&&i("paginationRender",z[0])}function S(){e.params.pagination=o5(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let M;typeof R.el=="string"&&e.isElement&&(M=e.el.querySelector(R.el)),!M&&typeof R.el=="string"&&(M=[...document.querySelectorAll(R.el)]),M||(M=R.el),!(!M||M.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(M)&&M.length>1&&(M=[...e.el.querySelectorAll(R.el)],M.length>1&&(M=M.find(z=>WI(z,".swiper")[0]===e.el))),Array.isArray(M)&&M.length===1&&(M=M[0]),Object.assign(e.pagination,{el:M}),M=Vs(M),M.forEach(z=>{R.type==="bullets"&&R.clickable&&z.classList.add(...(R.clickableClass||"").split(" ")),z.classList.add(R.modifierClass+R.type),z.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(z.classList.add(`${R.modifierClass}${R.type}-dynamic`),u=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&z.classList.add(R.progressbarOppositeClass),R.clickable&&z.addEventListener("click",v),e.enabled||z.classList.add(R.lockClass)}))}function P(){const R=e.params.pagination;if(d())return;let M=e.pagination.el;M&&(M=Vs(M),M.forEach(z=>{z.classList.remove(R.hiddenClass),z.classList.remove(R.modifierClass+R.type),z.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(z.classList.remove(...(R.clickableClass||"").split(" ")),z.removeEventListener("click",v))})),e.pagination.bullets&&e.pagination.bullets.forEach(z=>z.classList.remove(...R.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:M}=e.pagination;M=Vs(M),M.forEach(z=>{z.classList.remove(R.horizontalClass,R.verticalClass),z.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?k():(S(),T(),y())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&y()}),r("snapIndexChange",()=>{y()}),r("snapGridLengthChange",()=>{T(),y()}),r("destroy",()=>{P()}),r("enable disable",()=>{let{el:R}=e.pagination;R&&(R=Vs(R),R.forEach(M=>M.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{y()}),r("click",(R,M)=>{const z=M.target,Q=Vs(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&Q&&Q.length>0&&!z.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&z===e.navigation.nextEl||e.navigation.prevEl&&z===e.navigation.prevEl))return;const se=Q[0].classList.contains(e.params.pagination.hiddenClass);i(se===!0?"paginationShow":"paginationHide"),Q.forEach(U=>U.classList.toggle(e.params.pagination.hiddenClass))}});const N=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Vs(R),R.forEach(M=>M.classList.remove(e.params.pagination.paginationDisabledClass))),S(),T(),y()},k=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Vs(R),R.forEach(M=>M.classList.add(e.params.pagination.paginationDisabledClass))),P()};Object.assign(e.pagination,{enable:N,disable:k,render:T,update:y,init:S,destroy:P})}function l5(n){let{swiper:e,extendParams:t,on:r,emit:i,params:o}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let l,u,d=o&&o.autoplay?o.autoplay.delay:3e3,f=o&&o.autoplay?o.autoplay.delay:3e3,m,v=new Date().getTime(),y,T,S,P,N,k,R;function M(K){!e||e.destroyed||!e.wrapperEl||K.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",M),!(R||K.detail&&K.detail.bySwiperTouchMove)&&F())}const z=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?y=!0:y&&(f=m,y=!1);const K=e.autoplay.paused?m:v+f-new Date().getTime();e.autoplay.timeLeft=K,i("autoplayTimeLeft",K,K/d),u=requestAnimationFrame(()=>{z()})},Q=()=>{let K;return e.virtual&&e.params.virtual.enabled?K=e.slides.find(Z=>Z.classList.contains("swiper-slide-active")):K=e.slides[e.activeIndex],K?parseInt(K.getAttribute("data-swiper-autoplay"),10):void 0},se=K=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(u),z();let re=typeof K>"u"?e.params.autoplay.delay:K;d=e.params.autoplay.delay,f=e.params.autoplay.delay;const Z=Q();!Number.isNaN(Z)&&Z>0&&typeof K>"u"&&(re=Z,d=Z,f=Z),m=re;const $=e.params.speed,ee=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev($,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,$,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext($,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,$,!0,!0),i("autoplay")),e.params.cssMode&&(v=new Date().getTime(),requestAnimationFrame(()=>{se()})))};return re>0?(clearTimeout(l),l=setTimeout(()=>{ee()},re)):requestAnimationFrame(()=>{ee()}),re},U=()=>{v=new Date().getTime(),e.autoplay.running=!0,se(),i("autoplayStart")},L=()=>{e.autoplay.running=!1,clearTimeout(l),cancelAnimationFrame(u),i("autoplayStop")},O=(K,re)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(l),K||(k=!0);const Z=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",M):F()};if(e.autoplay.paused=!0,re){N&&(m=e.params.autoplay.delay),N=!1,Z();return}m=(m||e.params.autoplay.delay)-(new Date().getTime()-v),!(e.isEnd&&m<0&&!e.params.loop)&&(m<0&&(m=0),Z())},F=()=>{e.isEnd&&m<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(v=new Date().getTime(),k?(k=!1,se(m)):se(),e.autoplay.paused=!1,i("autoplayResume"))},A=()=>{if(e.destroyed||!e.autoplay.running)return;const K=fs();K.visibilityState==="hidden"&&(k=!0,O(!0)),K.visibilityState==="visible"&&F()},V=K=>{K.pointerType==="mouse"&&(k=!0,R=!0,!(e.animating||e.autoplay.paused)&&O(!0))},x=K=>{K.pointerType==="mouse"&&(R=!1,e.autoplay.paused&&F())},le=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",V),e.el.addEventListener("pointerleave",x))},ue=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",V),e.el.removeEventListener("pointerleave",x))},X=()=>{fs().addEventListener("visibilitychange",A)},oe=()=>{fs().removeEventListener("visibilitychange",A)};r("init",()=>{e.params.autoplay.enabled&&(le(),X(),U())}),r("destroy",()=>{ue(),oe(),e.autoplay.running&&L()}),r("_freeModeStaticRelease",()=>{(S||k)&&F()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?L():O(!0,!0)}),r("beforeTransitionStart",(K,re,Z)=>{e.destroyed||!e.autoplay.running||(Z||!e.params.autoplay.disableOnInteraction?O(!0,!0):L())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){L();return}T=!0,S=!1,k=!1,P=setTimeout(()=>{k=!0,S=!0,O(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!T)){if(clearTimeout(P),clearTimeout(l),e.params.autoplay.disableOnInteraction){S=!1,T=!1;return}S&&e.params.cssMode&&F(),S=!1,T=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(N=!0)}),Object.assign(e.autoplay,{start:U,stop:L,pause:O,resume:F})}const u5="/assets/BANNER1-CJ6Z5JOa.jpeg",c5="/assets/Damas-BTpvjFpM.png",d5="/assets/ut-BugiltBO.png",h5="/assets/unsoed-B3eRxl1s.png",f5="/assets/noovoleum-BDonXb3n.jpeg",p5="/assets/dndkirim-D43vG1Cq.webp",AE="/assets/jala-blue-CV5kWlPR.jpeg";function m5(){const n={background:`url(${u5}) center / cover no-repeat fixed`},{targetRef:e,childRef:t}=jI(),[r,i]=G.useState([]),[o,l]=G.useState(!0),[u,d]=G.useState(null),f=G.useRef(null);Bv(".popup, .popup-int, .popup-left, .popup-right, .popup-up, .popup-down, .popup-fade"),G.useEffect(()=>{async function v(){l(!0),d(null);try{const y=await Kf("projects","createdAt");i(y)}catch(y){console.error("Error fetching projects:",y)}finally{l(!1)}}v()},[]);const m=r.slice(0,12);return G.useEffect(()=>{const v=["Empowering Communities","Driving Innovation","Bridging Technology","Sustainable Solutions","Optimizing Impact","Transforming Industries","Fostering Growth"];let P=0,N=0,k;function R(){f.current&&(N<v[P].length?(f.current.innerHTML=v[P].substring(0,N+1),N++,k=setTimeout(R,100)):k=setTimeout(M,3e3))}function M(){f.current&&(N>0?(f.current.innerHTML=v[P].substring(0,N-1),N--,k=setTimeout(M,50)):(P=(P+1)%v.length,k=setTimeout(R,100)))}return R(),()=>clearTimeout(k)},[]),b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"D B I CIPTA | HOME"}),b.jsx("meta",{name:"description",content:"Explore a portfolio showcasing innovative projects in technology, sustainability and community empowerment."})]}),b.jsx(Rr,{id:"hero",children:b.jsx("div",{className:"container",ref:e,style:n,children:b.jsxs("div",{className:"section-heading",ref:t,children:[b.jsx("h1",{className:"popup",children:"Damas Bahagia"}),b.jsx("h2",{className:"popup typewriter-text",ref:f}),b.jsx("div",{className:"btn popup",children:b.jsx("a",{href:"#about",children:b.jsx(Cg,{})})})]})})}),b.jsx(Rr,{id:"about",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading",children:[b.jsx("h2",{className:"section-title popup",children:"About Me"}),b.jsxs("p",{className:"popup",children:["Hi, I'm Damas Bahagia Ika Cipta — a professional passionate about community development, business, sustainability, and web development.",b.jsx("br",{}),b.jsx("br",{}),"My focus lies in empowerment, innovation, and technology-driven solutions to create positive impact. With experience across diverse industries (aquaculture, logistics, waste management), I consistently bring both empathy and execution to every project.",b.jsx("br",{}),b.jsx("br",{})," I'm eager to collaborate on projects and partnerships that aim to make a real difference. Let's connect!"]}),b.jsxs("div",{className:"social-icons",children:[b.jsx("a",{href:"mailhref:bahagiadamas@gmail.com",target:"_blank",className:"popup-int",style:{display:"inline-block"},children:b.jsx(aS,{className:"icon"})}),b.jsx("a",{href:"https://github.com/bahagiadamas",className:"popup-int",style:{display:"inline-block"},target:"_blank",children:b.jsx(sS,{className:"icon"})}),b.jsx("a",{href:"mailto:https://www.linkedin.com/in/damas-bahagia-ika-cipta-958261220/@gmail.com",className:"popup-int",style:{display:"inline-block"},target:"_blank",children:b.jsx(oS,{className:"icon"})})]})]}),b.jsx("div",{className:"about-img popup",children:b.jsx("img",{src:c5,alt:"Damas Bahagia Ika Cipta",loading:"lazy"})})]})}),b.jsx(Rr,{id:"skill",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading",children:[b.jsx("h2",{className:"section-title popup",children:"Core Competencies"}),b.jsx("p",{className:"popup",children:"Combining technology, sustainability, and community-driven strategies, I bring practical skills that accelerate growth and generate long-term impact. These are the strengths I apply to lead change and deliver results."})]}),b.jsxs("div",{className:"skill-container",children:[b.jsxs("div",{className:"skill-item popup-int",children:[b.jsx("div",{className:"icon-wrapper",children:b.jsx(jN,{className:"icon"})}),b.jsxs("div",{className:"item-body",children:[b.jsx("h4",{className:"item-title",children:"Technology & Digital Solutions"}),b.jsx("p",{children:"Proficient in web development, digital platforms, and leveraging technology for efficiency and innovation."})]})]}),b.jsxs("div",{className:"skill-item popup-int",children:[b.jsx("div",{className:"icon-wrapper",children:b.jsx(HN,{className:"icon"})}),b.jsxs("div",{className:"item-body",children:[b.jsx("h4",{className:"item-title",children:"Data & Productivity Optimization"}),b.jsx("p",{children:"Skilled in organizing, analyzing, and utilizing data-driven tools for better decision-making and workflow management."})]})]}),b.jsxs("div",{className:"skill-item popup-int",children:[b.jsx("div",{className:"icon-wrapper",children:b.jsx(qN,{className:"icon"})}),b.jsxs("div",{className:"item-body",children:[b.jsx("h4",{className:"item-title",children:"Community & Sustainability"}),b.jsx("p",{children:"Experienced in empowering communities, fostering partnerships, and implementing sustainable solutions for long-term impact."})]})]})]})]})}),b.jsx(Rr,{id:"education",children:b.jsxs("div",{className:"container",children:[b.jsx("h2",{className:"popup section-title popup",children:"Education"}),b.jsx("div",{className:"edu-container",children:b.jsxs("div",{className:"timeline-component",children:[b.jsx("div",{className:"timeline-progress popup",children:b.jsx("div",{className:"timeline-progress-bar"})}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"September 2023 - Present"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle edu ut",children:b.jsx("img",{src:d5,alt:"UT",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"Terbuka University"}),b.jsx("p",{className:"tagline popup",children:"Bachelor Degree in General Management"}),b.jsx("p",{className:"popup",children:"Currently pursuing a Bachelor’s degree focused on strategic and operational functions in business, including marketing, finance, human resources, and organizational management. The program equips me with analytical, leadership, and decision-making skills to effectively develop and execute business strategies across various industries."})]})})]}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"September 2018 - 2021"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle edu unsoed",children:b.jsx("img",{src:h5,alt:"UNSOED",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"Jenderal Soedirman University"}),b.jsx("p",{className:"tagline popup",children:"Associate Degree in Aquaculture"}),b.jsx("p",{className:"popup",children:"Completed an Associate’s Degree with a focus on aquaculture science, combining both theoretical and hands-on learning. Gained practical experience in field operations, problem-solving, and process optimization, while developing strong analytical and communication skills applicable to various technical and community-based roles."})]})})]})]})})]})}),b.jsx(Rr,{id:"experiences",children:b.jsxs("div",{className:"container",children:[b.jsx("h2",{className:"popup section-title",children:"Experiences"}),b.jsx("div",{className:"expe-container",children:b.jsxs("div",{className:"timeline-component",children:[b.jsx("div",{className:"timeline-progress popup",children:b.jsx("div",{className:"timeline-progress-bar"})}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"September 2024 - Present"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle expe noov",children:b.jsx("img",{src:f5,alt:"noov",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"noovoleum"}),b.jsx("p",{className:"tagline popup",children:"Community Engagement Officer - Jakarta - Palembang"}),b.jsx("p",{className:"popup",children:"Lead community-based initiatives to support waste oil collection by engaging households, food vendors, and small producers. Built and maintained strong local relationships through outreach and education programs. Worked cross-functionally to ensure operational efficiency, while utilizing AI tools to optimize data tracking and reporting across collection activities."})]})})]}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"February - September 2024"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle expe dnd",children:b.jsx("img",{src:p5,alt:"dnd",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"DND Kirim Indonesia"}),b.jsx("p",{className:"tagline popup",children:"Business Development - Jakarta"}),b.jsx("p",{className:"popup",children:"Identified and pursued new business opportunities aligned with company goals. Developed market-entry strategies, led client acquisition campaigns, and collaborated with marketing to create impactful promotional content. Managed key partnerships, negotiated terms, and tracked performance to maximize growth and client satisfaction."})]})})]}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"January - October 2023"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle expe jala",children:b.jsx("img",{src:AE,alt:"jala",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"JALA Tech"}),b.jsx("p",{className:"tagline popup",children:"Community Development Executive - Yogyakarta"}),b.jsx("p",{className:"popup",children:"Managed online and offline customer communities, fostering engagement and collaboration. Developed affiliate and partnership networks to expand user reach. Conducted research and community mapping to align initiatives with local needs. Worked closely with marketing and sales teams to drive product adoption and upselling through community-led strategies."})]})})]}),b.jsxs("div",{className:"timeline-item",children:[b.jsx("div",{className:"timeline-left",children:b.jsx("h3",{className:"timeline-date popup",children:"May - December 2022"})}),b.jsx("div",{className:"timeline-center popup",children:b.jsx("div",{className:"timeline-circle expe jala",children:b.jsx("img",{src:AE,alt:"jala",loading:"lazy"})})}),b.jsx("div",{className:"timeline-right",children:b.jsxs("div",{className:"timeline-text",children:[b.jsx("h3",{className:"popup",children:"JALA Tech"}),b.jsx("p",{className:"tagline popup",children:"Field Assistant - Cirebon"}),b.jsx("p",{className:"popup",children:"Provided on-the-ground support to shrimp farmers, including daily monitoring and training on aquaculture best practices. Facilitated workshops to promote inclusive participation in the industry. Supported the implementation of field programs, improving awareness and adoption of digital tools in rural aquaculture communities."})]})})]})]})})]})}),b.jsx(Rr,{id:"projects",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading",children:[b.jsx("h2",{className:"section-title popup",children:"Driving Innovation Through Action"}),b.jsx("p",{className:"popup",children:"Each project reflects a commitment to meaningful progress. From grassroots initiatives to collaborative programs, here are selected activities where I’ve contributed to growth, engagement, and practical change in the field."}),b.jsx("a",{href:"/projects",className:"button popup",style:{display:"block"},children:"Explore Projects"})]}),o?b.jsx("p",{style:{textAlign:"center",padding:"50px 0"},children:"Loading Projects..."}):u?b.jsx("p",{style:{textAlign:"center",padding:"50px 0",color:"red"},children:u}):m.length>0?b.jsx(oA,{className:"popup",modules:[l5,a5],loop:!0,speed:2e3,spaceBetween:20,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{clickable:!0,dynamicBullets:!0},breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:m.map(v=>b.jsx(aA,{children:b.jsxs(Bc,{to:`/projects/${v.id}`,className:"project-item",children:[b.jsx("div",{className:"img-wrapper",children:b.jsx("img",{src:v.imgUrl,alt:v.title,loading:"lazy"})}),b.jsx("h4",{className:"project-title",children:v.title})]})},v.id))}):b.jsx("p",{style:{textAlign:"center",padding:"50px 0"},children:"No projects available."})]})}),b.jsx(oD,{}),b.jsx(yu,{})]})}function lA({onSearch:n}){const[e,t]=G.useState(""),r=i=>{const o=i.target.value;t(o),n(o)};return b.jsx(b.Fragment,{children:b.jsx("input",{type:"text",placeholder:"Search...",autoComplete:"off",onChange:r,value:e,className:"search-bar"})})}function g5(){const[n,e]=G.useState(!0),[t,r]=G.useState([]),[i,o]=G.useState([]),[l,u]=G.useState("");Bv(".popup, .popup-int",t.length),G.useEffect(()=>{async function f(){e(!0);try{const m=await Kf("projects","createdAt");r(m),o(m)}catch(m){console.error("Error fetching projects:",m)}finally{e(!1)}}f()},[]);const d=f=>{if(u(f),f.trim()===""){o(t);return}const m=f.toLowerCase(),v=t.filter(y=>{const T=y.title.toLowerCase().includes(m),S=y.body.toLowerCase().includes(m);return T||S});o(v)};return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"D B I CIPTA | Projects"}),b.jsx("meta",{name:"description",content:"Explore projects and activities from Damas Bahagia Ika Cipta"})]}),b.jsx(Rr,{id:"projects-page",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading",children:[b.jsx("h2",{className:"section-title",children:"My Projects & Initiatives"}),b.jsx(lA,{onSearch:d})]}),b.jsx("div",{className:"projects-container",children:n?b.jsx("p",{children:"Loading Projects..."}):i.length>0?i.map(f=>b.jsxs(Bc,{to:`/projects/${f.id}`,className:"project-item popup-int",children:[b.jsx("div",{className:"img-wrapper",children:b.jsx("img",{src:f.imgUrl,alt:f.title,loading:"lazy"})}),b.jsx("h4",{className:"project-title",children:f.title})]},f.id)):b.jsxs("p",{children:['No projects found for "',l,'".']})})]})}),b.jsx(yu,{})]})}function y5(){const{id:n}=HT(),[e,t]=G.useState(null),[r,i]=G.useState(!0),{targetRef:o,childRef:l}=jI();Bv(".popup-fade",e),G.useEffect(()=>{async function f(){i(!0);try{const m=Cc(Va,"projects",n),v=await rI(m);v.exists()?t({id:v.id,...v.data()}):console.log("Project not found.")}catch(m){console.error("Error fetching project:",m)}finally{i(!1)}}n&&f()},[n]);const u=f=>f&&f.description?f.description:"Explore interesting project details from my portfolio.";if(r)return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"Loading Project..."}),b.jsx("meta",{name:"description",content:"Loading project from Damas Bahagia Ika Cipta. Please wait."})]}),b.jsx("p",{children:"Loading project details..."})]});if(!e)return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"Project Not Found"}),b.jsx("meta",{name:"description",content:"Project not found."})]}),b.jsx("p",{children:"Project not found."})]});const d=u(e);return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsxs("title",{children:["Project | ",e.title]}),b.jsx("meta",{name:"description",content:d}),b.jsx("meta",{property:"og:title",content:e.title}),b.jsx("meta",{property:"og:description",content:d}),b.jsx("meta",{property:"og:url",content:window.location.href}),e.imgUrl&&b.jsx("meta",{property:"og:image",content:e.imgUrl}),b.jsx("meta",{property:"og:type",content:"article"}),b.jsx("link",{rel:"canoical",href:window.location.href})]}),b.jsx(Rr,{id:"project-detail",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"banner-wrapper",ref:o,children:[b.jsx("img",{src:e.imgUrl,alt:e.title,loading:"lazy"}),b.jsx("h1",{className:"project-title popup-fade",ref:l,children:e.title})]}),b.jsx("div",{className:"body",children:b.jsx("p",{dangerouslySetInnerHTML:{__html:e.body}})})]})}),b.jsx(yu,{})]})}const v5=()=>{const[n,e]=G.useState(null),[t,r]=G.useState(!0);G.useEffect(()=>{const o=bI(Zc,l=>{e(l),r(!1),console.log("Auth State Changed: ",l?l.uid:"null")});return()=>o()},[]);const i=G.useCallback(async()=>{console.log("Attempting to log out..."),await tD()},[]);return{currentUser:n,isLoadingAuth:t,handleLogout:i}};function w5(){const{currentUser:n,handleLogout:e}=v5(),[t,r]=G.useState([]),[i,o]=G.useState([]),[l,u]=G.useState(""),[d,f]=G.useState(!0),m=$a(),v=to(),y=async()=>{await e(),m("/login")},T=G.useCallback(async()=>{f(!0);try{const N=await Kf("projects","createdAt");if(r(N),l.trim()!==""){const k=l.toLowerCase(),R=N.filter(M=>M.title.toLowerCase().includes(k)||M.description&&M.description.toLowerCase().includes(k));o(R)}else o(N)}catch(N){console.error("Error fetching projects:",N)}finally{f(!1)}},[l]);G.useEffect(()=>{T(),v.state&&v.state.refresh&&(T(),m(v.pathname,{replace:!0,state:{}}))},[T,v.state,m]);const S=N=>{if(u(N),N.trim()===""){o(t);return}const k=N.toLowerCase(),R=t.filter(M=>{const z=M.title.toLowerCase().includes(k),Q=M.body.toLowerCase().includes(k);return z||Q});o(R)},P=async N=>{if(window.confirm("Are you sure want to delete this project?"))try{await YL(Cc(Va,"projects",N)),alert("Project deleted successfully"),T()}catch(R){console.error("Failed to delete project: ",R)}};return b.jsxs(b.Fragment,{children:[b.jsx(Rr,{id:"admin-page",children:b.jsxs("div",{className:"container",children:[b.jsxs("div",{className:"section-heading",children:[b.jsx("h2",{className:"section-title",children:"Admin Page"}),b.jsxs("button",{onClick:y,className:"button",children:[b.jsx(VN,{className:"icon"}),"Logout"]})]}),b.jsxs("div",{className:"section-body",children:[n?b.jsxs("p",{children:["Halo, Admin ",n.displayName||n.email,"!"]}):b.jsx("p",{children:"Memuat informasi pengguna..."}),b.jsxs("div",{className:"table-heading",children:[b.jsx("h3",{children:"Project List"}),b.jsx(lA,{onSearch:S}),b.jsxs("button",{onClick:()=>m("/admin/new-project",{state:{refresh:!0}}),className:"button",children:[b.jsx(DN,{className:"icon"}),b.jsx("span",{children:"Project"})]})]}),b.jsx("div",{className:"table-wrapper",children:b.jsxs("table",{className:"projects-table",children:[b.jsx("thead",{children:b.jsxs("tr",{children:[b.jsx("th",{children:"Title"}),b.jsx("th",{children:"Action"})]})}),b.jsx("tbody",{children:d?b.jsx("tr",{children:b.jsx("td",{colSpan:"2",style:{textAlign:"center"},children:"Loading Data..."})}):i.length>0?i.map(N=>b.jsxs("tr",{children:[b.jsx("td",{children:b.jsx(Bc,{className:"project-title",to:`/projects/${N.id}`,children:N.title})}),b.jsxs("td",{className:"action-button",children:[b.jsx("button",{className:"edit-btn",onClick:()=>m(`/admin/edit-project/${N.id}`,{state:{refresh:!0}}),children:b.jsx(BN,{className:"icon"})}),b.jsx("button",{className:"delete-btn",onClick:()=>P(N.id),children:b.jsx(WN,{className:"icon"})})]})]},N.id)):b.jsx("tr",{children:b.jsxs("td",{colSpan:"2",style:{textAlign:"center"},children:['No projects found for "',l,'".']})})})]})})]})]})}),b.jsx(yu,{})]})}var uA=typeof global=="object"&&global&&global.Object===Object&&global,_5=typeof self=="object"&&self&&self.Object===Object&&self,_s=uA||_5||Function("return this")(),na=_s.Symbol,cA=Object.prototype,E5=cA.hasOwnProperty,T5=cA.toString,Ju=na?na.toStringTag:void 0;function S5(n){var e=E5.call(n,Ju),t=n[Ju];try{n[Ju]=void 0;var r=!0}catch{}var i=T5.call(n);return r&&(e?n[Ju]=t:delete n[Ju]),i}var b5=Object.prototype,I5=b5.toString;function A5(n){return I5.call(n)}var x5="[object Null]",C5="[object Undefined]",xE=na?na.toStringTag:void 0;function wu(n){return n==null?n===void 0?C5:x5:xE&&xE in Object(n)?S5(n):A5(n)}function Js(n){return n!=null&&typeof n=="object"}var Ua=Array.isArray;function oa(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function dA(n){return n}var N5="[object AsyncFunction]",P5="[object Function]",R5="[object GeneratorFunction]",k5="[object Proxy]";function zv(n){if(!oa(n))return!1;var e=wu(n);return e==P5||e==R5||e==N5||e==k5}var og=_s["__core-js_shared__"],CE=function(){var n=/[^.]+$/.exec(og&&og.keys&&og.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function L5(n){return!!CE&&CE in n}var O5=Function.prototype,D5=O5.toString;function Wa(n){if(n!=null){try{return D5.call(n)}catch{}try{return n+""}catch{}}return""}var M5=/[\\^$.*+?()[\]{}|]/g,j5=/^\[object .+?Constructor\]$/,V5=Function.prototype,F5=Object.prototype,U5=V5.toString,B5=F5.hasOwnProperty,q5=RegExp("^"+U5.call(B5).replace(M5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $5(n){if(!oa(n)||L5(n))return!1;var e=zv(n)?q5:j5;return e.test(Wa(n))}function z5(n,e){return n==null?void 0:n[e]}function Ka(n,e){var t=z5(n,e);return $5(t)?t:void 0}var uy=Ka(_s,"WeakMap"),NE=Object.create,H5=function(){function n(){}return function(e){if(!oa(e))return{};if(NE)return NE(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function G5(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function W5(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var K5=800,Q5=16,Y5=Date.now;function X5(n){var e=0,t=0;return function(){var r=Y5(),i=Q5-(r-t);if(t=r,i>0){if(++e>=K5)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function J5(n){return function(){return n}}var Tf=function(){try{var n=Ka(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Z5=Tf?function(n,e){return Tf(n,"toString",{configurable:!0,enumerable:!1,value:J5(e),writable:!0})}:dA,e6=X5(Z5);function t6(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var n6=9007199254740991,r6=/^(?:0|[1-9]\d*)$/;function hA(n,e){var t=typeof n;return e=e??n6,!!e&&(t=="number"||t!="symbol"&&r6.test(n))&&n>-1&&n%1==0&&n<e}function Hv(n,e,t){e=="__proto__"&&Tf?Tf(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ed(n,e){return n===e||n!==n&&e!==e}var i6=Object.prototype,s6=i6.hasOwnProperty;function fA(n,e,t){var r=n[e];(!(s6.call(n,e)&&ed(r,t))||t===void 0&&!(e in n))&&Hv(n,e,t)}function o6(n,e,t,r){var i=!t;t||(t={});for(var o=-1,l=e.length;++o<l;){var u=e[o],d=void 0;d===void 0&&(d=n[u]),i?Hv(t,u,d):fA(t,u,d)}return t}var PE=Math.max;function a6(n,e,t){return e=PE(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=PE(r.length-e,0),l=Array(o);++i<o;)l[i]=r[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=r[i];return u[e]=t(l),G5(n,this,u)}}function l6(n,e){return e6(a6(n,e,dA),n+"")}var u6=9007199254740991;function pA(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=u6}function Qf(n){return n!=null&&pA(n.length)&&!zv(n)}function c6(n,e,t){if(!oa(t))return!1;var r=typeof e;return(r=="number"?Qf(t)&&hA(e,t.length):r=="string"&&e in t)?ed(t[e],n):!1}function d6(n){return l6(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,l=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,l&&c6(t[0],t[1],l)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var u=t[r];u&&n(e,u,r,o)}return e})}var h6=Object.prototype;function Gv(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||h6;return n===t}function f6(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var p6="[object Arguments]";function RE(n){return Js(n)&&wu(n)==p6}var mA=Object.prototype,m6=mA.hasOwnProperty,g6=mA.propertyIsEnumerable,cy=RE(function(){return arguments}())?RE:function(n){return Js(n)&&m6.call(n,"callee")&&!g6.call(n,"callee")};function y6(){return!1}var gA=typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,kE=gA&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,v6=kE&&kE.exports===gA,LE=v6?_s.Buffer:void 0,w6=LE?LE.isBuffer:void 0,kc=w6||y6,_6="[object Arguments]",E6="[object Array]",T6="[object Boolean]",S6="[object Date]",b6="[object Error]",I6="[object Function]",A6="[object Map]",x6="[object Number]",C6="[object Object]",N6="[object RegExp]",P6="[object Set]",R6="[object String]",k6="[object WeakMap]",L6="[object ArrayBuffer]",O6="[object DataView]",D6="[object Float32Array]",M6="[object Float64Array]",j6="[object Int8Array]",V6="[object Int16Array]",F6="[object Int32Array]",U6="[object Uint8Array]",B6="[object Uint8ClampedArray]",q6="[object Uint16Array]",$6="[object Uint32Array]",xt={};xt[D6]=xt[M6]=xt[j6]=xt[V6]=xt[F6]=xt[U6]=xt[B6]=xt[q6]=xt[$6]=!0;xt[_6]=xt[E6]=xt[L6]=xt[T6]=xt[O6]=xt[S6]=xt[b6]=xt[I6]=xt[A6]=xt[x6]=xt[C6]=xt[N6]=xt[P6]=xt[R6]=xt[k6]=!1;function z6(n){return Js(n)&&pA(n.length)&&!!xt[wu(n)]}function Wv(n){return function(e){return n(e)}}var yA=typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,mc=yA&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,H6=mc&&mc.exports===yA,ag=H6&&uA.process,eu=function(){try{var n=mc&&mc.require&&mc.require("util").types;return n||ag&&ag.binding&&ag.binding("util")}catch{}}(),OE=eu&&eu.isTypedArray,Kv=OE?Wv(OE):z6,G6=Object.prototype,W6=G6.hasOwnProperty;function vA(n,e){var t=Ua(n),r=!t&&cy(n),i=!t&&!r&&kc(n),o=!t&&!r&&!i&&Kv(n),l=t||r||i||o,u=l?f6(n.length,String):[],d=u.length;for(var f in n)(e||W6.call(n,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||hA(f,d)))&&u.push(f);return u}function wA(n,e){return function(t){return n(e(t))}}var K6=wA(Object.keys,Object),Q6=Object.prototype,Y6=Q6.hasOwnProperty;function X6(n){if(!Gv(n))return K6(n);var e=[];for(var t in Object(n))Y6.call(n,t)&&t!="constructor"&&e.push(t);return e}function J6(n){return Qf(n)?vA(n):X6(n)}function Z6(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var ej=Object.prototype,tj=ej.hasOwnProperty;function nj(n){if(!oa(n))return Z6(n);var e=Gv(n),t=[];for(var r in n)r=="constructor"&&(e||!tj.call(n,r))||t.push(r);return t}function _A(n){return Qf(n)?vA(n,!0):nj(n)}var Lc=Ka(Object,"create");function rj(){this.__data__=Lc?Lc(null):{},this.size=0}function ij(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var sj="__lodash_hash_undefined__",oj=Object.prototype,aj=oj.hasOwnProperty;function lj(n){var e=this.__data__;if(Lc){var t=e[n];return t===sj?void 0:t}return aj.call(e,n)?e[n]:void 0}var uj=Object.prototype,cj=uj.hasOwnProperty;function dj(n){var e=this.__data__;return Lc?e[n]!==void 0:cj.call(e,n)}var hj="__lodash_hash_undefined__";function fj(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Lc&&e===void 0?hj:e,this}function Ba(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Ba.prototype.clear=rj;Ba.prototype.delete=ij;Ba.prototype.get=lj;Ba.prototype.has=dj;Ba.prototype.set=fj;function pj(){this.__data__=[],this.size=0}function Yf(n,e){for(var t=n.length;t--;)if(ed(n[t][0],e))return t;return-1}var mj=Array.prototype,gj=mj.splice;function yj(n){var e=this.__data__,t=Yf(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():gj.call(e,t,1),--this.size,!0}function vj(n){var e=this.__data__,t=Yf(e,n);return t<0?void 0:e[t][1]}function wj(n){return Yf(this.__data__,n)>-1}function _j(n,e){var t=this.__data__,r=Yf(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ro(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ro.prototype.clear=pj;ro.prototype.delete=yj;ro.prototype.get=vj;ro.prototype.has=wj;ro.prototype.set=_j;var Oc=Ka(_s,"Map");function Ej(){this.size=0,this.__data__={hash:new Ba,map:new(Oc||ro),string:new Ba}}function Tj(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Xf(n,e){var t=n.__data__;return Tj(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Sj(n){var e=Xf(this,n).delete(n);return this.size-=e?1:0,e}function bj(n){return Xf(this,n).get(n)}function Ij(n){return Xf(this,n).has(n)}function Aj(n,e){var t=Xf(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Qa(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Qa.prototype.clear=Ej;Qa.prototype.delete=Sj;Qa.prototype.get=bj;Qa.prototype.has=Ij;Qa.prototype.set=Aj;function xj(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var EA=wA(Object.getPrototypeOf,Object),Cj="[object Object]",Nj=Function.prototype,Pj=Object.prototype,TA=Nj.toString,Rj=Pj.hasOwnProperty,kj=TA.call(Object);function Lj(n){if(!Js(n)||wu(n)!=Cj)return!1;var e=EA(n);if(e===null)return!0;var t=Rj.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&TA.call(t)==kj}function Oj(){this.__data__=new ro,this.size=0}function Dj(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Mj(n){return this.__data__.get(n)}function jj(n){return this.__data__.has(n)}var Vj=200;function Fj(n,e){var t=this.__data__;if(t instanceof ro){var r=t.__data__;if(!Oc||r.length<Vj-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Qa(r)}return t.set(n,e),this.size=t.size,this}function ps(n){var e=this.__data__=new ro(n);this.size=e.size}ps.prototype.clear=Oj;ps.prototype.delete=Dj;ps.prototype.get=Mj;ps.prototype.has=jj;ps.prototype.set=Fj;var SA=typeof Lr=="object"&&Lr&&!Lr.nodeType&&Lr,DE=SA&&typeof Or=="object"&&Or&&!Or.nodeType&&Or,Uj=DE&&DE.exports===SA,ME=Uj?_s.Buffer:void 0,jE=ME?ME.allocUnsafe:void 0;function bA(n,e){if(e)return n.slice();var t=n.length,r=jE?jE(t):new n.constructor(t);return n.copy(r),r}function Bj(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var l=n[t];e(l,t,n)&&(o[i++]=l)}return o}function qj(){return[]}var $j=Object.prototype,zj=$j.propertyIsEnumerable,VE=Object.getOwnPropertySymbols,Hj=VE?function(n){return n==null?[]:(n=Object(n),Bj(VE(n),function(e){return zj.call(n,e)}))}:qj;function Gj(n,e,t){var r=e(n);return Ua(n)?r:xj(r,t(n))}function dy(n){return Gj(n,J6,Hj)}var hy=Ka(_s,"DataView"),fy=Ka(_s,"Promise"),py=Ka(_s,"Set"),FE="[object Map]",Wj="[object Object]",UE="[object Promise]",BE="[object Set]",qE="[object WeakMap]",$E="[object DataView]",Kj=Wa(hy),Qj=Wa(Oc),Yj=Wa(fy),Xj=Wa(py),Jj=Wa(uy),Ci=wu;(hy&&Ci(new hy(new ArrayBuffer(1)))!=$E||Oc&&Ci(new Oc)!=FE||fy&&Ci(fy.resolve())!=UE||py&&Ci(new py)!=BE||uy&&Ci(new uy)!=qE)&&(Ci=function(n){var e=wu(n),t=e==Wj?n.constructor:void 0,r=t?Wa(t):"";if(r)switch(r){case Kj:return $E;case Qj:return FE;case Yj:return UE;case Xj:return BE;case Jj:return qE}return e});var Zj=Object.prototype,e9=Zj.hasOwnProperty;function t9(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&e9.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Sf=_s.Uint8Array;function Qv(n){var e=new n.constructor(n.byteLength);return new Sf(e).set(new Sf(n)),e}function n9(n,e){var t=Qv(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var r9=/\w*$/;function i9(n){var e=new n.constructor(n.source,r9.exec(n));return e.lastIndex=n.lastIndex,e}var zE=na?na.prototype:void 0,HE=zE?zE.valueOf:void 0;function s9(n){return HE?Object(HE.call(n)):{}}function IA(n,e){var t=e?Qv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var o9="[object Boolean]",a9="[object Date]",l9="[object Map]",u9="[object Number]",c9="[object RegExp]",d9="[object Set]",h9="[object String]",f9="[object Symbol]",p9="[object ArrayBuffer]",m9="[object DataView]",g9="[object Float32Array]",y9="[object Float64Array]",v9="[object Int8Array]",w9="[object Int16Array]",_9="[object Int32Array]",E9="[object Uint8Array]",T9="[object Uint8ClampedArray]",S9="[object Uint16Array]",b9="[object Uint32Array]";function I9(n,e,t){var r=n.constructor;switch(e){case p9:return Qv(n);case o9:case a9:return new r(+n);case m9:return n9(n);case g9:case y9:case v9:case w9:case _9:case E9:case T9:case S9:case b9:return IA(n,t);case l9:return new r;case u9:case h9:return new r(n);case c9:return i9(n);case d9:return new r;case f9:return s9(n)}}function AA(n){return typeof n.constructor=="function"&&!Gv(n)?H5(EA(n)):{}}var A9="[object Map]";function x9(n){return Js(n)&&Ci(n)==A9}var GE=eu&&eu.isMap,C9=GE?Wv(GE):x9,N9="[object Set]";function P9(n){return Js(n)&&Ci(n)==N9}var WE=eu&&eu.isSet,R9=WE?Wv(WE):P9,k9=1,xA="[object Arguments]",L9="[object Array]",O9="[object Boolean]",D9="[object Date]",M9="[object Error]",CA="[object Function]",j9="[object GeneratorFunction]",V9="[object Map]",F9="[object Number]",NA="[object Object]",U9="[object RegExp]",B9="[object Set]",q9="[object String]",$9="[object Symbol]",z9="[object WeakMap]",H9="[object ArrayBuffer]",G9="[object DataView]",W9="[object Float32Array]",K9="[object Float64Array]",Q9="[object Int8Array]",Y9="[object Int16Array]",X9="[object Int32Array]",J9="[object Uint8Array]",Z9="[object Uint8ClampedArray]",eV="[object Uint16Array]",tV="[object Uint32Array]",bt={};bt[xA]=bt[L9]=bt[H9]=bt[G9]=bt[O9]=bt[D9]=bt[W9]=bt[K9]=bt[Q9]=bt[Y9]=bt[X9]=bt[V9]=bt[F9]=bt[NA]=bt[U9]=bt[B9]=bt[q9]=bt[$9]=bt[J9]=bt[Z9]=bt[eV]=bt[tV]=!0;bt[M9]=bt[CA]=bt[z9]=!1;function $h(n,e,t,r,i,o){var l,u=e&k9;if(l!==void 0)return l;if(!oa(n))return n;var d=Ua(n);if(d)l=t9(n);else{var f=Ci(n),m=f==CA||f==j9;if(kc(n))return bA(n,u);if(f==NA||f==xA||m&&!i)l=m?{}:AA(n);else{if(!bt[f])return i?n:{};l=I9(n,f,u)}}o||(o=new ps);var v=o.get(n);if(v)return v;o.set(n,l),R9(n)?n.forEach(function(S){l.add($h(S,e,t,S,n,o))}):C9(n)&&n.forEach(function(S,P){l.set(P,$h(S,e,t,P,n,o))});var y=dy,T=d?void 0:y(n);return t6(T||n,function(S,P){T&&(P=S,S=n[P]),fA(l,P,$h(S,e,t,P,n,o))}),l}var nV=1,rV=4;function ql(n){return $h(n,nV|rV)}var iV="__lodash_hash_undefined__";function sV(n){return this.__data__.set(n,iV),this}function oV(n){return this.__data__.has(n)}function bf(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Qa;++e<t;)this.add(n[e])}bf.prototype.add=bf.prototype.push=sV;bf.prototype.has=oV;function aV(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function lV(n,e){return n.has(e)}var uV=1,cV=2;function PA(n,e,t,r,i,o){var l=t&uV,u=n.length,d=e.length;if(u!=d&&!(l&&d>u))return!1;var f=o.get(n),m=o.get(e);if(f&&m)return f==e&&m==n;var v=-1,y=!0,T=t&cV?new bf:void 0;for(o.set(n,e),o.set(e,n);++v<u;){var S=n[v],P=e[v];if(r)var N=l?r(P,S,v,e,n,o):r(S,P,v,n,e,o);if(N!==void 0){if(N)continue;y=!1;break}if(T){if(!aV(e,function(k,R){if(!lV(T,R)&&(S===k||i(S,k,t,r,o)))return T.push(R)})){y=!1;break}}else if(!(S===P||i(S,P,t,r,o))){y=!1;break}}return o.delete(n),o.delete(e),y}function dV(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function hV(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var fV=1,pV=2,mV="[object Boolean]",gV="[object Date]",yV="[object Error]",vV="[object Map]",wV="[object Number]",_V="[object RegExp]",EV="[object Set]",TV="[object String]",SV="[object Symbol]",bV="[object ArrayBuffer]",IV="[object DataView]",KE=na?na.prototype:void 0,lg=KE?KE.valueOf:void 0;function AV(n,e,t,r,i,o,l){switch(t){case IV:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case bV:return!(n.byteLength!=e.byteLength||!o(new Sf(n),new Sf(e)));case mV:case gV:case wV:return ed(+n,+e);case yV:return n.name==e.name&&n.message==e.message;case _V:case TV:return n==e+"";case vV:var u=dV;case EV:var d=r&fV;if(u||(u=hV),n.size!=e.size&&!d)return!1;var f=l.get(n);if(f)return f==e;r|=pV,l.set(n,e);var m=PA(u(n),u(e),r,i,o,l);return l.delete(n),m;case SV:if(lg)return lg.call(n)==lg.call(e)}return!1}var xV=1,CV=Object.prototype,NV=CV.hasOwnProperty;function PV(n,e,t,r,i,o){var l=t&xV,u=dy(n),d=u.length,f=dy(e),m=f.length;if(d!=m&&!l)return!1;for(var v=d;v--;){var y=u[v];if(!(l?y in e:NV.call(e,y)))return!1}var T=o.get(n),S=o.get(e);if(T&&S)return T==e&&S==n;var P=!0;o.set(n,e),o.set(e,n);for(var N=l;++v<d;){y=u[v];var k=n[y],R=e[y];if(r)var M=l?r(R,k,y,e,n,o):r(k,R,y,n,e,o);if(!(M===void 0?k===R||i(k,R,t,r,o):M)){P=!1;break}N||(N=y=="constructor")}if(P&&!N){var z=n.constructor,Q=e.constructor;z!=Q&&"constructor"in n&&"constructor"in e&&!(typeof z=="function"&&z instanceof z&&typeof Q=="function"&&Q instanceof Q)&&(P=!1)}return o.delete(n),o.delete(e),P}var RV=1,QE="[object Arguments]",YE="[object Array]",yh="[object Object]",kV=Object.prototype,XE=kV.hasOwnProperty;function LV(n,e,t,r,i,o){var l=Ua(n),u=Ua(e),d=l?YE:Ci(n),f=u?YE:Ci(e);d=d==QE?yh:d,f=f==QE?yh:f;var m=d==yh,v=f==yh,y=d==f;if(y&&kc(n)){if(!kc(e))return!1;l=!0,m=!1}if(y&&!m)return o||(o=new ps),l||Kv(n)?PA(n,e,t,r,i,o):AV(n,e,d,t,r,i,o);if(!(t&RV)){var T=m&&XE.call(n,"__wrapped__"),S=v&&XE.call(e,"__wrapped__");if(T||S){var P=T?n.value():n,N=S?e.value():e;return o||(o=new ps),i(P,N,t,r,o)}}return y?(o||(o=new ps),PV(n,e,t,r,i,o)):!1}function RA(n,e,t,r,i){return n===e?!0:n==null||e==null||!Js(n)&&!Js(e)?n!==n&&e!==e:LV(n,e,t,r,RA,i)}function OV(n){return function(e,t,r){for(var i=-1,o=Object(e),l=r(e),u=l.length;u--;){var d=l[++i];if(t(o[d],d,o)===!1)break}return e}}var DV=OV();function my(n,e,t){(t!==void 0&&!ed(n[e],t)||t===void 0&&!(e in n))&&Hv(n,e,t)}function MV(n){return Js(n)&&Qf(n)}function gy(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function jV(n){return o6(n,_A(n))}function VV(n,e,t,r,i,o,l){var u=gy(n,t),d=gy(e,t),f=l.get(d);if(f){my(n,t,f);return}var m=o?o(u,d,t+"",n,e,l):void 0,v=m===void 0;if(v){var y=Ua(d),T=!y&&kc(d),S=!y&&!T&&Kv(d);m=d,y||T||S?Ua(u)?m=u:MV(u)?m=W5(u):T?(v=!1,m=bA(d,!0)):S?(v=!1,m=IA(d,!0)):m=[]:Lj(d)||cy(d)?(m=u,cy(u)?m=jV(u):(!oa(u)||zv(u))&&(m=AA(d))):v=!1}v&&(l.set(d,m),i(m,d,r,o,l),l.delete(d)),my(n,t,m)}function kA(n,e,t,r,i){n!==e&&DV(e,function(o,l){if(i||(i=new ps),oa(o))VV(n,e,l,t,kA,r,i);else{var u=r?r(gy(n,l),o,l+"",n,e,i):void 0;u===void 0&&(u=o),my(n,l,u)}},_A)}function Vo(n,e){return RA(n,e)}var Qo=d6(function(n,e,t){kA(n,e,t)}),Oe=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Oe||{});class vs{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=Oe.TYPE&Oe.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Oe.LEVEL|i:Oe.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class $l extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const LA=class yy{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new $l(`Unable to create ${t} blot`);const o=i,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),u=new o(e,l,r);return yy.blots.set(u.domNode,u),u}find(e,t=!1){return yy.find(e,t)}query(e,t=Oe.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Oe.LEVEL&Oe.BLOCK?r=this.types.block:e&Oe.LEVEL&Oe.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Oe.LEVEL&r.scope&&t&Oe.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new $l("Invalid definition");if(r&&t.blotName==="abstract")throw new $l("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};LA.blots=new WeakMap;let tu=LA;function JE(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class FV extends vs{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){JE(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(JE(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Ui=FV;function ug(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class UV extends vs{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[ug(this.keyName)]=t,!0):!1}remove(e){e.style[ug(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[ug(this.keyName)];return this.canAdd(e,t)?t:""}}const aa=UV;class BV{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=tu.find(this.domNode);if(e==null)return;const t=vs.keys(this.domNode),r=Ui.keys(this.domNode),i=aa.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const l=e.scroll.query(o,Oe.ATTRIBUTE);l instanceof vs&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Jf=BV,OA=class{constructor(e,t){this.scroll=e,this.domNode=t,tu.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new $l("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),tu.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,Oe.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,Oe.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);o.wrap(l),l.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new $l(`Cannot wrap ${e}`);return r.appendChild(this),r}};OA.blotName="abstract";let DA=OA;const MA=class extends DA{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};MA.scope=Oe.INLINE_BLOT;let qV=MA;const qn=qV;class $V{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let l=e-o;const u=this.iterator(i);let d=u();for(;d&&l<e+t;){const f=d.length();e>l?r(d,e-l,Math.min(t,l+f-e)):r(d,0,Math.min(f,e+t-l)),l+=f,d=u()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function ZE(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Oe.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const jA=class Oo extends DA{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,Oo.uiClass&&this.uiNode.classList.add(Oo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new $V,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ZE(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof $l)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof Oo?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(l,u,d)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&i.push(l),l instanceof Oo&&(i=i.concat(l.descendants(e,u,o))),o-=d}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Oe.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof Oo?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,l,u)=>{o.formatAt(l,u,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const l=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof Oo?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof Oo&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,l)=>{const u=i.split(o,t);u!=null&&r.appendChild(u)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(o);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,l)=>o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let l=null;o.nextSibling!=null&&(l=this.scroll.find(o.nextSibling));const u=ZE(o,this.scroll);(u.next!==l||u.next==null)&&(u.parent!=null&&u.parent.removeChild(this),this.insertBefore(u,l||void 0))}),this.enforceAllowedChildren()}};jA.uiClass="";let zV=jA;const Di=zV;function HV(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const Nl=class Pl extends Di{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Pl.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Jf(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof Pl||(r=r.wrap(Pl.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Oe.INLINE);if(r==null)return;r instanceof vs?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Oe.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof Pl&&r.prev===this&&HV(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof Pl&&this.attributes.move(r),r}};Nl.allowedChildren=[Nl,qn],Nl.blotName="inline",Nl.scope=Oe.INLINE_BLOT,Nl.tagName="SPAN";let GV=Nl;const Yv=GV,Rl=class vy extends Di{static create(e){return super.create(e)}static formats(e,t){const r=t.query(vy.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Jf(this.domNode)}format(e,t){const r=this.scroll.query(e,Oe.BLOCK);r!=null&&(r instanceof vs?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(vy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,Oe.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Oe.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Rl.blotName="block",Rl.scope=Oe.BLOCK_BLOT,Rl.tagName="P",Rl.allowedChildren=[Yv,Rl,qn];let WV=Rl;const Dc=WV,wy=class extends Di{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};wy.blotName="container",wy.scope=Oe.BLOCK_BLOT;let KV=wy;const Zf=KV;class QV extends qn{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Dr=QV,YV={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},XV=100,kl=class extends Di{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,YV),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Oe.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(d,f=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(r.has(d.domNode)||r.set(d.domNode,[]),f&&o(d.parent))},l=d=>{r.has(d.domNode)&&(d instanceof Di&&d.children.forEach(l),r.delete(d.domNode),d.optimize(t))};let u=e;for(let d=0;u.length>0;d+=1){if(d>=XV)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(f=>{const m=this.find(f.target,!0);m!=null&&(m.domNode===f.target&&(f.type==="childList"?(o(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(v=>{const y=this.find(v,!1);o(y,!1),y instanceof Di&&y.children.forEach(T=>{o(T,!1)})})):f.type==="attributes"&&o(m.prev)),o(m))}),this.children.forEach(l),u=Array.from(this.observer.takeRecords()),i=u.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};kl.blotName="scroll",kl.defaultChild=Dc,kl.allowedChildren=[Dc,Zf],kl.scope=Oe.BLOCK_BLOT,kl.tagName="DIV";let JV=kl;const Xv=JV,_y=class VA extends qn{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof VA&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};_y.blotName="text",_y.scope=Oe.INLINE_BLOT;let ZV=_y;const If=ZV,e8=Object.freeze(Object.defineProperty({__proto__:null,Attributor:vs,AttributorStore:Jf,BlockBlot:Dc,ClassAttributor:Ui,ContainerBlot:Zf,EmbedBlot:Dr,InlineBlot:Yv,LeafBlot:qn,ParentBlot:Di,Registry:tu,Scope:Oe,ScrollBlot:Xv,StyleAttributor:aa,TextBlot:If},Symbol.toStringTag,{value:"Module"}));var vh={exports:{}},cg,eT;function t8(){if(eT)return cg;eT=1;var n=-1,e=1,t=0;function r(A,V,x,le,ue){if(A===V)return A?[[t,A]]:[];if(x!=null){var X=O(A,V,x);if(X)return X}var oe=u(A,V),K=A.substring(0,oe);A=A.substring(oe),V=V.substring(oe),oe=f(A,V);var re=A.substring(A.length-oe);A=A.substring(0,A.length-oe),V=V.substring(0,V.length-oe);var Z=i(A,V);return K&&Z.unshift([t,K]),re&&Z.push([t,re]),R(Z,ue),le&&v(Z),Z}function i(A,V){var x;if(!A)return[[e,V]];if(!V)return[[n,A]];var le=A.length>V.length?A:V,ue=A.length>V.length?V:A,X=le.indexOf(ue);if(X!==-1)return x=[[e,le.substring(0,X)],[t,ue],[e,le.substring(X+ue.length)]],A.length>V.length&&(x[0][0]=x[2][0]=n),x;if(ue.length===1)return[[n,A],[e,V]];var oe=m(A,V);if(oe){var K=oe[0],re=oe[1],Z=oe[2],$=oe[3],ee=oe[4],ge=r(K,Z),Ee=r(re,$);return ge.concat([[t,ee]],Ee)}return o(A,V)}function o(A,V){for(var x=A.length,le=V.length,ue=Math.ceil((x+le)/2),X=ue,oe=2*ue,K=new Array(oe),re=new Array(oe),Z=0;Z<oe;Z++)K[Z]=-1,re[Z]=-1;K[X+1]=0,re[X+1]=0;for(var $=x-le,ee=$%2!==0,ge=0,Ee=0,ye=0,ke=0,Me=0;Me<ue;Me++){for(var Te=-Me+ge;Te<=Me-Ee;Te+=2){var De=X+Te,Ue;Te===-Me||Te!==Me&&K[De-1]<K[De+1]?Ue=K[De+1]:Ue=K[De-1]+1;for(var Qe=Ue-Te;Ue<x&&Qe<le&&A.charAt(Ue)===V.charAt(Qe);)Ue++,Qe++;if(K[De]=Ue,Ue>x)Ee+=2;else if(Qe>le)ge+=2;else if(ee){var nt=X+$-Te;if(nt>=0&&nt<oe&&re[nt]!==-1){var et=x-re[nt];if(Ue>=et)return l(A,V,Ue,Qe)}}}for(var yt=-Me+ye;yt<=Me-ke;yt+=2){var nt=X+yt,et;yt===-Me||yt!==Me&&re[nt-1]<re[nt+1]?et=re[nt+1]:et=re[nt-1]+1;for(var Lt=et-yt;et<x&&Lt<le&&A.charAt(x-et-1)===V.charAt(le-Lt-1);)et++,Lt++;if(re[nt]=et,et>x)ke+=2;else if(Lt>le)ye+=2;else if(!ee){var De=X+$-yt;if(De>=0&&De<oe&&K[De]!==-1){var Ue=K[De],Qe=X+Ue-De;if(et=x-et,Ue>=et)return l(A,V,Ue,Qe)}}}}return[[n,A],[e,V]]}function l(A,V,x,le){var ue=A.substring(0,x),X=V.substring(0,le),oe=A.substring(x),K=V.substring(le),re=r(ue,X),Z=r(oe,K);return re.concat(Z)}function u(A,V){if(!A||!V||A.charAt(0)!==V.charAt(0))return 0;for(var x=0,le=Math.min(A.length,V.length),ue=le,X=0;x<ue;)A.substring(X,ue)==V.substring(X,ue)?(x=ue,X=x):le=ue,ue=Math.floor((le-x)/2+x);return M(A.charCodeAt(ue-1))&&ue--,ue}function d(A,V){var x=A.length,le=V.length;if(x==0||le==0)return 0;x>le?A=A.substring(x-le):x<le&&(V=V.substring(0,x));var ue=Math.min(x,le);if(A==V)return ue;for(var X=0,oe=1;;){var K=A.substring(ue-oe),re=V.indexOf(K);if(re==-1)return X;oe+=re,(re==0||A.substring(ue-oe)==V.substring(0,oe))&&(X=oe,oe++)}}function f(A,V){if(!A||!V||A.slice(-1)!==V.slice(-1))return 0;for(var x=0,le=Math.min(A.length,V.length),ue=le,X=0;x<ue;)A.substring(A.length-ue,A.length-X)==V.substring(V.length-ue,V.length-X)?(x=ue,X=x):le=ue,ue=Math.floor((le-x)/2+x);return z(A.charCodeAt(A.length-ue))&&ue--,ue}function m(A,V){var x=A.length>V.length?A:V,le=A.length>V.length?V:A;if(x.length<4||le.length*2<x.length)return null;function ue(Ee,ye,ke){for(var Me=Ee.substring(ke,ke+Math.floor(Ee.length/4)),Te=-1,De="",Ue,Qe,nt,et;(Te=ye.indexOf(Me,Te+1))!==-1;){var yt=u(Ee.substring(ke),ye.substring(Te)),Lt=f(Ee.substring(0,ke),ye.substring(0,Te));De.length<Lt+yt&&(De=ye.substring(Te-Lt,Te)+ye.substring(Te,Te+yt),Ue=Ee.substring(0,ke-Lt),Qe=Ee.substring(ke+yt),nt=ye.substring(0,Te-Lt),et=ye.substring(Te+yt))}return De.length*2>=Ee.length?[Ue,Qe,nt,et,De]:null}var X=ue(x,le,Math.ceil(x.length/4)),oe=ue(x,le,Math.ceil(x.length/2)),K;if(!X&&!oe)return null;oe?X?K=X[4].length>oe[4].length?X:oe:K=oe:K=X;var re,Z,$,ee;A.length>V.length?(re=K[0],Z=K[1],$=K[2],ee=K[3]):($=K[0],ee=K[1],re=K[2],Z=K[3]);var ge=K[4];return[re,Z,$,ee,ge]}function v(A){for(var V=!1,x=[],le=0,ue=null,X=0,oe=0,K=0,re=0,Z=0;X<A.length;)A[X][0]==t?(x[le++]=X,oe=re,K=Z,re=0,Z=0,ue=A[X][1]):(A[X][0]==e?re+=A[X][1].length:Z+=A[X][1].length,ue&&ue.length<=Math.max(oe,K)&&ue.length<=Math.max(re,Z)&&(A.splice(x[le-1],0,[n,ue]),A[x[le-1]+1][0]=e,le--,le--,X=le>0?x[le-1]:-1,oe=0,K=0,re=0,Z=0,ue=null,V=!0)),X++;for(V&&R(A),k(A),X=1;X<A.length;){if(A[X-1][0]==n&&A[X][0]==e){var $=A[X-1][1],ee=A[X][1],ge=d($,ee),Ee=d(ee,$);ge>=Ee?(ge>=$.length/2||ge>=ee.length/2)&&(A.splice(X,0,[t,ee.substring(0,ge)]),A[X-1][1]=$.substring(0,$.length-ge),A[X+1][1]=ee.substring(ge),X++):(Ee>=$.length/2||Ee>=ee.length/2)&&(A.splice(X,0,[t,$.substring(0,Ee)]),A[X-1][0]=e,A[X-1][1]=ee.substring(0,ee.length-Ee),A[X+1][0]=n,A[X+1][1]=$.substring(Ee),X++),X++}X++}}var y=/[^a-zA-Z0-9]/,T=/\s/,S=/[\r\n]/,P=/\n\r?\n$/,N=/^\r?\n\r?\n/;function k(A){function V(Ee,ye){if(!Ee||!ye)return 6;var ke=Ee.charAt(Ee.length-1),Me=ye.charAt(0),Te=ke.match(y),De=Me.match(y),Ue=Te&&ke.match(T),Qe=De&&Me.match(T),nt=Ue&&ke.match(S),et=Qe&&Me.match(S),yt=nt&&Ee.match(P),Lt=et&&ye.match(N);return yt||Lt?5:nt||et?4:Te&&!Ue&&Qe?3:Ue||Qe?2:Te||De?1:0}for(var x=1;x<A.length-1;){if(A[x-1][0]==t&&A[x+1][0]==t){var le=A[x-1][1],ue=A[x][1],X=A[x+1][1],oe=f(le,ue);if(oe){var K=ue.substring(ue.length-oe);le=le.substring(0,le.length-oe),ue=K+ue.substring(0,ue.length-oe),X=K+X}for(var re=le,Z=ue,$=X,ee=V(le,ue)+V(ue,X);ue.charAt(0)===X.charAt(0);){le+=ue.charAt(0),ue=ue.substring(1)+X.charAt(0),X=X.substring(1);var ge=V(le,ue)+V(ue,X);ge>=ee&&(ee=ge,re=le,Z=ue,$=X)}A[x-1][1]!=re&&(re?A[x-1][1]=re:(A.splice(x-1,1),x--),A[x][1]=Z,$?A[x+1][1]=$:(A.splice(x+1,1),x--))}x++}}function R(A,V){A.push([t,""]);for(var x=0,le=0,ue=0,X="",oe="",K;x<A.length;){if(x<A.length-1&&!A[x][1]){A.splice(x,1);continue}switch(A[x][0]){case e:ue++,oe+=A[x][1],x++;break;case n:le++,X+=A[x][1],x++;break;case t:var re=x-ue-le-1;if(V){if(re>=0&&se(A[re][1])){var Z=A[re][1].slice(-1);if(A[re][1]=A[re][1].slice(0,-1),X=Z+X,oe=Z+oe,!A[re][1]){A.splice(re,1),x--;var $=re-1;A[$]&&A[$][0]===e&&(ue++,oe=A[$][1]+oe,$--),A[$]&&A[$][0]===n&&(le++,X=A[$][1]+X,$--),re=$}}if(Q(A[x][1])){var Z=A[x][1].charAt(0);A[x][1]=A[x][1].slice(1),X+=Z,oe+=Z}}if(x<A.length-1&&!A[x][1]){A.splice(x,1);break}if(X.length>0||oe.length>0){X.length>0&&oe.length>0&&(K=u(oe,X),K!==0&&(re>=0?A[re][1]+=oe.substring(0,K):(A.splice(0,0,[t,oe.substring(0,K)]),x++),oe=oe.substring(K),X=X.substring(K)),K=f(oe,X),K!==0&&(A[x][1]=oe.substring(oe.length-K)+A[x][1],oe=oe.substring(0,oe.length-K),X=X.substring(0,X.length-K)));var ee=ue+le;X.length===0&&oe.length===0?(A.splice(x-ee,ee),x=x-ee):X.length===0?(A.splice(x-ee,ee,[e,oe]),x=x-ee+1):oe.length===0?(A.splice(x-ee,ee,[n,X]),x=x-ee+1):(A.splice(x-ee,ee,[n,X],[e,oe]),x=x-ee+2)}x!==0&&A[x-1][0]===t?(A[x-1][1]+=A[x][1],A.splice(x,1)):x++,ue=0,le=0,X="",oe="";break}}A[A.length-1][1]===""&&A.pop();var ge=!1;for(x=1;x<A.length-1;)A[x-1][0]===t&&A[x+1][0]===t&&(A[x][1].substring(A[x][1].length-A[x-1][1].length)===A[x-1][1]?(A[x][1]=A[x-1][1]+A[x][1].substring(0,A[x][1].length-A[x-1][1].length),A[x+1][1]=A[x-1][1]+A[x+1][1],A.splice(x-1,1),ge=!0):A[x][1].substring(0,A[x+1][1].length)==A[x+1][1]&&(A[x-1][1]+=A[x+1][1],A[x][1]=A[x][1].substring(A[x+1][1].length)+A[x+1][1],A.splice(x+1,1),ge=!0)),x++;ge&&R(A,V)}function M(A){return A>=55296&&A<=56319}function z(A){return A>=56320&&A<=57343}function Q(A){return z(A.charCodeAt(0))}function se(A){return M(A.charCodeAt(A.length-1))}function U(A){for(var V=[],x=0;x<A.length;x++)A[x][1].length>0&&V.push(A[x]);return V}function L(A,V,x,le){return se(A)||Q(le)?null:U([[t,A],[n,V],[e,x],[t,le]])}function O(A,V,x){var le=typeof x=="number"?{index:x,length:0}:x.oldRange,ue=typeof x=="number"?null:x.newRange,X=A.length,oe=V.length;if(le.length===0&&(ue===null||ue.length===0)){var K=le.index,re=A.slice(0,K),Z=A.slice(K),$=ue?ue.index:null;e:{var ee=K+oe-X;if($!==null&&$!==ee||ee<0||ee>oe)break e;var ge=V.slice(0,ee),Ee=V.slice(ee);if(Ee!==Z)break e;var ye=Math.min(K,ee),ke=re.slice(0,ye),Me=ge.slice(0,ye);if(ke!==Me)break e;var Te=re.slice(ye),De=ge.slice(ye);return L(ke,Te,De,Z)}e:{if($!==null&&$!==K)break e;var Ue=K,ge=V.slice(0,Ue),Ee=V.slice(Ue);if(ge!==re)break e;var Qe=Math.min(X-Ue,oe-Ue),nt=Z.slice(Z.length-Qe),et=Ee.slice(Ee.length-Qe);if(nt!==et)break e;var Te=Z.slice(0,Z.length-Qe),De=Ee.slice(0,Ee.length-Qe);return L(re,Te,De,nt)}}if(le.length>0&&ue&&ue.length===0)e:{var ke=A.slice(0,le.index),nt=A.slice(le.index+le.length),ye=ke.length,Qe=nt.length;if(oe<ye+Qe)break e;var Me=V.slice(0,ye),et=V.slice(oe-Qe);if(ke!==Me||nt!==et)break e;var Te=A.slice(ye,X-Qe),De=V.slice(ye,oe-Qe);return L(ke,Te,De,nt)}return null}function F(A,V,x,le){return r(A,V,x,le,!0)}return F.INSERT=e,F.DELETE=n,F.EQUAL=t,cg=F,cg}var sc={exports:{}};sc.exports;var tT;function FA(){return tT||(tT=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Function]",v="[object GeneratorFunction]",y="[object Map]",T="[object Number]",S="[object Object]",P="[object Promise]",N="[object RegExp]",k="[object Set]",R="[object String]",M="[object Symbol]",z="[object WeakMap]",Q="[object ArrayBuffer]",se="[object DataView]",U="[object Float32Array]",L="[object Float64Array]",O="[object Int8Array]",F="[object Int16Array]",A="[object Int32Array]",V="[object Uint8Array]",x="[object Uint8ClampedArray]",le="[object Uint16Array]",ue="[object Uint32Array]",X=/[\\^$.*+?()[\]{}|]/g,oe=/\w*$/,K=/^\[object .+?Constructor\]$/,re=/^(?:0|[1-9]\d*)$/,Z={};Z[o]=Z[l]=Z[Q]=Z[se]=Z[u]=Z[d]=Z[U]=Z[L]=Z[O]=Z[F]=Z[A]=Z[y]=Z[T]=Z[S]=Z[N]=Z[k]=Z[R]=Z[M]=Z[V]=Z[x]=Z[le]=Z[ue]=!0,Z[f]=Z[m]=Z[z]=!1;var $=typeof Fo=="object"&&Fo&&Fo.Object===Object&&Fo,ee=typeof self=="object"&&self&&self.Object===Object&&self,ge=$||ee||Function("return this")(),Ee=e&&!e.nodeType&&e,ye=Ee&&!0&&n&&!n.nodeType&&n,ke=ye&&ye.exports===Ee;function Me(E,D){return E.set(D[0],D[1]),E}function Te(E,D){return E.add(D),E}function De(E,D){for(var q=-1,ae=E?E.length:0;++q<ae&&D(E[q],q,E)!==!1;);return E}function Ue(E,D){for(var q=-1,ae=D.length,Be=E.length;++q<ae;)E[Be+q]=D[q];return E}function Qe(E,D,q,ae){for(var Be=-1,Ce=E?E.length:0;++Be<Ce;)q=D(q,E[Be],Be,E);return q}function nt(E,D){for(var q=-1,ae=Array(E);++q<E;)ae[q]=D(q);return ae}function et(E,D){return E==null?void 0:E[D]}function yt(E){var D=!1;if(E!=null&&typeof E.toString!="function")try{D=!!(E+"")}catch{}return D}function Lt(E){var D=-1,q=Array(E.size);return E.forEach(function(ae,Be){q[++D]=[Be,ae]}),q}function ui(E,D){return function(q){return E(D(q))}}function $i(E){var D=-1,q=Array(E.size);return E.forEach(function(ae){q[++D]=ae}),q}var so=Array.prototype,zi=Function.prototype,Pn=Object.prototype,Hn=ge["__core-js_shared__"],Hi=function(){var E=/[^.]+$/.exec(Hn&&Hn.keys&&Hn.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),ci=zi.toString,wn=Pn.hasOwnProperty,Mr=Pn.toString,Ot=RegExp("^"+ci.call(wn).replace(X,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=ke?ge.Buffer:void 0,Rn=ge.Symbol,di=ge.Uint8Array,Bt=ui(Object.getPrototypeOf,Object),jr=Object.create,Vr=Pn.propertyIsEnumerable,Es=so.splice,hi=Object.getOwnPropertySymbols,Fr=vt?vt.isBuffer:void 0,Gi=ui(Object.keys,Object),Ur=$e(ge,"DataView"),Gn=$e(ge,"Map"),ln=$e(ge,"Promise"),wr=$e(ge,"Set"),un=$e(ge,"WeakMap"),cn=$e(Object,"create"),Br=wt(Ur),dn=wt(Gn),fi=wt(ln),_r=wt(wr),pi=wt(un),hn=Rn?Rn.prototype:void 0,Wi=hn?hn.valueOf:void 0;function ct(E){var D=-1,q=E?E.length:0;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function Ki(){this.__data__=cn?cn(null):{}}function Wn(E){return this.has(E)&&delete this.__data__[E]}function mi(E){var D=this.__data__;if(cn){var q=D[E];return q===r?void 0:q}return wn.call(D,E)?D[E]:void 0}function qr(E){var D=this.__data__;return cn?D[E]!==void 0:wn.call(D,E)}function $r(E,D){var q=this.__data__;return q[E]=cn&&D===void 0?r:D,this}ct.prototype.clear=Ki,ct.prototype.delete=Wn,ct.prototype.get=mi,ct.prototype.has=qr,ct.prototype.set=$r;function mt(E){var D=-1,q=E?E.length:0;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function Ts(){this.__data__=[]}function la(E){var D=this.__data__,q=zr(D,E);if(q<0)return!1;var ae=D.length-1;return q==ae?D.pop():Es.call(D,q,1),!0}function Qi(E){var D=this.__data__,q=zr(D,E);return q<0?void 0:D[q][1]}function oo(E){return zr(this.__data__,E)>-1}function Kn(E,D){var q=this.__data__,ae=zr(q,E);return ae<0?q.push([E,D]):q[ae][1]=D,this}mt.prototype.clear=Ts,mt.prototype.delete=la,mt.prototype.get=Qi,mt.prototype.has=oo,mt.prototype.set=Kn;function Pt(E){var D=-1,q=E?E.length:0;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function Qn(){this.__data__={hash:new ct,map:new(Gn||mt),string:new ct}}function ao(E){return kn(this,E).delete(E)}function Ss(E){return kn(this,E).get(E)}function Yi(E){return kn(this,E).has(E)}function Xi(E,D){return kn(this,E).set(E,D),this}Pt.prototype.clear=Qn,Pt.prototype.delete=ao,Pt.prototype.get=Ss,Pt.prototype.has=Yi,Pt.prototype.set=Xi;function Gt(E){this.__data__=new mt(E)}function lo(){this.__data__=new mt}function ua(E){return this.__data__.delete(E)}function ft(E){return this.__data__.get(E)}function uo(E){return this.__data__.has(E)}function gi(E,D){var q=this.__data__;if(q instanceof mt){var ae=q.__data__;if(!Gn||ae.length<t-1)return ae.push([E,D]),this;q=this.__data__=new Pt(ae)}return q.set(E,D),this}Gt.prototype.clear=lo,Gt.prototype.delete=ua,Gt.prototype.get=ft,Gt.prototype.has=uo,Gt.prototype.set=gi;function Yn(E,D){var q=On(E)||tn(E)?nt(E.length,String):[],ae=q.length,Be=!!ae;for(var Ce in E)wn.call(E,Ce)&&!(Be&&(Ce=="length"||po(Ce,ae)))&&q.push(Ce);return q}function _n(E,D,q){var ae=E[D];(!(wn.call(E,D)&&br(ae,q))||q===void 0&&!(D in E))&&(E[D]=q)}function zr(E,D){for(var q=E.length;q--;)if(br(E[q][0],D))return q;return-1}function Xn(E,D){return E&&or(D,es(D),E)}function Er(E,D,q,ae,Be,Ce,Ye){var Xe;if(ae&&(Xe=Ce?ae(E,Be,Ce,Ye):ae(E)),Xe!==void 0)return Xe;if(!Wt(E))return E;var st=On(E);if(st){if(Xe=Ji(E),!D)return vi(E,Xe)}else{var tt=ar(E),ht=tt==m||tt==v;if(nn(E))return yi(E,D);if(tt==S||tt==o||ht&&!Ce){if(yt(E))return Ce?E:{};if(Xe=Jn(ht?{}:E),!D)return Wr(E,Xn(Xe,E))}else{if(!Z[tt])return Ce?E:{};Xe=fo(E,tt,Er,D)}}Ye||(Ye=new Gt);var Kt=Ye.get(E);if(Kt)return Kt;if(Ye.set(E,Xe),!st)var Et=q?dt(E):es(E);return De(Et||E,function(_t,Dt){Et&&(Dt=_t,_t=E[Dt]),_n(Xe,Dt,Er(_t,D,q,ae,Dt,E,Ye))}),Xe}function En(E){return Wt(E)?jr(E):{}}function co(E,D,q){var ae=D(E);return On(E)?ae:Ue(ae,q(E))}function en(E){return Mr.call(E)}function bs(E){if(!Wt(E)||lr(E))return!1;var D=As(E)||yt(E)?Ot:K;return D.test(wt(E))}function ho(E){if(!Ft(E))return Gi(E);var D=[];for(var q in Object(E))wn.call(E,q)&&q!="constructor"&&D.push(q);return D}function yi(E,D){if(D)return E.slice();var q=new E.constructor(E.length);return E.copy(q),q}function Hr(E){var D=new E.constructor(E.byteLength);return new di(D).set(new di(E)),D}function sr(E,D){var q=D?Hr(E.buffer):E.buffer;return new E.constructor(q,E.byteOffset,E.byteLength)}function Tr(E,D,q){var ae=D?q(Lt(E),!0):Lt(E);return Qe(ae,Me,new E.constructor)}function Gr(E){var D=new E.constructor(E.source,oe.exec(E));return D.lastIndex=E.lastIndex,D}function ca(E,D,q){var ae=D?q($i(E),!0):$i(E);return Qe(ae,Te,new E.constructor)}function Sr(E){return Wi?Object(Wi.call(E)):{}}function Tn(E,D){var q=D?Hr(E.buffer):E.buffer;return new E.constructor(q,E.byteOffset,E.length)}function vi(E,D){var q=-1,ae=E.length;for(D||(D=Array(ae));++q<ae;)D[q]=E[q];return D}function or(E,D,q,ae){q||(q={});for(var Be=-1,Ce=D.length;++Be<Ce;){var Ye=D[Be],Xe=void 0;_n(q,Ye,Xe===void 0?E[Ye]:Xe)}return q}function Wr(E,D){return or(E,fn(E),D)}function dt(E){return co(E,es,fn)}function kn(E,D){var q=E.__data__;return Is(D)?q[typeof D=="string"?"string":"hash"]:q.map}function $e(E,D){var q=et(E,D);return bs(q)?q:void 0}var fn=hi?ui(hi,Object):Zn,ar=en;(Ur&&ar(new Ur(new ArrayBuffer(1)))!=se||Gn&&ar(new Gn)!=y||ln&&ar(ln.resolve())!=P||wr&&ar(new wr)!=k||un&&ar(new un)!=z)&&(ar=function(E){var D=Mr.call(E),q=D==S?E.constructor:void 0,ae=q?wt(q):void 0;if(ae)switch(ae){case Br:return se;case dn:return y;case fi:return P;case _r:return k;case pi:return z}return D});function Ji(E){var D=E.length,q=E.constructor(D);return D&&typeof E[0]=="string"&&wn.call(E,"index")&&(q.index=E.index,q.input=E.input),q}function Jn(E){return typeof E.constructor=="function"&&!Ft(E)?En(Bt(E)):{}}function fo(E,D,q,ae){var Be=E.constructor;switch(D){case Q:return Hr(E);case u:case d:return new Be(+E);case se:return sr(E,ae);case U:case L:case O:case F:case A:case V:case x:case le:case ue:return Tn(E,ae);case y:return Tr(E,ae,q);case T:case R:return new Be(E);case N:return Gr(E);case k:return ca(E,ae,q);case M:return Sr(E)}}function po(E,D){return D=D??i,!!D&&(typeof E=="number"||re.test(E))&&E>-1&&E%1==0&&E<D}function Is(E){var D=typeof E;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?E!=="__proto__":E===null}function lr(E){return!!Hi&&Hi in E}function Ft(E){var D=E&&E.constructor,q=typeof D=="function"&&D.prototype||Pn;return E===q}function wt(E){if(E!=null){try{return ci.call(E)}catch{}try{return E+""}catch{}}return""}function Ln(E){return Er(E,!0,!0)}function br(E,D){return E===D||E!==E&&D!==D}function tn(E){return mo(E)&&wn.call(E,"callee")&&(!Vr.call(E,"callee")||Mr.call(E)==o)}var On=Array.isArray;function Zi(E){return E!=null&&xs(E.length)&&!As(E)}function mo(E){return Kr(E)&&Zi(E)}var nn=Fr||er;function As(E){var D=Wt(E)?Mr.call(E):"";return D==m||D==v}function xs(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=i}function Wt(E){var D=typeof E;return!!E&&(D=="object"||D=="function")}function Kr(E){return!!E&&typeof E=="object"}function es(E){return Zi(E)?Yn(E):ho(E)}function Zn(){return[]}function er(){return!1}n.exports=Ln}(sc,sc.exports)),sc.exports}var oc={exports:{}};oc.exports;var nT;function UA(){return nT||(nT=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,l=9007199254740991,u="[object Arguments]",d="[object Array]",f="[object AsyncFunction]",m="[object Boolean]",v="[object Date]",y="[object Error]",T="[object Function]",S="[object GeneratorFunction]",P="[object Map]",N="[object Number]",k="[object Null]",R="[object Object]",M="[object Promise]",z="[object Proxy]",Q="[object RegExp]",se="[object Set]",U="[object String]",L="[object Symbol]",O="[object Undefined]",F="[object WeakMap]",A="[object ArrayBuffer]",V="[object DataView]",x="[object Float32Array]",le="[object Float64Array]",ue="[object Int8Array]",X="[object Int16Array]",oe="[object Int32Array]",K="[object Uint8Array]",re="[object Uint8ClampedArray]",Z="[object Uint16Array]",$="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,ge=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,ye={};ye[x]=ye[le]=ye[ue]=ye[X]=ye[oe]=ye[K]=ye[re]=ye[Z]=ye[$]=!0,ye[u]=ye[d]=ye[A]=ye[m]=ye[V]=ye[v]=ye[y]=ye[T]=ye[P]=ye[N]=ye[R]=ye[Q]=ye[se]=ye[U]=ye[F]=!1;var ke=typeof Fo=="object"&&Fo&&Fo.Object===Object&&Fo,Me=typeof self=="object"&&self&&self.Object===Object&&self,Te=ke||Me||Function("return this")(),De=e&&!e.nodeType&&e,Ue=De&&!0&&n&&!n.nodeType&&n,Qe=Ue&&Ue.exports===De,nt=Qe&&ke.process,et=function(){try{return nt&&nt.binding&&nt.binding("util")}catch{}}(),yt=et&&et.isTypedArray;function Lt(E,D){for(var q=-1,ae=E==null?0:E.length,Be=0,Ce=[];++q<ae;){var Ye=E[q];D(Ye,q,E)&&(Ce[Be++]=Ye)}return Ce}function ui(E,D){for(var q=-1,ae=D.length,Be=E.length;++q<ae;)E[Be+q]=D[q];return E}function $i(E,D){for(var q=-1,ae=E==null?0:E.length;++q<ae;)if(D(E[q],q,E))return!0;return!1}function so(E,D){for(var q=-1,ae=Array(E);++q<E;)ae[q]=D(q);return ae}function zi(E){return function(D){return E(D)}}function Pn(E,D){return E.has(D)}function Hn(E,D){return E==null?void 0:E[D]}function Hi(E){var D=-1,q=Array(E.size);return E.forEach(function(ae,Be){q[++D]=[Be,ae]}),q}function ci(E,D){return function(q){return E(D(q))}}function wn(E){var D=-1,q=Array(E.size);return E.forEach(function(ae){q[++D]=ae}),q}var Mr=Array.prototype,Ot=Function.prototype,vt=Object.prototype,Rn=Te["__core-js_shared__"],di=Ot.toString,Bt=vt.hasOwnProperty,jr=function(){var E=/[^.]+$/.exec(Rn&&Rn.keys&&Rn.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),Vr=vt.toString,Es=RegExp("^"+di.call(Bt).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hi=Qe?Te.Buffer:void 0,Fr=Te.Symbol,Gi=Te.Uint8Array,Ur=vt.propertyIsEnumerable,Gn=Mr.splice,ln=Fr?Fr.toStringTag:void 0,wr=Object.getOwnPropertySymbols,un=hi?hi.isBuffer:void 0,cn=ci(Object.keys,Object),Br=fn(Te,"DataView"),dn=fn(Te,"Map"),fi=fn(Te,"Promise"),_r=fn(Te,"Set"),pi=fn(Te,"WeakMap"),hn=fn(Object,"create"),Wi=wt(Br),ct=wt(dn),Ki=wt(fi),Wn=wt(_r),mi=wt(pi),qr=Fr?Fr.prototype:void 0,$r=qr?qr.valueOf:void 0;function mt(E){var D=-1,q=E==null?0:E.length;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function Ts(){this.__data__=hn?hn(null):{},this.size=0}function la(E){var D=this.has(E)&&delete this.__data__[E];return this.size-=D?1:0,D}function Qi(E){var D=this.__data__;if(hn){var q=D[E];return q===r?void 0:q}return Bt.call(D,E)?D[E]:void 0}function oo(E){var D=this.__data__;return hn?D[E]!==void 0:Bt.call(D,E)}function Kn(E,D){var q=this.__data__;return this.size+=this.has(E)?0:1,q[E]=hn&&D===void 0?r:D,this}mt.prototype.clear=Ts,mt.prototype.delete=la,mt.prototype.get=Qi,mt.prototype.has=oo,mt.prototype.set=Kn;function Pt(E){var D=-1,q=E==null?0:E.length;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function Qn(){this.__data__=[],this.size=0}function ao(E){var D=this.__data__,q=yi(D,E);if(q<0)return!1;var ae=D.length-1;return q==ae?D.pop():Gn.call(D,q,1),--this.size,!0}function Ss(E){var D=this.__data__,q=yi(D,E);return q<0?void 0:D[q][1]}function Yi(E){return yi(this.__data__,E)>-1}function Xi(E,D){var q=this.__data__,ae=yi(q,E);return ae<0?(++this.size,q.push([E,D])):q[ae][1]=D,this}Pt.prototype.clear=Qn,Pt.prototype.delete=ao,Pt.prototype.get=Ss,Pt.prototype.has=Yi,Pt.prototype.set=Xi;function Gt(E){var D=-1,q=E==null?0:E.length;for(this.clear();++D<q;){var ae=E[D];this.set(ae[0],ae[1])}}function lo(){this.size=0,this.__data__={hash:new mt,map:new(dn||Pt),string:new mt}}function ua(E){var D=$e(this,E).delete(E);return this.size-=D?1:0,D}function ft(E){return $e(this,E).get(E)}function uo(E){return $e(this,E).has(E)}function gi(E,D){var q=$e(this,E),ae=q.size;return q.set(E,D),this.size+=q.size==ae?0:1,this}Gt.prototype.clear=lo,Gt.prototype.delete=ua,Gt.prototype.get=ft,Gt.prototype.has=uo,Gt.prototype.set=gi;function Yn(E){var D=-1,q=E==null?0:E.length;for(this.__data__=new Gt;++D<q;)this.add(E[D])}function _n(E){return this.__data__.set(E,r),this}function zr(E){return this.__data__.has(E)}Yn.prototype.add=Yn.prototype.push=_n,Yn.prototype.has=zr;function Xn(E){var D=this.__data__=new Pt(E);this.size=D.size}function Er(){this.__data__=new Pt,this.size=0}function En(E){var D=this.__data__,q=D.delete(E);return this.size=D.size,q}function co(E){return this.__data__.get(E)}function en(E){return this.__data__.has(E)}function bs(E,D){var q=this.__data__;if(q instanceof Pt){var ae=q.__data__;if(!dn||ae.length<t-1)return ae.push([E,D]),this.size=++q.size,this;q=this.__data__=new Gt(ae)}return q.set(E,D),this.size=q.size,this}Xn.prototype.clear=Er,Xn.prototype.delete=En,Xn.prototype.get=co,Xn.prototype.has=en,Xn.prototype.set=bs;function ho(E,D){var q=tn(E),ae=!q&&br(E),Be=!q&&!ae&&Zi(E),Ce=!q&&!ae&&!Be&&Kr(E),Ye=q||ae||Be||Ce,Xe=Ye?so(E.length,String):[],st=Xe.length;for(var tt in E)Bt.call(E,tt)&&!(Ye&&(tt=="length"||Be&&(tt=="offset"||tt=="parent")||Ce&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||fo(tt,st)))&&Xe.push(tt);return Xe}function yi(E,D){for(var q=E.length;q--;)if(Ln(E[q][0],D))return q;return-1}function Hr(E,D,q){var ae=D(E);return tn(E)?ae:ui(ae,q(E))}function sr(E){return E==null?E===void 0?O:k:ln&&ln in Object(E)?ar(E):Ft(E)}function Tr(E){return Wt(E)&&sr(E)==u}function Gr(E,D,q,ae,Be){return E===D?!0:E==null||D==null||!Wt(E)&&!Wt(D)?E!==E&&D!==D:ca(E,D,q,ae,Gr,Be)}function ca(E,D,q,ae,Be,Ce){var Ye=tn(E),Xe=tn(D),st=Ye?d:Jn(E),tt=Xe?d:Jn(D);st=st==u?R:st,tt=tt==u?R:tt;var ht=st==R,Kt=tt==R,Et=st==tt;if(Et&&Zi(E)){if(!Zi(D))return!1;Ye=!0,ht=!1}if(Et&&!ht)return Ce||(Ce=new Xn),Ye||Kr(E)?or(E,D,q,ae,Be,Ce):Wr(E,D,st,q,ae,Be,Ce);if(!(q&i)){var _t=ht&&Bt.call(E,"__wrapped__"),Dt=Kt&&Bt.call(D,"__wrapped__");if(_t||Dt){var Tt=_t?E.value():E,qt=Dt?D.value():D;return Ce||(Ce=new Xn),Be(Tt,qt,q,ae,Ce)}}return Et?(Ce||(Ce=new Xn),dt(E,D,q,ae,Be,Ce)):!1}function Sr(E){if(!xs(E)||Is(E))return!1;var D=nn(E)?Es:ge;return D.test(wt(E))}function Tn(E){return Wt(E)&&As(E.length)&&!!ye[sr(E)]}function vi(E){if(!lr(E))return cn(E);var D=[];for(var q in Object(E))Bt.call(E,q)&&q!="constructor"&&D.push(q);return D}function or(E,D,q,ae,Be,Ce){var Ye=q&i,Xe=E.length,st=D.length;if(Xe!=st&&!(Ye&&st>Xe))return!1;var tt=Ce.get(E);if(tt&&Ce.get(D))return tt==D;var ht=-1,Kt=!0,Et=q&o?new Yn:void 0;for(Ce.set(E,D),Ce.set(D,E);++ht<Xe;){var _t=E[ht],Dt=D[ht];if(ae)var Tt=Ye?ae(Dt,_t,ht,D,E,Ce):ae(_t,Dt,ht,E,D,Ce);if(Tt!==void 0){if(Tt)continue;Kt=!1;break}if(Et){if(!$i(D,function(qt,ur){if(!Pn(Et,ur)&&(_t===qt||Be(_t,qt,q,ae,Ce)))return Et.push(ur)})){Kt=!1;break}}else if(!(_t===Dt||Be(_t,Dt,q,ae,Ce))){Kt=!1;break}}return Ce.delete(E),Ce.delete(D),Kt}function Wr(E,D,q,ae,Be,Ce,Ye){switch(q){case V:if(E.byteLength!=D.byteLength||E.byteOffset!=D.byteOffset)return!1;E=E.buffer,D=D.buffer;case A:return!(E.byteLength!=D.byteLength||!Ce(new Gi(E),new Gi(D)));case m:case v:case N:return Ln(+E,+D);case y:return E.name==D.name&&E.message==D.message;case Q:case U:return E==D+"";case P:var Xe=Hi;case se:var st=ae&i;if(Xe||(Xe=wn),E.size!=D.size&&!st)return!1;var tt=Ye.get(E);if(tt)return tt==D;ae|=o,Ye.set(E,D);var ht=or(Xe(E),Xe(D),ae,Be,Ce,Ye);return Ye.delete(E),ht;case L:if($r)return $r.call(E)==$r.call(D)}return!1}function dt(E,D,q,ae,Be,Ce){var Ye=q&i,Xe=kn(E),st=Xe.length,tt=kn(D),ht=tt.length;if(st!=ht&&!Ye)return!1;for(var Kt=st;Kt--;){var Et=Xe[Kt];if(!(Ye?Et in D:Bt.call(D,Et)))return!1}var _t=Ce.get(E);if(_t&&Ce.get(D))return _t==D;var Dt=!0;Ce.set(E,D),Ce.set(D,E);for(var Tt=Ye;++Kt<st;){Et=Xe[Kt];var qt=E[Et],ur=D[Et];if(ae)var Ir=Ye?ae(ur,qt,Et,D,E,Ce):ae(qt,ur,Et,E,D,Ce);if(!(Ir===void 0?qt===ur||Be(qt,ur,q,ae,Ce):Ir)){Dt=!1;break}Tt||(Tt=Et=="constructor")}if(Dt&&!Tt){var go=E.constructor,wi=D.constructor;go!=wi&&"constructor"in E&&"constructor"in D&&!(typeof go=="function"&&go instanceof go&&typeof wi=="function"&&wi instanceof wi)&&(Dt=!1)}return Ce.delete(E),Ce.delete(D),Dt}function kn(E){return Hr(E,es,Ji)}function $e(E,D){var q=E.__data__;return po(D)?q[typeof D=="string"?"string":"hash"]:q.map}function fn(E,D){var q=Hn(E,D);return Sr(q)?q:void 0}function ar(E){var D=Bt.call(E,ln),q=E[ln];try{E[ln]=void 0;var ae=!0}catch{}var Be=Vr.call(E);return ae&&(D?E[ln]=q:delete E[ln]),Be}var Ji=wr?function(E){return E==null?[]:(E=Object(E),Lt(wr(E),function(D){return Ur.call(E,D)}))}:Zn,Jn=sr;(Br&&Jn(new Br(new ArrayBuffer(1)))!=V||dn&&Jn(new dn)!=P||fi&&Jn(fi.resolve())!=M||_r&&Jn(new _r)!=se||pi&&Jn(new pi)!=F)&&(Jn=function(E){var D=sr(E),q=D==R?E.constructor:void 0,ae=q?wt(q):"";if(ae)switch(ae){case Wi:return V;case ct:return P;case Ki:return M;case Wn:return se;case mi:return F}return D});function fo(E,D){return D=D??l,!!D&&(typeof E=="number"||Ee.test(E))&&E>-1&&E%1==0&&E<D}function po(E){var D=typeof E;return D=="string"||D=="number"||D=="symbol"||D=="boolean"?E!=="__proto__":E===null}function Is(E){return!!jr&&jr in E}function lr(E){var D=E&&E.constructor,q=typeof D=="function"&&D.prototype||vt;return E===q}function Ft(E){return Vr.call(E)}function wt(E){if(E!=null){try{return di.call(E)}catch{}try{return E+""}catch{}}return""}function Ln(E,D){return E===D||E!==E&&D!==D}var br=Tr(function(){return arguments}())?Tr:function(E){return Wt(E)&&Bt.call(E,"callee")&&!Ur.call(E,"callee")},tn=Array.isArray;function On(E){return E!=null&&As(E.length)&&!nn(E)}var Zi=un||er;function mo(E,D){return Gr(E,D)}function nn(E){if(!xs(E))return!1;var D=sr(E);return D==T||D==S||D==f||D==z}function As(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=l}function xs(E){var D=typeof E;return E!=null&&(D=="object"||D=="function")}function Wt(E){return E!=null&&typeof E=="object"}var Kr=yt?zi(yt):Tn;function es(E){return On(E)?ho(E):vi(E)}function Zn(){return[]}function er(){return!1}n.exports=mo}(oc,oc.exports)),oc.exports}var wh={},rT;function n8(){if(rT)return wh;rT=1,Object.defineProperty(wh,"__esModule",{value:!0});const n=FA(),e=UA();var t;return function(r){function i(d={},f={},m=!1){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});let v=n(f);m||(v=Object.keys(v).reduce((y,T)=>(v[T]!=null&&(y[T]=v[T]),y),{}));for(const y in d)d[y]!==void 0&&f[y]===void 0&&(v[y]=d[y]);return Object.keys(v).length>0?v:void 0}r.compose=i;function o(d={},f={}){typeof d!="object"&&(d={}),typeof f!="object"&&(f={});const m=Object.keys(d).concat(Object.keys(f)).reduce((v,y)=>(e(d[y],f[y])||(v[y]=f[y]===void 0?null:f[y]),v),{});return Object.keys(m).length>0?m:void 0}r.diff=o;function l(d={},f={}){d=d||{};const m=Object.keys(f).reduce((v,y)=>(f[y]!==d[y]&&d[y]!==void 0&&(v[y]=f[y]),v),{});return Object.keys(d).reduce((v,y)=>(d[y]!==f[y]&&f[y]===void 0&&(v[y]=null),v),m)}r.invert=l;function u(d,f,m=!1){if(typeof d!="object")return f;if(typeof f!="object")return;if(!m)return f;const v=Object.keys(f).reduce((y,T)=>(d[T]===void 0&&(y[T]=f[T]),y),{});return Object.keys(v).length>0?v:void 0}r.transform=u}(t||(t={})),wh.default=t,wh}var _h={},iT;function BA(){if(iT)return _h;iT=1,Object.defineProperty(_h,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),_h.default=n,_h}var Eh={},sT;function r8(){if(sT)return Eh;sT=1,Object.defineProperty(Eh,"__esModule",{value:!0});const n=BA();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,l=n.default.length(i);if(r>=l-o?(r=l-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const u={};return i.attributes&&(u.attributes=i.attributes),typeof i.retain=="number"?u.retain=r:typeof i.retain=="object"&&i.retain!==null?u.retain=i.retain:typeof i.insert=="string"?u.insert=i.insert.substr(o,r):u.insert=i.insert,u}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(l)}}else return[]}}return Eh.default=e,Eh}var oT;function i8(){return oT||(oT=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=t8(),r=FA(),i=UA(),o=n8();e.AttributeMap=o.default;const l=BA();e.Op=l.default;const u=r8();e.OpIterator=u.default;const d="\0",f=(v,y)=>{if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);if(typeof y!="object"||y===null)throw new Error(`cannot retain a ${typeof y}`);const T=Object.keys(v)[0];if(!T||T!==Object.keys(y)[0])throw new Error(`embed types not matched: ${T} != ${Object.keys(y)[0]}`);return[T,v[T],y[T]]};class m{constructor(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]}static registerEmbed(y,T){this.handlers[y]=T}static unregisterEmbed(y){delete this.handlers[y]}static getHandler(y){const T=this.handlers[y];if(!T)throw new Error(`no handlers for embed type "${y}"`);return T}insert(y,T){const S={};return typeof y=="string"&&y.length===0?this:(S.insert=y,T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(S.attributes=T),this.push(S))}delete(y){return y<=0?this:this.push({delete:y})}retain(y,T){if(typeof y=="number"&&y<=0)return this;const S={retain:y};return T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(S.attributes=T),this.push(S)}push(y){let T=this.ops.length,S=this.ops[T-1];if(y=r(y),typeof S=="object"){if(typeof y.delete=="number"&&typeof S.delete=="number")return this.ops[T-1]={delete:S.delete+y.delete},this;if(typeof S.delete=="number"&&y.insert!=null&&(T-=1,S=this.ops[T-1],typeof S!="object"))return this.ops.unshift(y),this;if(i(y.attributes,S.attributes)){if(typeof y.insert=="string"&&typeof S.insert=="string")return this.ops[T-1]={insert:S.insert+y.insert},typeof y.attributes=="object"&&(this.ops[T-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof S.retain=="number")return this.ops[T-1]={retain:S.retain+y.retain},typeof y.attributes=="object"&&(this.ops[T-1].attributes=y.attributes),this}}return T===this.ops.length?this.ops.push(y):this.ops.splice(T,0,y),this}chop(){const y=this.ops[this.ops.length-1];return y&&typeof y.retain=="number"&&!y.attributes&&this.ops.pop(),this}filter(y){return this.ops.filter(y)}forEach(y){this.ops.forEach(y)}map(y){return this.ops.map(y)}partition(y){const T=[],S=[];return this.forEach(P=>{(y(P)?T:S).push(P)}),[T,S]}reduce(y,T){return this.ops.reduce(y,T)}changeLength(){return this.reduce((y,T)=>T.insert?y+l.default.length(T):T.delete?y-T.delete:y,0)}length(){return this.reduce((y,T)=>y+l.default.length(T),0)}slice(y=0,T=1/0){const S=[],P=new u.default(this.ops);let N=0;for(;N<T&&P.hasNext();){let k;N<y?k=P.next(y-N):(k=P.next(T-N),S.push(k)),N+=l.default.length(k)}return new m(S)}compose(y){const T=new u.default(this.ops),S=new u.default(y.ops),P=[],N=S.peek();if(N!=null&&typeof N.retain=="number"&&N.attributes==null){let R=N.retain;for(;T.peekType()==="insert"&&T.peekLength()<=R;)R-=T.peekLength(),P.push(T.next());N.retain-R>0&&S.next(N.retain-R)}const k=new m(P);for(;T.hasNext()||S.hasNext();)if(S.peekType()==="insert")k.push(S.next());else if(T.peekType()==="delete")k.push(T.next());else{const R=Math.min(T.peekLength(),S.peekLength()),M=T.next(R),z=S.next(R);if(z.retain){const Q={};if(typeof M.retain=="number")Q.retain=typeof z.retain=="number"?R:z.retain;else if(typeof z.retain=="number")M.retain==null?Q.insert=M.insert:Q.retain=M.retain;else{const U=M.retain==null?"insert":"retain",[L,O,F]=f(M[U],z.retain),A=m.getHandler(L);Q[U]={[L]:A.compose(O,F,U==="retain")}}const se=o.default.compose(M.attributes,z.attributes,typeof M.retain=="number");if(se&&(Q.attributes=se),k.push(Q),!S.hasNext()&&i(k.ops[k.ops.length-1],Q)){const U=new m(T.rest());return k.concat(U).chop()}}else typeof z.delete=="number"&&(typeof M.retain=="number"||typeof M.retain=="object"&&M.retain!==null)&&k.push(z)}return k.chop()}concat(y){const T=new m(this.ops.slice());return y.ops.length>0&&(T.push(y.ops[0]),T.ops=T.ops.concat(y.ops.slice(1))),T}diff(y,T){if(this.ops===y.ops)return new m;const S=[this,y].map(M=>M.map(z=>{if(z.insert!=null)return typeof z.insert=="string"?z.insert:d;const Q=M===y?"on":"with";throw new Error("diff() called "+Q+" non-document")}).join("")),P=new m,N=t(S[0],S[1],T,!0),k=new u.default(this.ops),R=new u.default(y.ops);return N.forEach(M=>{let z=M[1].length;for(;z>0;){let Q=0;switch(M[0]){case t.INSERT:Q=Math.min(R.peekLength(),z),P.push(R.next(Q));break;case t.DELETE:Q=Math.min(z,k.peekLength()),k.next(Q),P.delete(Q);break;case t.EQUAL:Q=Math.min(k.peekLength(),R.peekLength(),z);const se=k.next(Q),U=R.next(Q);i(se.insert,U.insert)?P.retain(Q,o.default.diff(se.attributes,U.attributes)):P.push(U).delete(Q);break}z-=Q}}),P.chop()}eachLine(y,T=`
`){const S=new u.default(this.ops);let P=new m,N=0;for(;S.hasNext();){if(S.peekType()!=="insert")return;const k=S.peek(),R=l.default.length(k)-S.peekLength(),M=typeof k.insert=="string"?k.insert.indexOf(T,R)-R:-1;if(M<0)P.push(S.next());else if(M>0)P.push(S.next(M));else{if(y(P,S.next(1).attributes||{},N)===!1)return;N+=1,P=new m}}P.length()>0&&y(P,{},N)}invert(y){const T=new m;return this.reduce((S,P)=>{if(P.insert)T.delete(l.default.length(P));else{if(typeof P.retain=="number"&&P.attributes==null)return T.retain(P.retain),S+P.retain;if(P.delete||typeof P.retain=="number"){const N=P.delete||P.retain;return y.slice(S,S+N).forEach(R=>{P.delete?T.push(R):P.retain&&P.attributes&&T.retain(l.default.length(R),o.default.invert(P.attributes,R.attributes))}),S+N}else if(typeof P.retain=="object"&&P.retain!==null){const N=y.slice(S,S+1),k=new u.default(N.ops).next(),[R,M,z]=f(P.retain,k.insert),Q=m.getHandler(R);return T.retain({[R]:Q.invert(M,z)},o.default.invert(P.attributes,k.attributes)),S+1}}return S},0),T.chop()}transform(y,T=!1){if(T=!!T,typeof y=="number")return this.transformPosition(y,T);const S=y,P=new u.default(this.ops),N=new u.default(S.ops),k=new m;for(;P.hasNext()||N.hasNext();)if(P.peekType()==="insert"&&(T||N.peekType()!=="insert"))k.retain(l.default.length(P.next()));else if(N.peekType()==="insert")k.push(N.next());else{const R=Math.min(P.peekLength(),N.peekLength()),M=P.next(R),z=N.next(R);if(M.delete)continue;if(z.delete)k.push(z);else{const Q=M.retain,se=z.retain;let U=typeof se=="object"&&se!==null?se:R;if(typeof Q=="object"&&Q!==null&&typeof se=="object"&&se!==null){const L=Object.keys(Q)[0];if(L===Object.keys(se)[0]){const O=m.getHandler(L);O&&(U={[L]:O.transform(Q[L],se[L],T)})}}k.retain(U,o.default.transform(M.attributes,z.attributes,T))}}return k.chop()}transformPosition(y,T=!1){T=!!T;const S=new u.default(this.ops);let P=0;for(;S.hasNext()&&P<=y;){const N=S.peekLength(),k=S.peekType();if(S.next(),k==="delete"){y-=Math.min(N,y-P);continue}else k==="insert"&&(P<y||!T)&&(y+=N);P+=N}return y}}m.Op=l.default,m.OpIterator=u.default,m.AttributeMap=o.default,m.handlers={},e.default=m,n.exports=m,n.exports.default=m}(vh,vh.exports)),vh.exports}var ai=i8();const Re=su(ai);class Bi extends Dr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Bi.blotName="break";Bi.tagName="BR";let Vi=class extends If{};const s8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ep(n){return n.replace(/[&<>"']/g,e=>s8[e])}const as=class as extends Yv{static compare(e,t){const r=as.order.indexOf(e),i=as.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(as.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Oe.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof as&&as.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};_e(as,"allowedChildren",[as,Bi,Dr,Vi]),_e(as,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ws=as;const aT=1;class xn extends Dc{constructor(){super(...arguments);_e(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=qA(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,o){r<=0||(this.scroll.query(i,Oe.BLOCK)?t+r===this.length()&&this.format(i,o):super.formatAt(t,Math.min(r,this.length()-t-1),i,o),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const o=r.split(`
`),l=o.shift();l.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let u=this;o.reduce((d,f)=>(u=u.split(d,!0),u.insertAt(0,f),f.length),t+l.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof Bi&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+aT),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-aT)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(t,r);return this.cache={},i}}xn.blotName="block";xn.tagName="P";xn.defaultChild=Bi;xn.allowedChildren=[Bi,ws,Dr,Vi];class oi extends Dr{attach(){super.attach(),this.attributes=new Jf(this.domNode)}delta(){return new Re().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Oe.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),l=i.map(d=>{const f=this.scroll.create(xn.blotName);return f.insertAt(0,d),f}),u=this.split(e);l.forEach(d=>{this.parent.insertBefore(d,u)}),o&&this.parent.insertBefore(this.scroll.create("text",o),u)}}oi.scope=Oe.BLOCK_BLOT;function qA(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(qn).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),ii(r,{},e)),new Re).insert(`
`,ii(n))}function ii(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:ii(n.parent,e,t)}const ni=class ni extends Dr{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(ni.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Oe.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ni.CONTENTS.length,r.optimize(),r.formatAt(i,ni.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Vi?this.prev:null,r=t?t.length():0,i=this.next instanceof Vi?this.next:null,o=i?i.text:"",{textNode:l}=this,u=l.data.split(ni.CONTENTS).join("");l.data=ni.CONTENTS;let d;if(t)d=t,(u||i)&&(t.insertAt(t.length(),u+o),i&&i.remove());else if(i)d=i,i.insertAt(0,u);else{const f=document.createTextNode(u);d=this.scroll.create(f),this.parent.insertBefore(d,this)}if(this.remove(),e){const f=(y,T)=>t&&y===t.domNode?T:y===l?r+T-1:i&&y===i.domNode?r+u.length+T:null,m=f(e.start.node,e.start.offset),v=f(e.end.node,e.end.offset);if(m!==null&&v!==null)return{startNode:d.domNode,startOffset:m,endNode:d.domNode,endOffset:v}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=ni.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};_e(ni,"blotName","cursor"),_e(ni,"className","ql-cursor"),_e(ni,"tagName","span"),_e(ni,"CONTENTS","\uFEFF");let nu=ni;var dg={exports:{}},lT;function o8(){return lT||(lT=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function o(d,f,m,v,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var T=new i(m,v||d,y),S=t?t+f:f;return d._events[S]?d._events[S].fn?d._events[S]=[d._events[S],T]:d._events[S].push(T):(d._events[S]=T,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,v;if(this._eventsCount===0)return f;for(v in m=this._events)e.call(m,v)&&f.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=t?t+f:f,v=this._events[m];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,T=v.length,S=new Array(T);y<T;y++)S[y]=v[y].fn;return S},u.prototype.listenerCount=function(f){var m=t?t+f:f,v=this._events[m];return v?v.fn?1:v.length:0},u.prototype.emit=function(f,m,v,y,T,S){var P=t?t+f:f;if(!this._events[P])return!1;var N=this._events[P],k=arguments.length,R,M;if(N.fn){switch(N.once&&this.removeListener(f,N.fn,void 0,!0),k){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,m),!0;case 3:return N.fn.call(N.context,m,v),!0;case 4:return N.fn.call(N.context,m,v,y),!0;case 5:return N.fn.call(N.context,m,v,y,T),!0;case 6:return N.fn.call(N.context,m,v,y,T,S),!0}for(M=1,R=new Array(k-1);M<k;M++)R[M-1]=arguments[M];N.fn.apply(N.context,R)}else{var z=N.length,Q;for(M=0;M<z;M++)switch(N[M].once&&this.removeListener(f,N[M].fn,void 0,!0),k){case 1:N[M].fn.call(N[M].context);break;case 2:N[M].fn.call(N[M].context,m);break;case 3:N[M].fn.call(N[M].context,m,v);break;case 4:N[M].fn.call(N[M].context,m,v,y);break;default:if(!R)for(Q=1,R=new Array(k-1);Q<k;Q++)R[Q-1]=arguments[Q];N[M].fn.apply(N[M].context,R)}}return!0},u.prototype.on=function(f,m,v){return o(this,f,m,v,!1)},u.prototype.once=function(f,m,v){return o(this,f,m,v,!0)},u.prototype.removeListener=function(f,m,v,y){var T=t?t+f:f;if(!this._events[T])return this;if(!m)return l(this,T),this;var S=this._events[T];if(S.fn)S.fn===m&&(!y||S.once)&&(!v||S.context===v)&&l(this,T);else{for(var P=0,N=[],k=S.length;P<k;P++)(S[P].fn!==m||y&&!S[P].once||v&&S[P].context!==v)&&N.push(S[P]);N.length?this._events[T]=N.length===1?N[0]:N:l(this,T)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=t?t+f:f,this._events[m]&&l(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u}(dg)),dg.exports}var a8=o8();const l8=su(a8),Ey=new WeakMap,Ty=["error","warn","log","info"];let Sy="warn";function $A(n){if(Sy&&Ty.indexOf(n)<=Ty.indexOf(Sy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function io(n){return Ty.reduce((e,t)=>(e[t]=$A.bind(console,t,n),e),{})}io.level=n=>{Sy=n};$A.level=io.level;const hg=io("quill:events"),u8=["selectionchange","mousedown","mouseup","click"];u8.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=Ey.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class xe extends l8{constructor(){super(),this.domListeners={},this.on("error",hg.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return hg.log.call(hg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:l,handler:u}=o;(e.target===l||l.contains(e.target))&&u(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}_e(xe,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),_e(xe,"sources",{API:"api",SILENT:"silent",USER:"user"});const fg=io("quill:selection");class qa{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class c8{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new qa(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,xe.sources.USER),1)}),this.emitter.on(xe.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(xe.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=o.some(u=>u.type==="characterData"||u.type==="childList"||u.type==="attributes"&&u.target===this.root);this.update(l?xe.sources.SILENT:i)}catch{}})}),this.emitter.on(xe.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:l,endNode:u,endOffset:d}=i.range;this.setNativeRange(o,l,u,d),this.update(xe.sources.SILENT)}}),this.update(xe.sources.SILENT)}handleComposition(){this.emitter.on(xe.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(xe.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(xe.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Oe.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof qn){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,l]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&l===o.length()){const[m]=this.scroll.leaf(e+1);if(m){const[v]=this.scroll.line(e),[y]=this.scroll.line(e+1);v===y&&(o=m,l=0)}}[i,l]=o.position(l,!0);const u=document.createRange();if(t>0)return u.setStart(i,l),[o,l]=this.scroll.leaf(e+t),o==null?null:([i,l]=o.position(l,!0),u.setEnd(i,l),u.getBoundingClientRect());let d="left",f;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(u.setStart(i,l),u.setEnd(i,l+1)):(u.setStart(i,l-1),u.setEnd(i,l),d="right"),f=u.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;f=o.domNode.getBoundingClientRect(),l>0&&(d="right")}return{bottom:f.top+f.height,height:f.height,left:f[d],right:f[d],top:f.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return fg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&pg(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(l=>{const[u,d]=l,f=this.scroll.find(u,!0),m=f.offset(this.scroll);return d===0?m:f instanceof qn?m+f.index(u,d):m+f.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new qa(o,i-o)}normalizeNative(e){if(!pg(this.root,e.startContainer)||!e.collapsed&&!pg(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[l,u]=this.scroll.leaf(i);return l?l.position(u,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(fg.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(u==null||o||e!==u.startContainer||t!==u.startOffset||r!==u.endContainer||i!==u.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const d=document.createRange();d.setStart(e,t),d.setEnd(r,i),l.removeAllRanges(),l.addRange(d)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe.sources.API;if(typeof t=="string"&&(r=t,t=!1),fg.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xe.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Vo(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const o=[xe.events.SELECTION_CHANGE,ql(this.lastRange),ql(t),e];this.emitter.emit(xe.events.EDITOR_CHANGE,...o),e!==xe.sources.SILENT&&this.emitter.emit(...o)}}}function pg(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const d8=/^[ -~]*$/;class h8{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=uT(e),i=new Re;return p8(r.ops.slice()).reduce((l,u)=>{const d=ai.Op.length(u);let f=u.attributes||{},m=!1,v=!1;if(u.insert!=null){if(i.retain(d),typeof u.insert=="string"){const S=u.insert;v=!S.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(oi,l)[0]),this.scroll.insertAt(l,S);const[P,N]=this.scroll.line(l);let k=Qo({},ii(P));if(P instanceof xn){const[R]=P.descendant(qn,N);R&&(k=Qo(k,ii(R)))}f=ai.AttributeMap.diff(k,f)||{}}else if(typeof u.insert=="object"){const S=Object.keys(u.insert)[0];if(S==null)return l;const P=this.scroll.query(S,Oe.INLINE)!=null;if(P)(t<=l||this.scroll.descendant(oi,l)[0])&&(v=!0);else if(l>0){const[N,k]=this.scroll.descendant(qn,l-1);N instanceof Vi?N.value()[k]!==`
`&&(m=!0):N instanceof Dr&&N.statics.scope===Oe.INLINE_BLOT&&(m=!0)}if(this.scroll.insertAt(l,S,u.insert[S]),P){const[N]=this.scroll.descendant(qn,l);if(N){const k=Qo({},ii(N));f=ai.AttributeMap.diff(k,f)||{}}}}t+=d}else if(i.push(u),u.retain!==null&&typeof u.retain=="object"){const S=Object.keys(u.retain)[0];if(S==null)return l;this.scroll.updateEmbedAt(l,S,u.retain[S])}Object.keys(f).forEach(S=>{this.scroll.formatAt(l,d,S,f[S])});const y=m?1:0,T=v?1:0;return t+=y+T,i.retain(y),i.delete(T),l+d+y+T},0),i.reduce((l,u)=>typeof u.delete=="number"?(this.scroll.deleteAt(l,u.delete),l):l+ai.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Re().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(o,r[o])})}),this.scroll.optimize();const i=new Re().retain(e).retain(t,ql(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new Re().retain(e).retain(t,ql(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Re)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(u=>{const[d]=u;d instanceof xn?r.push(d):d instanceof qn&&i.push(d)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(qn,e,t));const[o,l]=[r,i].map(u=>{const d=u.shift();if(d==null)return{};let f=ii(d);for(;Object.keys(f).length>0;){const m=u.shift();if(m==null)return f;f=f8(ii(m),f)}return f});return{...o,...l}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?Mc(r,i,t,!0):Mc(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=uT(t),i=new Re().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Re().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new Re().retain(e).insert(t,ql(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==xn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof Bi}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let l=0,u=new Re;i!=null&&(l=i.length()-o,u=i.delta().slice(o,o+l-1).insert(`
`));const f=this.getContents(e,t+l).diff(new Re().insert(r).concat(u)),m=new Re().retain(e).concat(f);return this.applyDelta(m)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(d8)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),l=ii(o),u=o.offset(this.scroll),d=t[0].oldValue.replace(nu.CONTENTS,""),f=new Re().insert(d),m=new Re().insert(o.value()),v=r&&{oldRange:cT(r.oldRange,-u),newRange:cT(r.newRange,-u)};e=new Re().retain(u).concat(f.diff(m,v)).reduce((T,S)=>S.insert?T.insert(S.insert,l):T.push(S),new Re),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Vo(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function Ll(n,e,t){if(n.length===0){const[T]=mg(t.pop());return e<=0?`</li></${T}>`:`</li></${T}>${Ll([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:l,type:u},...d]=n,[f,m]=mg(u);if(l>e)return t.push(u),l===e+1?`<${f}><li${m}>${Mc(r,i,o)}${Ll(d,l,t)}`:`<${f}><li>${Ll(n,e+1,t)}`;const v=t[t.length-1];if(l===e&&u===v)return`</li><li${m}>${Mc(r,i,o)}${Ll(d,l,t)}`;const[y]=mg(t.pop());return`</li></${y}>${Ll(n,e-1,t)}`}function Mc(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Vi)return ep(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Di){if(n.statics.blotName==="list-container"){const f=[];return n.children.forEachAt(e,t,(m,v,y)=>{const T="formats"in m&&typeof m.formats=="function"?m.formats():{};f.push({child:m,offset:v,length:y,indent:T.indent||0,type:T.list})}),Ll(f,-1,[])}const i=[];if(n.children.forEachAt(e,t,(f,m,v)=>{i.push(Mc(f,m,v))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:l}=n.domNode,[u,d]=o.split(`>${l}<`);return u==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${d}`:`${u}>${i.join("")}<${d}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function f8(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function mg(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function uT(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Re)}function cT(n,e){let{index:t,length:r}=n;return new qa(t+e,r)}function p8(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class qi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}_e(qi,"DEFAULTS",{});const Th="\uFEFF";class Jv extends Dr{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Th),this.rightGuard=document.createTextNode(Th),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(Th).join("");if(e===this.leftGuard)if(this.prev instanceof Vi){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Vi?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=Th,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class m8{constructor(e,t){_e(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Jv)&&(this.emitter.emit(xe.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(xe.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(xe.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(xe.events.COMPOSITION_END,e),this.isComposing=!1}}const yc=class yc{constructor(e,t){_e(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};_e(yc,"DEFAULTS",{modules:{}}),_e(yc,"themes",{default:yc});let ru=yc;const g8=n=>n.parentElement||n.getRootNode().host||null,y8=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Sh=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},dT=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,v8=(n,e)=>{var o,l,u;const t=n.ownerDocument;let r=e,i=n;for(;i;){const d=i===t.body,f=d?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??t.documentElement.clientWidth,bottom:((l=window.visualViewport)==null?void 0:l.height)??t.documentElement.clientHeight,left:0}:y8(i),m=getComputedStyle(i),v=dT(r.left,r.right,f.left,f.right,Sh(m.scrollPaddingLeft),Sh(m.scrollPaddingRight)),y=dT(r.top,r.bottom,f.top,f.bottom,Sh(m.scrollPaddingTop),Sh(m.scrollPaddingBottom));if(v||y)if(d)(u=t.defaultView)==null||u.scrollBy(v,y);else{const{scrollLeft:T,scrollTop:S}=i;y&&(i.scrollTop+=y),v&&(i.scrollLeft+=v);const P=i.scrollLeft-T,N=i.scrollTop-S;r={left:r.left-P,top:r.top-N,right:r.right-P,bottom:r.bottom-N}}i=d||m.position==="fixed"?null:g8(i)}},w8=100,_8=["block","break","cursor","inline","scroll","text"],E8=(n,e,t)=>{const r=new tu;return _8.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,l+=1,l>w8){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},zl=io("quill"),bh=new tu;Di.uiClass="ql-ui";const xi=class xi{static debug(e){e===!0&&(e="log"),io.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ey.get(e)||bh.find(e,t)}static import(e){return this.imports[e]==null&&zl.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&zl.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&bh.register(t),typeof t.register=="function"&&t.register(bh)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=T8(e,t),this.container=this.options.container,this.container==null){zl.error("Invalid Quill container",e);return}this.options.debug&&xi.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ey.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new xe;const i=Xv.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new h8(this.scroll),this.selection=new c8(this.scroll,this.emitter),this.composition=new m8(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(xe.events.EDITOR_CHANGE,l=>{l===xe.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(xe.events.SCROLL_UPDATE,(l,u)=>{const d=this.selection.lastRange,[f]=this.selection.getRange(),m=d&&f?{oldRange:d,newRange:f}:void 0;Ai.call(this,()=>this.editor.update(null,u,m),l)}),this.emitter.on(xe.events.SCROLL_EMBED_UPDATE,(l,u)=>{const d=this.selection.lastRange,[f]=this.selection.getRange(),m=d&&f?{oldRange:d,newRange:f}:void 0;Ai.call(this,()=>{const v=new Re().retain(l.offset(this)).retain({[l.statics.blotName]:u});return this.editor.update(v,[],m)},xi.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=Fs(e,t,r),Ai.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xe.sources.API;return Ai.call(this,()=>{const i=this.getSelection(!0);let o=new Re;if(i==null)return o;if(this.scroll.query(e,Oe.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,xe.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let l;return[e,t,l,o]=Fs(e,t,r,i,o),Ai.call(this,()=>this.editor.formatLine(e,t,l),o,e,0)}formatText(e,t,r,i,o){let l;return[e,t,l,o]=Fs(e,t,r,i,o),Ai.call(this,()=>this.editor.formatText(e,t,l),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Fs(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Fs(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Fs(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:xi.sources.API;return Ai.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let l;return[e,,l,o]=Fs(e,0,r,i,o),Ai.call(this,()=>this.editor.insertText(e,t,l),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=Fs(e,t,r),Ai.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){v8(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe.sources.API;return Ai.call(this,()=>{e=new Re(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(l)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||xi.sources.API):([e,t,,r]=Fs(e,t,r),this.selection.setRange(new qa(Math.max(0,e),t),r),r!==xe.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe.sources.API;const r=new Re().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xe.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xe.sources.API;return Ai.call(this,()=>(e=new Re(e),this.editor.applyDelta(e)),t,!0)}};_e(xi,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:bh,theme:"default"}),_e(xi,"events",xe.events),_e(xi,"sources",xe.sources),_e(xi,"version","2.0.3"),_e(xi,"imports",{delta:Re,parchment:e8,"core/module":qi,"core/theme":ru});let ce=xi;function hT(n){return typeof n=="string"?document.querySelector(n):n}function gg(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function fT(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function T8(n,e){const t=hT(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===ce.DEFAULTS.theme?ru:ce.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...l}=ce.DEFAULTS,{modules:u,...d}=i.DEFAULTS;let f=gg(e.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const m=Qo({},gg(o),gg(u),f),v={...l,...fT(d),...fT(e)};let y=e.registry;return y?e.formats&&zl.warn('Ignoring "formats" option because "registry" is specified'):y=e.formats?E8(e.formats,v.registry,zl):v.registry,{...v,registry:y,container:t,theme:i,modules:Object.entries(m).reduce((T,S)=>{let[P,N]=S;if(!N)return T;const k=ce.import(`modules/${P}`);return k==null?(zl.error(`Cannot load ${P} module. Are you sure you registered it?`),T):{...T,[P]:Qo({},k.DEFAULTS||{},N)}},{}),bounds:hT(v.bounds)}}function Ai(n,e,t,r){if(!this.isEnabled()&&e===xe.sources.USER&&!this.allowReadOnlyEdits)return new Re;let i=t==null?null:this.getSelection();const o=this.editor.delta,l=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=pT(i,l,e):r!==0&&(i=pT(i,t,r,e)),this.setSelection(i,xe.sources.SILENT)),l.length()>0){const u=[xe.events.TEXT_CHANGE,l,o,e];this.emitter.emit(xe.events.EDITOR_CHANGE,...u),e!==xe.sources.SILENT&&this.emitter.emit(...u)}return l}function Fs(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||xe.sources.API,[n,e,o,i]}function pT(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,l;return e&&typeof e.transformPosition=="function"?[o,l]=[n.index,n.index+n.length].map(u=>e.transformPosition(u,r!==xe.sources.USER)):[o,l]=[n.index,n.index+n.length].map(u=>u<e||u===e&&r===xe.sources.USER?u:i>=0?u+i:Math.max(e,u+i)),new qa(o,l-o)}class Ya extends Zf{}function mT(n){return n instanceof xn||n instanceof oi}function gT(n){return typeof n.updateContent=="function"}class Ol extends Xv{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(xe.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(xe.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(xe.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof oi||o instanceof oi){this.optimize();return}const l=o.children.head instanceof Bi?null:o.children.head;r.moveChildren(o,l),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Oe.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Oe.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Re().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const d=o.type==="block"&&(o.delta.length()===0||!this.descendant(oi,e)[0]&&e<this.length()),f=o.type==="block"?o.delta:new Re().insert({[o.key]:o.value});yg(this,e,f);const m=o.type==="block"?1:0,v=e+f.length()+m;d&&this.insertAt(v-1,`
`);const y=ii(this.line(e)[0]),T=ai.AttributeMap.diff(y,o.attributes)||{};Object.keys(T).forEach(S=>{this.formatAt(v-1,1,S,T[S])}),e=v}let[l,u]=this.children.find(e);if(r.length&&(l&&(l=l.split(u),u=0),r.forEach(d=>{if(d.type==="block"){const f=this.createBlock(d.attributes,l||void 0);yg(f,0,d.delta)}else{const f=this.create(d.key,d.value);this.insertBefore(f,l||void 0),Object.keys(d.attributes).forEach(m=>{f.format(m,d.attributes[m])})}})),i.type==="block"&&i.delta.length()){const d=l?l.offset(l.scroll)+u:this.length();yg(this,d,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof qn?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(mT,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,l)=>{let u=[],d=l;return i.children.forEachAt(o,l,(f,m,v)=>{mT(f)?u.push(f):f instanceof Zf&&(u=u.concat(r(f,m,d))),d-=v}),u};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(xe.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=xe.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!gT(o)}),e.length>0&&this.emitter.emit(xe.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(xe.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof oi,e);i&&i.statics.blotName===t&&gT(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Re;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const l=o.split(`
`);l.slice(0,-1).forEach(d=>{r.insert(d,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Re});const u=l[l.length-1];u&&r.insert(u,i.attributes)}else{const l=Object.keys(o)[0];if(!l)return;this.query(l,Oe.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Re,t.push({type:"blockEmbed",key:l,value:o[l],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(u=>{let[d,f]=u;this.query(d,Oe.BLOCK&Oe.BLOT)!=null?r=d:i[d]=f});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const l=o.length();return Object.entries(i).forEach(u=>{let[d,f]=u;o.formatAt(0,l,d,f)}),o}}_e(Ol,"blotName","scroll"),_e(Ol,"className","ql-editor"),_e(Ol,"tagName","DIV"),_e(Ol,"defaultChild",xn),_e(Ol,"allowedChildren",[xn,oi,Ya]);function yg(n,e,t){t.reduce((r,i)=>{const o=ai.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const u=i.insert;n.insertAt(r,u);const[d]=n.descendant(qn,r),f=ii(d);l=ai.AttributeMap.diff(f,l)||{}}else if(typeof i.insert=="object"){const u=Object.keys(i.insert)[0];if(u==null)return r;if(n.insertAt(r,u,i.insert[u]),n.scroll.query(u,Oe.INLINE)!=null){const[f]=n.descendant(qn,r),m=ii(f);l=ai.AttributeMap.diff(m,l)||{}}}}return Object.keys(l).forEach(u=>{n.formatAt(r,o,u,l[u])}),r+o},e)}const Zv={scope:Oe.BLOCK,whitelist:["right","center","justify"]},S8=new vs("align","align",Zv),zA=new Ui("align","ql-align",Zv),HA=new aa("align","text-align",Zv);class GA extends aa{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const b8=new Ui("color","ql-color",{scope:Oe.INLINE}),e0=new GA("color","color",{scope:Oe.INLINE}),I8=new Ui("background","ql-bg",{scope:Oe.INLINE}),t0=new GA("background","background-color",{scope:Oe.INLINE});class Xa extends Ya{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${ep(this.code(e,t))}
</pre>`}}class $n extends xn{static register(){ce.register(Xa)}}_e($n,"TAB","  ");class n0 extends ws{}n0.blotName="code";n0.tagName="CODE";$n.blotName="code-block";$n.className="ql-code-block";$n.tagName="DIV";Xa.blotName="code-block-container";Xa.className="ql-code-block-container";Xa.tagName="DIV";Xa.allowedChildren=[$n];$n.allowedChildren=[Vi,Bi,nu];$n.requiredContainer=Xa;const r0={scope:Oe.BLOCK,whitelist:["rtl"]},WA=new vs("direction","dir",r0),KA=new Ui("direction","ql-direction",r0),QA=new aa("direction","direction",r0),YA={scope:Oe.INLINE,whitelist:["serif","monospace"]},XA=new Ui("font","ql-font",YA);class A8 extends aa{value(e){return super.value(e).replace(/["']/g,"")}}const JA=new A8("font","font-family",YA),ZA=new Ui("size","ql-size",{scope:Oe.INLINE,whitelist:["small","large","huge"]}),ex=new aa("size","font-size",{scope:Oe.INLINE,whitelist:["10px","18px","32px"]}),x8=io("quill:keyboard"),C8=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class tp extends qi{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=P8(e);if(i==null){x8.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const u={...i,key:l,...t,...r};this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(k=>tp.match(e,k));if(i.length===0)return;const o=ce.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[u,d]=this.quill.getLine(l.index),[f,m]=this.quill.getLeaf(l.index),[v,y]=l.length===0?[f,m]:this.quill.getLeaf(l.index+l.length),T=f instanceof If?f.value().slice(0,m):"",S=v instanceof If?v.value().slice(y):"",P={collapsed:l.length===0,empty:l.length===0&&u.length()<=1,format:this.quill.getFormat(l),line:u,offset:d,prefix:T,suffix:S,event:e};i.some(k=>{if(k.collapsed!=null&&k.collapsed!==P.collapsed||k.empty!=null&&k.empty!==P.empty||k.offset!=null&&k.offset!==P.offset)return!1;if(Array.isArray(k.format)){if(k.format.every(R=>P.format[R]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every(R=>k.format[R]===!0?P.format[R]!=null:k.format[R]===!1?P.format[R]==null:Vo(k.format[R],P.format[R])))return!1;return k.prefix!=null&&!k.prefix.test(P.prefix)||k.suffix!=null&&!k.suffix.test(P.suffix)?!1:k.handler.call(this,l,P,k)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let l=new Re().retain(e.index-r).delete(r);if(t.offset===0){const[u]=this.quill.getLine(e.index-1);if(u&&!(u.statics.blotName==="block"&&u.length()<=1)){const f=o.formats(),m=this.quill.getFormat(e.index-1,1);if(i=ai.AttributeMap.diff(f,m)||{},Object.keys(i).length>0){const v=new Re().retain(e.index+o.length()-2).retain(1,i);l=l.compose(v)}}}this.quill.updateContents(l,ce.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let l=new Re().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[u]=this.quill.getLine(e.index+1);if(u){const d=o.formats(),f=this.quill.getFormat(e.index,1);i=ai.AttributeMap.diff(d,f)||{},Object.keys(i).length>0&&(l=l.retain(u.length()-1).retain(1,i))}}this.quill.updateContents(l,ce.sources.USER),this.quill.focus()}handleDeleteRange(e){i0({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,l)=>(this.quill.scroll.query(l,Oe.BLOCK)&&!Array.isArray(t.format[l])&&(o[l]=t.format[l]),o),{}),i=new Re().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,ce.sources.USER),this.quill.setSelection(e.index+1,ce.sources.SILENT),this.quill.focus()}}const N8={bindings:{bold:vg("bold"),italic:vg("italic"),underline:vg("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",ce.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",ce.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",ce.sources.USER):e.format.list!=null&&this.quill.format("list",!1,ce.sources.USER)}},"indent code-block":yT(!0),"outdent code-block":yT(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,ce.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Re().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,ce.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,ce.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,ce.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new Re().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,ce.sources.USER),this.quill.setSelection(n.index+1,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new Re().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,ce.sources.USER),this.quill.setSelection(n.index+1,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),l=R8(t,r,i,o);if(l==null)return;let u=t.offset();if(l<0){const d=new Re().retain(u).insert(`
`);this.quill.updateContents(d,ce.sources.USER),this.quill.setSelection(n.index+1,n.length,ce.sources.SILENT)}else if(l>0){u+=t.length();const d=new Re().retain(u).insert(`
`);this.quill.updateContents(d,ce.sources.USER),this.quill.setSelection(u,ce.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,ce.sources.USER):this.quill.setSelection(i+r.length(),ce.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",ce.sources.USER),this.quill.history.cutoff();const l=new Re().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(l,ce.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,ce.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new Re().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,ce.sources.USER),this.quill.setSelection(n.index-1,ce.sources.SILENT),!1}return!0}},"embed left":Ih("ArrowLeft",!1),"embed left shift":Ih("ArrowLeft",!0),"embed right":Ih("ArrowRight",!1),"embed right shift":Ih("ArrowRight",!0),"table down":vT(!1),"table up":vT(!0)}};tp.DEFAULTS=N8;function yT(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,ce.sources.USER),this.quill.setSelection(e.index+o.length,ce.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:u,length:d}=e;l.forEach((f,m)=>{n?(f.insertAt(0,o),m===0?u+=o.length:d+=o.length):f.domNode.textContent.startsWith(o)&&(f.deleteAt(0,o.length),m===0?u-=o.length:d-=o.length)}),this.quill.update(ce.sources.USER),this.quill.setSelection(u,d,ce.sources.SILENT)}}}function Ih(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Dr?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,ce.sources.USER):this.quill.setSelection(r.index-1,ce.sources.USER):e?this.quill.setSelection(r.index,r.length+1,ce.sources.USER):this.quill.setSelection(r.index+r.length+1,ce.sources.USER),!1):!0}}}function vg(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],ce.sources.USER)}}}function vT(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let l=o.children.head,u=i;for(;u.prev!=null;)u=u.prev,l=l.next;const d=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(d,0,ce.sources.USER)}}else{const l=i.table()[r];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,ce.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,ce.sources.USER))}return!1}}}function P8(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=ql(n);else return null;return n.shortKey&&(n[C8]=n.shortKey,delete n.shortKey),n}function i0(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),l=r[r.length-1].formats();i=ai.AttributeMap.diff(l,o)||{}}e.deleteText(t,ce.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,ce.sources.USER),e.setSelection(t.index,ce.sources.SILENT)}function R8(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const k8=/font-weight:\s*normal/,L8=["P","OL","UL"],wT=n=>n&&L8.includes(n.tagName),O8=n=>{Array.from(n.querySelectorAll("br")).filter(e=>wT(e.previousElementSibling)&&wT(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},D8=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(k8)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function M8(n){n.querySelector('[id^="docs-internal-guid-"]')&&(D8(n),O8(n))}const j8=/\bmso-list:[^;]*ignore/i,V8=/\bmso-list:[^;]*\bl(\d+)/i,F8=/\bmso-list:[^;]*\blevel(\d+)/i,U8=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(V8);if(!r)return null;const i=Number(r[1]),o=t==null?void 0:t.match(F8),l=o?Number(o[1]):1,u=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(u),f=d&&d[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:f,element:n}},B8=n=>{var l,u;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(d=>{(d.getAttribute("style")||"").match(j8)?t.push(d):r.push(d)}),t.forEach(d=>{var f;return(f=d.parentNode)==null?void 0:f.removeChild(d)});const i=n.documentElement.innerHTML,o=r.map(d=>U8(d,i)).filter(d=>d);for(;o.length;){const d=[];let f=o.shift();for(;f;)d.push(f),f=o.length&&((l=o[0])==null?void 0:l.element)===f.element.nextElementSibling&&o[0].id===f.id?o.shift():null;const m=document.createElement("ul");d.forEach(T=>{const S=document.createElement("li");S.setAttribute("data-list",T.type),T.indent>1&&S.setAttribute("class",`ql-indent-${T.indent-1}`),S.innerHTML=T.element.innerHTML,m.appendChild(S)});const v=(u=d[0])==null?void 0:u.element,{parentNode:y}=v??{};v&&(y==null||y.replaceChild(m,v)),d.slice(1).forEach(T=>{let{element:S}=T;y==null||y.removeChild(S)})}};function q8(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&B8(n)}const $8=[q8,M8],z8=n=>{n.documentElement&&$8.forEach(e=>{e(n)})},H8=io("quill:clipboard"),G8=[[Node.TEXT_NODE,iF],[Node.TEXT_NODE,ET],["br",X8],[Node.ELEMENT_NODE,ET],[Node.ELEMENT_NODE,Y8],[Node.ELEMENT_NODE,Q8],[Node.ELEMENT_NODE,nF],["li",eF],["ol, ul",tF],["pre",J8],["tr",rF],["b",wg("bold")],["i",wg("italic")],["strike",wg("strike")],["style",Z8]],W8=[S8,WA].reduce((n,e)=>(n[e.keyName]=e,n),{}),_T=[HA,t0,e0,QA,JA,ex].reduce((n,e)=>(n[e.keyName]=e,n),{});class tx extends qi{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],G8.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[$n.blotName])return new Re().insert(r||"",{[$n.blotName]:i[$n.blotName]});if(!t)return new Re().insert(r||"",i);const o=this.convertHTML(t);return td(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new Re().retain(o.length()-1).delete(1)):o}normalizeHTML(e){z8(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,l]=this.prepareMatching(r,i);return s0(this.quill.scroll,r,o,l,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ce.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,ce.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Re().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),ce.sources.SILENT)}}onCaptureCopy(e){var l,u;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);(l=e.clipboardData)==null||l.setData("text/plain",o),(u=e.clipboardData)==null||u.setData("text/html",i),t&&i0({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var l,u,d,f,m;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(l=e.clipboardData)==null?void 0:l.getData("text/html");let i=(u=e.clipboardData)==null?void 0:u.getData("text/plain");if(!r&&!i){const v=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");v&&(i=this.normalizeURIList(v))}const o=Array.from(((f=e.clipboardData)==null?void 0:f.files)||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const v=new DOMParser().parseFromString(r,"text/html");if(v.body.childElementCount===1&&((m=v.body.firstElementChild)==null?void 0:m.tagName)==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),l=this.convert({text:r,html:i},o);H8.log("onPaste",l,{text:r,html:i});const u=new Re().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(u,ce.sources.USER),this.quill.setSelection(u.length()-e.length,ce.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[l,u]=o;switch(l){case Node.TEXT_NODE:i.push(u);break;case Node.ELEMENT_NODE:r.push(u);break;default:Array.from(e.querySelectorAll(l)).forEach(d=>{if(t.has(d)){const f=t.get(d);f==null||f.push(u)}else t.set(d,[u])});break}}),[r,i]}}_e(tx,"DEFAULTS",{matchers:[]});function Ja(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const l=t?{[e]:t}:{};return i.insert(o.insert,{...l,...o.attributes})},new Re):n}function td(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function qo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof Dr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function K8(n,e){return n.previousElementSibling&&n.nextElementSibling&&!qo(n.previousElementSibling,e)&&!qo(n.nextElementSibling,e)}const Ah=new WeakMap;function nx(n){return n==null?!1:(Ah.has(n)||(n.tagName==="PRE"?Ah.set(n,!0):Ah.set(n,nx(n.parentNode))),Ah.get(n))}function s0(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,l)=>l(e,o,n),new Re):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,l)=>{let u=s0(n,l,t,r,i);return l.nodeType===e.ELEMENT_NODE&&(u=t.reduce((d,f)=>f(l,d,n),u),u=(i.get(l)||[]).reduce((d,f)=>f(l,d,n),u)),o.concat(u)},new Re):new Re}function wg(n){return(e,t,r)=>Ja(t,n,!0,r)}function Q8(n,e,t){const r=vs.keys(n),i=Ui.keys(n),o=aa.keys(n),l={};return r.concat(i).concat(o).forEach(u=>{let d=t.query(u,Oe.ATTRIBUTE);d!=null&&(l[d.attrName]=d.value(n),l[d.attrName])||(d=W8[u],d!=null&&(d.attrName===u||d.keyName===u)&&(l[d.attrName]=d.value(n)||void 0),d=_T[u],d!=null&&(d.attrName===u||d.keyName===u)&&(d=_T[u],l[d.attrName]=d.value(n)||void 0))}),Object.entries(l).reduce((u,d)=>{let[f,m]=d;return Ja(u,f,m,t)},e)}function Y8(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof Dr){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new Re().insert(i,r.formats(n,t))}else if(r.prototype instanceof Dc&&!td(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Ja(e,r.blotName,r.formats(n,t),t);return e}function X8(n,e){return td(e,`
`)||e.insert(`
`),e}function J8(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Ja(e,"code-block",i,t)}function Z8(){return new Re}function eF(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!td(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((l,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?l.push(u):l.insert(u.insert,{indent:i,...u.attributes||{}}):l,new Re)}function tF(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Ja(e,"list",i,t)}function ET(n,e,t){if(!td(e,`
`)){if(qo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(qo(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof oi)return e.insert(`
`);r=r.firstChild}}}return e}function nF(n,e,t){var o;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,u)=>{let[d,f]=u;return Ja(l,d,f,t)},e),parseFloat(i.textIndent||0)>0?new Re().insert("	").concat(e):e}function rF(n,e,t){var i,o;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(o=n.parentElement)==null?void 0:o.parentElement;if(r!=null){const u=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Ja(e,"table",u,t)}return e}function iF(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!nx(n)){if(r.trim().length===0&&r.includes(`
`)&&!K8(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&qo(n.parentElement,t)||n.previousSibling instanceof Element&&qo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&qo(n.parentElement,t)||n.nextSibling instanceof Element&&qo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return e.insert(r)}class rx extends qi{constructor(t,r){super(t,r);_e(this,"lastRecorded",0);_e(this,"ignoreChange",!1);_e(this,"stack",{undo:[],redo:[]});_e(this,"currentRange",null);this.quill.on(ce.events.EDITOR_CHANGE,(i,o,l,u)=>{i===ce.events.SELECTION_CHANGE?o&&u!==ce.sources.SILENT&&(this.currentRange=o):i===ce.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===ce.sources.USER?this.record(o,l):this.transform(o)),this.currentRange=by(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const o=this.quill.getContents(),l=i.delta.invert(o);this.stack[r].push({delta:l,range:by(i.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,ce.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),o=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(i=i.compose(u.delta),o=u.range)}else this.lastRecorded=l;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){TT(this.stack.undo,t),TT(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,ce.sources.USER);else{const r=oF(this.quill.scroll,t.delta);this.quill.setSelection(r,ce.sources.USER)}}}_e(rx,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function TT(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&by(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function sF(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Oe.BLOCK)!=null):!1}function oF(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return sF(n,e)&&(r-=1),r}function by(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class ix extends qi{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var l;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(u.offsetNode,u.offset),i.setEnd(u.offsetNode,u.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const u=e.selection.normalizedToRange(o);(l=r.dataTransfer)!=null&&l.files&&this.upload(u,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}ix.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,l)=>o.insert({image:l}),new Re().retain(n.index).delete(n.length));this.quill.updateContents(i,xe.sources.USER),this.quill.setSelection(n.index+r.length,xe.sources.SILENT)})}};const aF=["insertText","insertReplacementText"];class lF extends qi{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(ce.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){i0({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Re().retain(e.index).insert(t,r),ce.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,ce.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!aF.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=uF(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function uF(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const cF=/Mac/i.test(navigator.platform),dF=100,hF=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||cF&&n.key==="a"&&n.ctrlKey===!0);class fF extends qi{constructor(t,r){super(t,r);_e(this,"isListening",!1);_e(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:o}=r;if(!(i instanceof Di)||!i.uiNode)return!0;const l=getComputedStyle(i.domNode).direction==="rtl";return l&&o.key!=="ArrowRight"||!l&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),ce.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&hF(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+dF,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof Di)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(o)}}ce.register({"blots/block":xn,"blots/block/embed":oi,"blots/break":Bi,"blots/container":Ya,"blots/cursor":nu,"blots/embed":Jv,"blots/inline":ws,"blots/scroll":Ol,"blots/text":Vi,"modules/clipboard":tx,"modules/history":rx,"modules/keyboard":tp,"modules/uploader":ix,"modules/input":lF,"modules/uiNode":fF});class pF extends Ui{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const mF=new pF("indent","ql-indent",{scope:Oe.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Iy extends xn{}_e(Iy,"blotName","blockquote"),_e(Iy,"tagName","blockquote");class Ay extends xn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}_e(Ay,"blotName","header"),_e(Ay,"tagName",["H1","H2","H3","H4","H5","H6"]);class nd extends Ya{}nd.blotName="list-container";nd.tagName="OL";class rd extends xn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){ce.register(nd)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),o.preventDefault()):l==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}rd.blotName="list";rd.tagName="LI";nd.allowedChildren=[rd];rd.requiredContainer=nd;class jc extends ws{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}_e(jc,"blotName","bold"),_e(jc,"tagName",["STRONG","B"]);class xy extends jc{}_e(xy,"blotName","italic"),_e(xy,"tagName",["EM","I"]);class $o extends ws{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return sx(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}_e($o,"blotName","link"),_e($o,"tagName","A"),_e($o,"SANITIZED_URL","about:blank"),_e($o,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function sx(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class Cy extends ws{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}_e(Cy,"blotName","script"),_e(Cy,"tagName",["SUB","SUP"]);class Ny extends jc{}_e(Ny,"blotName","strike"),_e(Ny,"tagName",["S","STRIKE"]);class Py extends ws{}_e(Py,"blotName","underline"),_e(Py,"tagName","U");class zh extends Jv{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}_e(zh,"blotName","formula"),_e(zh,"className","ql-formula"),_e(zh,"tagName","SPAN");const ST=["alt","height","width"];var xh;let gF=(xh=class extends Dr{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return ST.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return sx(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){ST.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},_e(xh,"blotName","image"),_e(xh,"tagName","IMG"),xh);const bT=["height","width"];class Hh extends oi{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return bT.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return $o.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){bT.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}_e(Hh,"blotName","video"),_e(Hh,"className","ql-video"),_e(Hh,"tagName","IFRAME");const ac=new Ui("code-token","hljs",{scope:Oe.INLINE});class Zs extends ws{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains($n.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),ac.add(this.domNode,r)}format(e,t){e!==Zs.blotName?super.format(e,t):t?ac.add(this.domNode,t):(ac.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),ac.value(this.domNode)||this.unwrap()}}Zs.blotName="code-token";Zs.className="ql-token";class si extends $n{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Zs.blotName,!1),super.replaceWith(e,t)}}class gc extends Xa{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===si.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===si.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,o=si.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((d,f)=>d.concat(qA(f,!1)),new Re),u=e(i,o);l.diff(u).reduce((d,f)=>{let{retain:m,attributes:v}=f;return m?(v&&Object.keys(v).forEach(y=>{[si.blotName,Zs.blotName].includes(y)&&this.formatAt(d,m,y,v[y])}),d+m):d},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?si.formats(r.domNode):"plain"}">
${ep(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=si.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}gc.allowedChildren=[si];si.requiredContainer=gc;si.allowedChildren=[Zs,nu,Vi,Bi];const yF=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class ox extends qi{static register(){ce.register(Zs,!0),ce.register(si,!0),ce.register(gc,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(ce.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof gc))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const l=t.ownerDocument.createElement("option");l.textContent=o,l.setAttribute("value",i),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(si.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=si.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(ce.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(ce.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(gc):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(ce.sources.SILENT),r!=null&&this.quill.setSelection(r,ce.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return ep(e).split(`
`).reduce((i,o,l)=>(l!==0&&i.insert(`
`,{[$n.blotName]:t}),i.insert(o)),new Re);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add($n.className),r.innerHTML=yF(this.options.hljs,t,e),s0(this.quill.scroll,r,[(i,o)=>{const l=ac.value(i);return l?o.compose(new Re().retain(o.length(),{[Zs.blotName]:l})):o}],[(i,o)=>i.data.split(`
`).reduce((l,u,d)=>(d!==0&&l.insert(`
`,{[$n.blotName]:t}),l.insert(u)),o)],new WeakMap)}}ox.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const vc=class vc extends xn{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",o0()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===vc.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};_e(vc,"blotName","table"),_e(vc,"tagName","TD");let Pi=vc;class eo extends Ya{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}_e(eo,"blotName","table-row"),_e(eo,"tagName","TR");class ms extends Ya{}_e(ms,"blotName","table-body"),_e(ms,"tagName","TBODY");class iu extends Ya{balanceCells(){const e=this.descendants(eo),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Pi.formats(r.children.head.domNode));const o=this.scroll.create(Pi.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(ms);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(ms);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=Pi.formats(r.children.head.domNode),l=this.scroll.create(Pi.blotName,o);r.insertBefore(l,i)})}insertRow(e){const[t]=this.descendant(ms);if(t==null||t.children.head==null)return;const r=o0(),i=this.scroll.create(eo.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Pi.blotName,r);i.appendChild(l)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}_e(iu,"blotName","table-container"),_e(iu,"tagName","TABLE");iu.allowedChildren=[ms];ms.requiredContainer=iu;ms.allowedChildren=[eo];eo.requiredContainer=ms;eo.allowedChildren=[Pi];Pi.requiredContainer=eo;function o0(){return`row-${Math.random().toString(36).slice(2,6)}`}class vF extends qi{static register(){ce.register(Pi),ce.register(eo),ce.register(ms),ce.register(iu)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(iu).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(ce.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(ce.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(ce.sources.USER),this.quill.setSelection(t,ce.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Pi.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=o.cellOffset();r.insertColumn(l+e),this.quill.update(ce.sources.USER);let u=i.rowOffset();e===0&&(u+=1),this.quill.setSelection(t.index+u,t.length,ce.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=i.rowOffset();r.insertRow(l+e),this.quill.update(ce.sources.USER),e>0?this.quill.setSelection(t,ce.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,ce.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const l=new Array(t).fill(`
`).join("");return o.insert(l,{table:o0()})},new Re().retain(r.index));this.quill.updateContents(i,ce.sources.USER),this.quill.setSelection(r.index,ce.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(ce.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(ce.events.TEXT_CHANGE,(r,i,o)=>{o===ce.sources.USER&&this.balanceTables()}),!0):!1)})}}const IT=io("quill:toolbar");class a0 extends qi{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),wF(o,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){IT.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var u;const l=(u=this.options.handlers)==null?void 0:u[o];l&&this.addHandler(o,l)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(ce.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){IT.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const u=e.options[e.selectedIndex];u.hasAttribute("selected")?o=!1:o=u.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof Dr){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new Re().retain(l.index).delete(l.length).insert({[t]:o}),ce.sources.USER)}else this.quill.format(t,o,ce.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[i]==null)l=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let u=t[i];typeof u=="string"&&(u=u.replace(/"/g,'\\"')),l=o.querySelector(`option[value="${u}"]`)}l==null?(o.value="",o.selectedIndex=-1):l.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const l=t[i],u=l===o.getAttribute("value")||l!=null&&l.toString()===o.getAttribute("value")||l==null&&!o.getAttribute("value");o.classList.toggle("ql-active",u),o.setAttribute("aria-pressed",u.toString())}else{const l=t[i]!=null;o.classList.toggle("ql-active",l),o.setAttribute("aria-pressed",l.toString())}})}}a0.DEFAULTS={};function AT(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function wF(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")AT(r,i);else{const o=Object.keys(i)[0],l=i[o];Array.isArray(l)?_F(r,o,l):AT(r,o,l)}}),n.appendChild(r)})}function _F(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}a0.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Oe.INLINE)!=null&&this.quill.format(t,!1,ce.sources.USER)})}else this.quill.removeFormat(n.index,n.length,ce.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",ce.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,ce.sources.USER),this.quill.format("direction",n,ce.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,ce.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,ce.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,ce.sources.USER):this.quill.format("list","unchecked",ce.sources.USER):this.quill.format("list",n,ce.sources.USER)}}};const EF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',TF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',SF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',bF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',IF='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',AF='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',xF='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',CF='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',xT='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',NF='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',PF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',RF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',kF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',LF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',OF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',DF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',MF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',jF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',VF='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',FF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',UF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',BF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',qF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',$F='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',zF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',HF='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',GF='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',WF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',KF='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',QF='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',YF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',XF='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',JF='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Vc={align:{"":EF,center:TF,right:SF,justify:bF},background:IF,blockquote:AF,bold:xF,clean:CF,code:xT,"code-block":xT,color:NF,direction:{"":PF,rtl:RF},formula:kF,header:{1:LF,2:OF,3:DF,4:MF,5:jF,6:VF},italic:FF,image:UF,indent:{"+1":BF,"-1":qF},link:$F,list:{bullet:zF,check:HF,ordered:GF},script:{sub:WF,super:KF},strike:QF,table:YF,underline:XF,video:JF},ZF='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let CT=0;function NT(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class np{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),NT(this.label,"aria-expanded"),NT(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=ZF,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${CT}`,CT+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class ax extends np{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class lx extends np{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const e7=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class ux{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,e7(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let l=0;if(o.right>i.right&&(l=i.right-o.right,this.root.style.left=`${t+l}px`),o.left<i.left&&(l=i.left-o.left,this.root.style.left=`${t+l}px`),o.bottom>i.bottom){const u=o.bottom-o.top,d=e.bottom-e.top+u;this.root.style.top=`${r-d}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const t7=[!1,"center","right","justify"],n7=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],r7=[!1,"serif","monospace"],i7=["1","2","3",!1],s7=["small",!1,"large","huge"];class id extends ru{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const l=r.value||"";l!=null&&t[o][l]&&(r.innerHTML=t[o][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Zu(i,t7),typeof t.align=="object"))return new lx(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Zu(i,n7,o==="background"?"#ffffff":"#000000"),new ax(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Zu(i,r7):i.classList.contains("ql-header")?Zu(i,i7):i.classList.contains("ql-size")&&Zu(i,s7)),new np(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(xe.events.EDITOR_CHANGE,r)}}id.DEFAULTS=Qo({},ru.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class cx extends ux{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,xe.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,xe.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=o7(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,xe.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",xe.sources.USER),this.quill.setSelection(r+2,xe.sources.USER)}break}}this.textbox.value="",this.hide()}}function o7(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Zu(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const a7=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class dx extends cx{constructor(e,t){super(e,t),this.quill.on(xe.events.EDITOR_CHANGE,(r,i,o,l)=>{if(r===xe.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===xe.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(i.index,i.length);if(u.length===1){const d=this.quill.getBounds(i);d!=null&&this.position(d)}else{const d=u[u.length-1],f=this.quill.getIndex(d),m=Math.min(d.length()-1,i.index+i.length-f),v=this.quill.getBounds(new qa(f,m));v!=null&&this.position(v)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(xe.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}_e(dx,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class hx extends id{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=a7),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new dx(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Vc),this.buildPickers(e.container.querySelectorAll("select"),Vc))}}hx.DEFAULTS=Qo({},id.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,ce.sources.USER)}}}}});const l7=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class fx extends cx{constructor(){super(...arguments);_e(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,xe.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(xe.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===xe.sources.USER){const[o,l]=this.quill.scroll.descendant($o,t.index);if(o!=null){this.linkRange=new qa(t.index-l,o.length());const u=$o.formats(o.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}_e(fx,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class px extends id{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=l7),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Vc),this.buildPickers(e.container.querySelectorAll("select"),Vc),this.tooltip=new fx(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}px.DEFAULTS=Qo({},id.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,ce.sources.USER)}}}}});ce.register({"attributors/attribute/direction":WA,"attributors/class/align":zA,"attributors/class/background":I8,"attributors/class/color":b8,"attributors/class/direction":KA,"attributors/class/font":XA,"attributors/class/size":ZA,"attributors/style/align":HA,"attributors/style/background":t0,"attributors/style/color":e0,"attributors/style/direction":QA,"attributors/style/font":JA,"attributors/style/size":ex},!0);ce.register({"formats/align":zA,"formats/direction":KA,"formats/indent":mF,"formats/background":t0,"formats/color":e0,"formats/font":XA,"formats/size":ZA,"formats/blockquote":Iy,"formats/code-block":$n,"formats/header":Ay,"formats/list":rd,"formats/bold":jc,"formats/code":n0,"formats/italic":xy,"formats/link":$o,"formats/script":Cy,"formats/strike":Ny,"formats/underline":Py,"formats/formula":zh,"formats/image":gF,"formats/video":Hh,"modules/syntax":ox,"modules/table":vF,"modules/toolbar":a0,"themes/bubble":hx,"themes/snow":px,"ui/icons":Vc,"ui/picker":np,"ui/icon-picker":lx,"ui/color-picker":ax,"ui/tooltip":ux},!0);class sd extends We.Component{constructor(e){super(e),this.editingAreaRef=G.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,o,l)=>{var u,d;r==="text-change"?(u=this.onEditorChangeText)==null||u.call(this,this.editor.root.innerHTML,i,l,this.unprivilegedEditor):r==="selection-change"&&((d=this.onEditorChangeSelection)==null||d.call(this,i,l,this.unprivilegedEditor))};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(We.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(We.Children.count(e.children)){const t=We.Children.only(e.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!Vo(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!Vo(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const o=this.editor;o.setContents(r),PT(()=>this.setEditorSelection(o,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r;if(!this.editor)return;this.unhookEditor(this.editor);const e=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const i=document.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new ce(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?Vo(e.ops,t.ops):Vo(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),PT(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){var r;(r=e==null?void 0:e.scroll)!=null&&r.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return We.Children.count(e)?We.cloneElement(We.Children.only(e),i):t?We.createElement("pre",{...i}):We.createElement("div",{...i})}render(){return We.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,i){var l,u;if(!this.editor)return;const o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,(u=(l=this.props).onChange)==null||u.call(l,e,t,r,i))}onEditorChangeSelection(e,t,r){var u,d,f,m,v,y;if(!this.editor)return;const i=this.getEditorSelection(),o=!i&&e,l=i&&!e;Vo(e,i)||(this.selection=e,(d=(u=this.props).onChangeSelection)==null||d.call(u,e,t,r),o?(m=(f=this.props).onFocus)==null||m.call(f,e,t,r):l&&((y=(v=this.props).onBlur)==null||y.call(v,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}sd.displayName="React Quill";sd.Quill=ce;sd.defaultProps={theme:"snow",modules:{},readOnly:!1};function PT(n){Promise.resolve().then(n)}function u7(){console.log("NewProject Component Mounted/Rendered");const[n,e]=G.useState(""),[t,r]=G.useState(""),[i,o]=G.useState(""),[l,u]=G.useState(null),[d,f]=G.useState(!1),m=$a(),v=async T=>{try{const S=new FormData;S.append("file",T),S.append("upload_preset","unsigned_preset");const P=await fetch("https://api.cloudinary.com/v1_1/dysrm7xcr/image/upload",{method:"POST",body:S});if(!P.ok)throw new Error("Upload failed with status "+P.status);const N=await P.json();if(!N.secure_url)throw new Error("No secure_url in response");return N.secure_url}catch(S){console.error("Cloudinary upload error:",S);return}},y=async T=>{if(T.preventDefault(),!n||!t||!i||!l){alert("Please fill in all fields");return}f(!0);try{const S=await v(l),P=await XL(Xg(Va,"projects"),{title:n,description:t,body:i,imgUrl:S,createdAt:Ht.now()});alert("Project created successfully"),m(`/projects/${P.id}`)}catch(S){console.error("Failed to create project: ",S)}finally{f(!1)}};return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"D B I CIPTA | Create New Project"}),b.jsx("meta",{name:"description",content:"Form to create a new project in the Damas Bahagia Ika Cipta portfolio."})]}),b.jsx(Rr,{id:"new-project",children:b.jsxs("div",{className:"container",children:[b.jsx("h2",{children:"Create New Project"}),b.jsx("div",{className:"form-container",children:b.jsxs("form",{onSubmit:y,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-image",children:"Image: "}),b.jsx("input",{type:"file",accept:"image/*",id:"project-image",required:!0,onChange:T=>u(T.target.files[0])})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-title",children:"Title: "}),b.jsx("input",{type:"text",autoComplete:"off",required:!0,id:"project-title",value:n,onChange:T=>e(T.target.value)})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-description",children:"Description: "}),b.jsx("textarea",{id:"project-description",rows:"3",required:!0,value:t,disabled:d,maxLength:160,placeholder:"Short summary of the project (max. 160 characters)",onChange:T=>r(T.target.value)}),b.jsxs("small",{children:[t.length,"/160"]})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-body",children:"Body: "}),b.jsx(sd,{theme:"snow",id:"project-body",value:i,onChange:o})]}),b.jsxs("div",{className:"form-button",children:[b.jsx("button",{type:"button",className:"button",onClick:()=>m("/admin"),disabled:d,children:"Close"}),b.jsx("button",{type:"submit",className:"button",disabled:d,children:d?"Saving...":"Save"})]})]})})]})}),b.jsx(yu,{})]})}function c7(){const n=$a(),e=async()=>{try{const r=(await o3(Zc,eD)).user;console.log("Logged-in with Google as UID: ",r.uid),n("/admin")}catch(t){console.error("Error during Google login:",t),alert("Login with Google failed. Please check your connection or try again.")}};return b.jsxs(b.Fragment,{children:[b.jsxs(Pa,{children:[b.jsx("title",{children:"D B I CIPTA | Sign in"}),b.jsx("meta",{name:"description",content:"Sign in page for Damas Bahagia Ika Cipta Portofolio"})]}),b.jsx(Rr,{id:"login-page",children:b.jsx("div",{className:"container",children:b.jsxs("div",{className:"form-container",children:[b.jsxs("div",{className:"form-heading",children:[b.jsx("img",{src:Uy,alt:""}),b.jsx("h4",{children:"Sign in to verify your Identity"})]}),b.jsx("div",{className:"form-body",children:b.jsxs("form",{children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"email",children:"Email: "}),b.jsx("input",{type:"text"})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"password",children:"Password: "}),b.jsx("input",{type:"password"})]}),b.jsxs("div",{className:"input-button",children:[b.jsx("button",{type:"submit",className:"button",children:"Sign in"}),b.jsxs("div",{className:"google-login",onClick:e,children:[b.jsx(FN,{className:"icon"}),b.jsx("span",{children:"Sign in with Google"})]})]})]})})]})})})]})}function d7(){const{id:n}=HT(),[e,t]=G.useState(""),[r,i]=G.useState(""),[o,l]=G.useState(""),[u,d]=G.useState(null),[f,m]=G.useState(!1),v=$a();G.useEffect(()=>{document.title=`Edit Project | ${e}`},[e]),G.useEffect(()=>{async function T(){try{const S=Cc(Va,"projects",n),P=await rI(S);if(P.exists()){const N=P.data();t(N.title||""),i(N.body||""),l(N.imgUrl||"")}else alert("Project not found"),v("/admin")}catch(S){console.error("Error getting project:",S),alert("Failed to load project"),v("/admin")}}T()},[n,v]);const y=async T=>{if(T.preventDefault(),!e||!r){alert("Please fill in title and body");return}m(!0);try{let S=o;u&&alert("Uploading new image feature belum diimplementasi. Simpan tanpa update gambar.");const P=Cc(Va,"projects",n);await QL(P,{title:e,body:r,imgUrl:S,updatedAt:Ht.now()}),alert("Project updated successfully"),v("/admin")}catch(S){console.error("Failed to update project:",S),alert("Failed to update project")}finally{m(!1)}};return b.jsxs(b.Fragment,{children:[b.jsx(Rr,{id:"edit-project",children:b.jsxs("div",{className:"container",children:[b.jsx("h2",{children:"Edit Project"}),b.jsx("div",{className:"form-container",children:b.jsxs("form",{onSubmit:y,children:[b.jsxs("div",{className:"input-group",children:[b.jsx("label",{children:"Current Image:"}),o?b.jsx("img",{src:o,alt:"Project",style:{maxWidth:"300px",marginBottom:"1rem",aspectRatio:"16/9",height:"auto",objectFit:"cover"}}):b.jsx("p",{children:"No image available"})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-image",children:"Change Image (optional): "}),b.jsx("input",{type:"file",accept:"image/*",id:"project-image",onChange:T=>d(T.target.files[0])})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-title",children:"Title: "}),b.jsx("input",{type:"text",id:"project-title",value:e,onChange:T=>t(T.target.value)})]}),b.jsxs("div",{className:"input-group",children:[b.jsx("label",{htmlFor:"project-body",children:"Body: "}),b.jsx(sd,{theme:"snow",id:"project-body",value:r,onChange:i})]}),b.jsxs("div",{className:"form-button",children:[b.jsx("button",{type:"button",className:"button",onClick:()=>v("/admin"),disabled:f,children:"Cancel"}),b.jsx("button",{type:"submit",className:"button",disabled:f,children:f?"Saving...":"Save Changes"})]})]})})]})}),b.jsx(yu,{})]})}function _g({children:n,requireAdmin:e=!1}){const[t,r]=G.useState(null),[i,o]=G.useState(!0),[l,u]=G.useState(!1);return console.log("--- PrivateRoute Initialized ---"),console.log("  User (UID):",t?t.uid:"null"),console.log("  Has Checked Auth:",l),console.log("---------------------------"),G.useEffect(()=>{const d=bI(Zc,f=>{console.log("onAuthStateChanged callback fired! Firebase User Received:",f?f.uid:"null"),r(f),o(!1),u(!0)});return()=>{d()}},[]),i||!l?b.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Checking access..."}):t?e&&(!t.uid||!nD.includes(t.uid.trim()))?b.jsx(Mw,{to:"/",replace:!0}):(console.log("PrivateRoute: Acess GRANTED"),n):b.jsx(Mw,{to:"/login",replace:!0})}function h7(){return b.jsx(vN,{children:b.jsx(KN,{children:b.jsxs(K2,{children:[b.jsx(os,{element:b.jsx(XN,{}),children:b.jsx(os,{path:"/",element:b.jsx(m5,{})})}),b.jsxs(os,{element:b.jsx(iD,{}),children:[b.jsx(os,{path:"/login",element:b.jsx(c7,{})}),b.jsx(os,{path:"/projects",element:b.jsx(g5,{})}),b.jsx(os,{path:"/projects/:id",element:b.jsx(y5,{})}),b.jsx(os,{path:"/admin",element:b.jsx(_g,{requireAdmin:!0,children:b.jsx(w5,{})})}),b.jsx(os,{path:"/admin/new-project",element:b.jsx(_g,{requireAdmin:!0,children:b.jsx(u7,{})})}),b.jsx(os,{path:"/admin/edit-project/:id",element:b.jsx(_g,{requireAdmin:!0,children:b.jsx(d7,{})})})]})]})})})}NC.createRoot(document.getElementById("root")).render(b.jsx(G.StrictMode,{children:b.jsx(jT,{children:b.jsx(h7,{})})}))});export default f7();
